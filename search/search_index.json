{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"\u7d39\u4ecb","text":""},{"location":"#_1","title":"\u7d39\u4ecb","text":"<p>PDM \u306f\u3001\u6700\u65b0\u306e PEP \u6a19\u6e96\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u30e2\u30c0\u30f3\u306a Python \u30d1\u30c3\u30b1\u30fc\u30b8\u304a\u3088\u3073\u4f9d\u5b58\u95a2\u4fc2\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u3068\u3057\u3066\u8aac\u660e\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u305d\u308c\u306f\u5358\u306a\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u3055\u307e\u3056\u307e\u306a\u5074\u9762\u3067\u958b\u767a\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u3092\u5f37\u5316\u3057\u307e\u3059\u3002</p>"},{"location":"#_2","title":"\u7279\u5fb4\u306e\u30cf\u30a4\u30e9\u30a4\u30c8","text":"<ul> <li>\u5927\u898f\u6a21\u306a\u30d0\u30a4\u30ca\u30ea\u914d\u5e03\u7269\u5411\u3051\u306e\u30b7\u30f3\u30d7\u30eb\u3067\u9ad8\u901f\u306a\u4f9d\u5b58\u95a2\u4fc2\u89e3\u6c7a\u30c4\u30fc\u30eb\u3002</li> <li>PEP 517 \u30d3\u30eb\u30c9\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3002</li> <li>PEP 621 \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30e1\u30bf\u30c7\u30fc\u30bf\u3002</li> <li>\u67d4\u8edf\u3067\u5f37\u529b\u306a\u30d7\u30e9\u30b0\u30a4\u30f3\u30b7\u30b9\u30c6\u30e0\u3002</li> <li>\u591a\u7528\u9014\u306a\u30e6\u30fc\u30b6\u30fc\u30b9\u30af\u30ea\u30d7\u30c8\u3002</li> <li>indygreg's python-build-standalone \u3092\u4f7f\u7528\u3057\u3066 Python \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002</li> <li>pnpm \u306e\u3088\u3046\u306a\u30aa\u30d7\u30c8\u30a4\u30f3\u306e\u96c6\u4e2d\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30ad\u30e3\u30c3\u30b7\u30e5\u3002</li> </ul>"},{"location":"#_3","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<p>PDM \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u306b\u306f Python 3.8 \u4ee5\u4e0a\u304c\u5fc5\u8981\u3067\u3059\u3002Windows\u3001Linux\u3001macOS \u3092\u542b\u3080\u8907\u6570\u306e\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u3067\u52d5\u4f5c\u3057\u307e\u3059\u3002</p> <p>Note</p> <p>\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u3088\u308a\u4f4e\u3044 Python \u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u52d5\u4f5c\u3055\u305b\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u65b9\u6cd5\u306b\u3064\u3044\u3066\u306f\u3053\u3061\u3089\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"#_4","title":"\u63a8\u5968\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5","text":"<p>PDM \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u306b\u306f Python \u30d0\u30fc\u30b8\u30e7\u30f3 3.8 \u4ee5\u4e0a\u304c\u5fc5\u8981\u3067\u3059\u3002</p> <p>Pip \u3068\u540c\u69d8\u306b\u3001PDM \u306f PDM \u3092\u5206\u96e2\u3055\u308c\u305f\u74b0\u5883\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002</p> Linux/MacWindows <pre><code>curl -sSL https://pdm-project.org/install-pdm.py | python3 -\n</code></pre> <pre><code>powershell -ExecutionPolicy ByPass -c \"irm https://pdm-project.org/install-pdm.py | py -\"\n</code></pre> <p>Note</p> <p>Windows \u3067\u306f\u3001\u30aa\u30d7\u30b7\u30e7\u30f3\u306e <code>py</code> \u30e9\u30f3\u30c1\u30e3\u30fc\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\uff08Microsoft \u30b9\u30c8\u30a2\u304b\u3089 Python \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u5834\u5408\u3092\u542b\u3080\uff09\u3001<code>py</code> \u3092 <code>python</code> \u306b\u7f6e\u304d\u63db\u3048\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u4e0a\u306e\u7406\u7531\u304b\u3089\u3001<code>install-pdm.py</code> \u306e\u30c1\u30a7\u30c3\u30af\u30b5\u30e0\u3092\u78ba\u8a8d\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 install-pdm.py.sha256 \u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3067\u304d\u307e\u3059\u3002</p> <p>\u305f\u3068\u3048\u3070\u3001Linux/Mac \u3067\u306f\u6b21\u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002</p> <pre><code>curl -sSLO https://pdm-project.org/install-pdm.py\ncurl -sSL https://pdm-project.org/install-pdm.py.sha256 | shasum -a 256 -c -\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u30fc\u3092\u5b9f\u884c\u3057\u307e\u3059\npython3 install-pdm.py [options]\n</code></pre> <p>\u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u30fc\u306f PDM \u3092\u30e6\u30fc\u30b6\u30fc\u30b5\u30a4\u30c8\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3001\u5834\u6240\u306f\u30b7\u30b9\u30c6\u30e0\u306b\u3088\u3063\u3066\u7570\u306a\u308a\u307e\u3059\u3002</p> <ul> <li>Unix \u306e\u5834\u5408\u306f <code>$HOME/.local/bin</code></li> <li>MacOS \u306e\u5834\u5408\u306f <code>$HOME/Library/Python/&lt;version&gt;/bin</code></li> <li>Windows \u306e\u5834\u5408\u306f <code>%APPDATA%\\Python\\Scripts</code></li> </ul> <p>\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u8ffd\u52a0\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6e21\u3057\u3066\u3001PDM \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u3092\u5236\u5fa1\u3067\u304d\u307e\u3059\u3002</p> <pre><code>usage: install-pdm.py [-h] [-v VERSION] [--prerelease] [--remove] [-p PATH] [-d DEP]\n\noptional arguments:\n  -h, --help            show this help message and exit\n  -v VERSION, --version VERSION | envvar: PDM_VERSION\n                        Specify the version to be installed, or HEAD to install from the main branch\n  --prerelease | envvar: PDM_PRERELEASE    Allow prereleases to be installed\n  --remove | envvar: PDM_REMOVE            Remove the PDM installation\n  -p PATH, --path PATH | envvar: PDM_HOME  Specify the location to install PDM\n  -d DEP, --dep DEP | envvar: PDM_DEPS     Specify additional dependencies, can be given multiple times\n</code></pre> <p>\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u5f8c\u306b\u6e21\u3059\u304b\u3001\u74b0\u5883\u5909\u6570\u306e\u5024\u3092\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"#_5","title":"\u305d\u306e\u4ed6\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5","text":"HomebrewScoopuvpipxpipasdf\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u5185 <pre><code>brew install pdm\n</code></pre> <pre><code>scoop bucket add frostming https://github.com/frostming/scoop-frostming.git\nscoop install pdm\n</code></pre> <pre><code>uv tool install pdm\n</code></pre> <pre><code>pipx install pdm\n</code></pre> <p>GitHub \u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u30d8\u30c3\u30c9\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002 \u30b7\u30b9\u30c6\u30e0\u306b Git LFS \u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <pre><code>pipx install git+https://github.com/pdm-project/pdm.git@main#egg=pdm\n</code></pre> <p>PDM \u3092\u3059\u3079\u3066\u306e\u6a5f\u80fd\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u306b\u306f\u6b21\u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002</p> <pre><code>pipx install pdm[all]\n</code></pre> <p>\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3001https://pypa.github.io/pipx/ \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <pre><code>pip install --user pdm\n</code></pre> <p>asdf \u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u524d\u63d0\u3068\u3057\u3066\u3044\u307e\u3059\u3002 <pre><code>asdf plugin add pdm\nasdf local pdm latest\nasdf install pdm\n</code></pre></p> <p>Pyprojectx \u30e9\u30c3\u30d1\u30fc\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u30b3\u30d4\u30fc\u3059\u308b\u3053\u3068\u3067\u3001PDM \u3092 (npm \u30b9\u30bf\u30a4\u30eb\u306e) \u958b\u767a\u4f9d\u5b58\u95a2\u4fc2\u3068\u3057\u3066\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u5185\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u7570\u306a\u308b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8/\u30d6\u30e9\u30f3\u30c1\u304c\u7570\u306a\u308b PDM \u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u4f7f\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p> <p>\u65b0\u3057\u3044\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u307e\u305f\u306f\u65e2\u5b58\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u521d\u671f\u5316\u3059\u308b \u306b\u306f\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30d5\u30a9\u30eb\u30c0\u30fc\u306b\u79fb\u52d5\u3057\u3066\u6b21\u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002</p> Linux/MacWindows <pre><code>curl -LO https://github.com/pyprojectx/pyprojectx/releases/latest/download/wrappers.zip &amp;&amp; unzip wrappers.zip &amp;&amp; rm -f wrappers.zip\n./pw --add pdm\n</code></pre> <pre><code>Invoke-WebRequest https://github.com/pyprojectx/pyprojectx/releases/latest/download/wrappers.zip -OutFile wrappers.zip; Expand-Archive -Path wrappers.zip -DestinationPath .; Remove-Item -Path wrappers.zip\n.\\pw --add pdm\n</code></pre> <p>\u3053\u306e\u65b9\u6cd5\u3067 pdm \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5834\u5408\u3001\u3059\u3079\u3066\u306e <code>pdm</code> \u30b3\u30de\u30f3\u30c9\u3092 <code>pw</code> \u30e9\u30c3\u30d1\u30fc\u3092\u901a\u3058\u3066\u5b9f\u884c\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> Linux/Mac/Windows <pre><code>./pw pdm install\n</code></pre>"},{"location":"#pdm","title":"PDM \u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u66f4\u65b0","text":"<pre><code>pdm self update\n</code></pre>"},{"location":"#_6","title":"\u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<p>\u30b7\u30b9\u30c6\u30e0\u304b\u3089 PDM \u3092\u524a\u9664\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u5834\u5408\u306f\u3001\u6b21\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002</p> Linux/MacWindows <pre><code>curl -sSL https://pdm-project.org/install-pdm.py | python3 - --remove\n</code></pre> <pre><code>powershell -ExecutionPolicy ByPass -c \"irm https://pdm-project.org/install-pdm.py | py - --remove\"\n</code></pre> <p>Homebrew \u306a\u3069\u306e\u30b5\u30fc\u30c9\u30d1\u30fc\u30c6\u30a3\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u7ba1\u7406\u30c4\u30fc\u30eb\u3092\u4f7f\u7528\u3057\u3066 PDM \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u5834\u5408\u306f\u3001\u30c4\u30fc\u30eb\u306e\u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u3092\u4f7f\u7528\u3057\u3066 PDM \u3092\u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u305f\u3068\u3048\u3070\u3001<code>brew uninstall pdm</code> \u306a\u3069\u3067\u3059\u3002</p>"},{"location":"#_7","title":"\u30d1\u30c3\u30b1\u30fc\u30b8\u30f3\u30b0\u30b9\u30c6\u30fc\u30bf\u30b9","text":""},{"location":"#_8","title":"\u30b7\u30a7\u30eb\u88dc\u5b8c","text":"<p>PDM \u306f Bash\u3001Zsh\u3001Fish\u3001\u307e\u305f\u306f Powershell \u7528\u306e\u88dc\u5b8c\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u751f\u6210\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\u5404\u30b7\u30a7\u30eb\u306e\u4e00\u822c\u7684\u306a\u5834\u6240\u306f\u6b21\u306e\u3068\u304a\u308a\u3067\u3059\u3002</p> BashZshFishPowershell <pre><code>pdm completion bash &gt; /etc/bash_completion.d/pdm.bash-completion # \u30eb\u30fc\u30c8 (sudo) \u304c\u5fc5\u8981\u3067\u3059\u3002\u4ee3\u66ff\u624b\u6bb5\u306b\u3064\u3044\u3066\u306f\u6b21\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\npdm completion bash &gt; ~/.bash_completion # \u30eb\u30fc\u30c8 (sudo) \u306f\u4e0d\u8981\u3067\u3059\u3002\u30e6\u30fc\u30b6\u30fc\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u306e\u307f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3059\u3002\n</code></pre> <pre><code># ~/.zfunc \u304c fpath \u306b\u8ffd\u52a0\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3001compinit \u306e\u524d\u306b\u8ffd\u52a0\u3057\u307e\u3059\u3002\npdm completion zsh &gt; ~/.zfunc/_pdm\n</code></pre> <p>Oh-My-Zsh:</p> <pre><code>mkdir $ZSH_CUSTOM/plugins/pdm\npdm completion zsh &gt; $ZSH_CUSTOM/plugins/pdm/_pdm\n</code></pre> <p>\u6b21\u306b\u3001~/.zshrc \u3067 pdm \u30d7\u30e9\u30b0\u30a4\u30f3\u304c\u6709\u52b9\u306b\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</p> <pre><code>pdm completion fish &gt; ~/.config/fish/completions/pdm.fish\n</code></pre> <pre><code># \u88dc\u5b8c\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4fdd\u5b58\u3059\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\nmkdir $PROFILE\\..\\Completions\necho @'\nGet-ChildItem \"$PROFILE\\..\\Completions\\\" | ForEach-Object {\n    . $_.FullName\n}\n'@ | Out-File -Append -Encoding utf8 $PROFILE\n# \u30b9\u30af\u30ea\u30d7\u30c8\u3092\u751f\u6210\u3057\u307e\u3059\u3002\nSet-ExecutionPolicy Unrestricted -Scope CurrentUser\npdm completion powershell | Out-File -Encoding utf8 $PROFILE\\..\\Completions\\pdm_completion.ps1\n</code></pre>"},{"location":"#virtualenv-pep-582","title":"Virtualenv \u3068 PEP 582","text":"<p>PDM \u306f\u3001\u4eee\u60f3\u74b0\u5883\u7ba1\u7406\u306b\u52a0\u3048\u3066\u3001\u30aa\u30d7\u30c8\u30a4\u30f3\u6a5f\u80fd\u3068\u3057\u3066 PEP 582 \u306e\u5b9f\u9a13\u7684\u30b5\u30dd\u30fc\u30c8\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002Python \u30b9\u30c6\u30a2\u30ea\u30f3\u30b0 \u30ab\u30a6\u30f3\u30b7\u30eb\u306f PEP 582 \u3092\u62d2\u5426\u3057\u307e\u3057\u305f \u304c\u3001PDM \u3092\u4f7f\u7528\u3057\u3066\u30c6\u30b9\u30c8\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u3059\u3002</p> <p>2 \u3064\u306e\u30e2\u30fc\u30c9\u306e\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3001\u4eee\u60f3\u74b0\u5883\u306e\u4f7f\u7528 \u304a\u3088\u3073 PEP 582 \u306e\u4f7f\u7528 \u306b\u95a2\u3059\u308b\u95a2\u9023\u7ae0\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"#pdm_1","title":"PDM \u30a8\u30b3\u30b7\u30b9\u30c6\u30e0","text":"<p>Awesome PDM \u306f\u3001\u7d20\u6674\u3089\u3057\u3044 PDM \u30d7\u30e9\u30b0\u30a4\u30f3\u3068\u30ea\u30bd\u30fc\u30b9\u306e\u30ad\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3055\u308c\u305f\u30ea\u30b9\u30c8\u3067\u3059\u3002</p>"},{"location":"#_9","title":"\u30b9\u30dd\u30f3\u30b5\u30fc","text":""},{"location":"dev/benchmark/","title":"Benchmark","text":"<p>This page has been removed, please visit Python Package Manager Shootout by Lincoln Loop for a detailed benchmark report.</p>"},{"location":"dev/changelog/","title":"Changelog","text":"<p>Attention</p> <p>Major and minor releases also include changes listed within prior beta releases.</p>"},{"location":"dev/changelog/#release-v2193-2024-10-19","title":"Release v2.19.3 (2024-10-19)","text":""},{"location":"dev/changelog/#features-improvements","title":"Features &amp; Improvements","text":"<ul> <li>Allow linking existing Python interpreters to PDM's managed location. (#3215)</li> </ul>"},{"location":"dev/changelog/#bug-fixes","title":"Bug Fixes","text":"<ul> <li>Fix a bug that overrides provided by environment variables do not work. (#3182)</li> <li>Allow prereleases when the requirement is pinned even if disabled by project (#3202)</li> <li>Pass the python path to the uv venv command. (#3204)</li> <li>Fix the infinite loop when running in uv mode if the current project has dynamic metadata. (#3207)</li> <li>Add <code>--no-frozen-deps</code> option to <code>install-pdm.py</code> script to allow installing newer versions of dependencies. (#3213)</li> <li><code>pdm self update</code> now prefers the locked dependencies unless <code>--no-frozen-deps</code> is specified. (#3216)</li> <li>By default, <code>pdm outdated</code> will only list direct dependencies. This can be changed by adding the <code>--include-sub</code> option. (#3218)</li> </ul>"},{"location":"dev/changelog/#documentation","title":"Documentation","text":"<ul> <li>Show users the way to uninstall pdm in a more obvious way (#2470)</li> </ul>"},{"location":"dev/changelog/#release-v2192-2024-10-11","title":"Release v2.19.2 (2024-10-11)","text":""},{"location":"dev/changelog/#features-improvements_1","title":"Features &amp; Improvements","text":"<ul> <li>Support installing free-threaded Python interpreters with the <code>t</code> suffix. (#3201)</li> </ul>"},{"location":"dev/changelog/#bug-fixes_1","title":"Bug Fixes","text":"<ul> <li><code>use_uv</code> fails to lock when there are non-ascii characters in pyproject.toml on Windows. (#3181)</li> <li>Fix the <code>pre_install</code> and <code>post_install</code> signals receiving an exhausted generator, instead of a list of packages. (#3190)</li> <li>Create backup file with random filename to avoid conflicts. (#3193)</li> <li>Fix the logic error in the <code>uv</code> format marker matching. (#3197)</li> <li><code>pdm lock --check</code> on a lockfile generated with older PDM version has a 0 exit code when there's a change in <code>pyproject.toml</code>. (#3199)</li> </ul>"},{"location":"dev/changelog/#documentation_1","title":"Documentation","text":"<ul> <li>Fixed Bash Completion suggestion so it doesn't require root privileges (#3183)</li> </ul>"},{"location":"dev/changelog/#release-v2191-2024-09-23","title":"Release v2.19.1 (2024-09-23)","text":""},{"location":"dev/changelog/#bug-fixes_2","title":"Bug Fixes","text":"<ul> <li>PDM libraries are not loaded correctly for in-process scripts when installed in the user site. (#3178)</li> </ul>"},{"location":"dev/changelog/#release-v2190-2024-09-23","title":"Release v2.19.0 (2024-09-23)","text":""},{"location":"dev/changelog/#breaking-changes","title":"Breaking Changes","text":"<ul> <li>The minimum supported Python version of projects using PDM has been bumped to 3.8. (#3176)</li> </ul>"},{"location":"dev/changelog/#bug-fixes_3","title":"Bug Fixes","text":"<ul> <li>Fallback version to 0.0.0 when the version is not specified or empty. This can avoid crash when building such project. (#3163)</li> <li>Ensures that  <code>/</code> is URL encoded in sources URL environment variables. (#3169)</li> <li>Call functions from shared library in the in-process <code>env_spec.py</code> script. (#3176)</li> </ul>"},{"location":"dev/changelog/#removals-and-deprecations","title":"Removals and Deprecations","text":"<ul> <li>PDM no longer falls back to <code>setuptools-pep660</code> when the build backend doesn't support PEP 660. (#3159)</li> </ul>"},{"location":"dev/changelog/#miscellany","title":"Miscellany","text":"<ul> <li>Change the project structure to a normal package from a namespace package. (#3155)</li> </ul>"},{"location":"dev/changelog/#release-v2182-2024-09-10","title":"Release v2.18.2 (2024-09-10)","text":""},{"location":"dev/changelog/#bug-fixes_4","title":"Bug Fixes","text":"<ul> <li>Respect the <code>excludes</code> and <code>overrides</code> settings when installing packages. (#3113)</li> <li>Fix a bug of export command that packages with extras are included twice. (#3123)</li> <li>Remove empty groups when removing packages with <code>pdm remove</code>. (#3133)</li> <li>When running <code>pdm venv purge</code>, if the current project's python version had been referencing the removed venv then clear it out. (#3137)</li> <li>Fix command <code>pdm config</code> to not show site configuration file path if it doesn't exist. (#3149)</li> <li>Now when <code>--no-markers</code> is used, the exported requirements can only work on the current platform. (#3152)</li> </ul>"},{"location":"dev/changelog/#miscellany_1","title":"Miscellany","text":"<ul> <li>Skip tests related to python installation on non-standard platforms. (#3053)</li> </ul>"},{"location":"dev/changelog/#release-v2190a0-2024-09-05","title":"Release v2.19.0a0 (2024-09-05)","text":""},{"location":"dev/changelog/#breaking-changes_1","title":"Breaking Changes","text":"<ul> <li><code>pre_install</code> and <code>post_install</code> signals now receive the list of packages to be installed, instead of a candidate mapping. (#3144)</li> </ul>"},{"location":"dev/changelog/#features-improvements_2","title":"Features &amp; Improvements","text":"<ul> <li>Deprecate <code>Core.synchronizer_class</code> attribute. To get the synchronizer class, use <code>Project.get_synchronizer</code> method instead.   Deprecate <code>Core.resolver_class</code> attribute. To get the resolver class, use <code>Project.get_resolver</code> method instead. (#3144)</li> <li>Add experimental support for <code>uv</code> as the resolver and installer. One can opt in by setting <code>use_uv</code> to <code>true</code> using <code>pdm config</code> command. (#3144)</li> </ul>"},{"location":"dev/changelog/#release-v2181-2024-08-16","title":"Release v2.18.1 (2024-08-16)","text":""},{"location":"dev/changelog/#bug-fixes_5","title":"Bug Fixes","text":"<ul> <li>Skip checking <code>project.name</code> if it is absent when running <code>pdm outdated</code>. (#3095)</li> <li>Don't remove the <code>cross_platform</code> strategy from old lock files. (#3105)</li> <li>Fix a bug that the VCS revision is lost if the candidate metadata is cached during resolution. (#3107)</li> <li>Fix a bug that PDM can't delete source password when saved in keyring. (#3108)</li> </ul>"},{"location":"dev/changelog/#release-v2180-2024-08-14","title":"Release v2.18.0 (2024-08-14)","text":""},{"location":"dev/changelog/#features-improvements_3","title":"Features &amp; Improvements","text":"<ul> <li>Respect certificates in env vars <code>REQUESTS_CA_BUNDLE</code> and <code>CURL_CA_BUNDLE</code> when verifying SSL certificates. (#3076)</li> <li>Allow pypi.verify_ssl to be configured via PDM_PYPI_VERIFY_SSL environmental variable. (#3081)</li> <li>Clean logs older than 7 days. (#3091)</li> <li>Polish the UI looking of locking packages to display the progress. (#3100)</li> </ul>"},{"location":"dev/changelog/#bug-fixes_6","title":"Bug Fixes","text":"<ul> <li>Fixed <code>pdm venv activate</code> to remove quotes such that <code>iex (pdm venv activate)</code> works correctly (#2895)</li> <li>Don't crash if the version can't be resolved from the self project. (#3077)</li> <li>Don't fail <code>install-pdm.py</code> if there is an invalid <code>pyproject.toml</code> file under the current directory. (#3085)</li> <li>Make it able to expand env vars in the the dotenv file. Expose <code>PDM_PROJECT_ROOT</code> to the dotenv file for expansion. (#3087)</li> <li>Fix a bug that Python markers from the existing locked packages are considered when locking with <code>--append</code> option. (#3089)</li> <li>Backfill urls from configured indexed when exporting to requirements.txt. (#3094)</li> <li>Consider the auto-selected Python range when installing from requirements.txt. (#3095)</li> <li>Fix a bug that env vars do not override project config correctly. (#3099)</li> </ul>"},{"location":"dev/changelog/#release-v2173-2024-08-01","title":"Release v2.17.3 (2024-08-01)","text":""},{"location":"dev/changelog/#bug-fixes_7","title":"Bug Fixes","text":"<ul> <li>Fix a crash issue when <code>requires-python</code> is absent in the project metadata. (#3062)</li> <li>Now correctly sets related config for PDM_IGNORE_SAVED_PYTHON when it is set to \"false\", \"no\", \"0\". (#3064)</li> <li>Fix a bug that PDM plugins installed from project-root cannot be loaded, if they have dependencies. (#3067)</li> </ul>"},{"location":"dev/changelog/#release-v2172-2024-07-31","title":"Release v2.17.2 (2024-07-31)","text":""},{"location":"dev/changelog/#features-improvements_4","title":"Features &amp; Improvements","text":"<ul> <li>Improve the installation progress output to show the time elapsed. (#3051)</li> <li>The effect of <code>pypi.ignore_stored_index</code> changes a bit. Now even if it is true, index configurations in the config will still be loaded if the index is listed in the <code>pyproject.toml</code>. (#3052)</li> </ul>"},{"location":"dev/changelog/#bug-fixes_8","title":"Bug Fixes","text":"<ul> <li>Ignore invalid requires-python values from index. (#3038)</li> <li>Fix the group selection logic, to make <code>--without GROUP</code> work as expected. (#3045)</li> <li>Suppress outputs for <code>pdm python install --quiet</code>. (#3049)</li> </ul>"},{"location":"dev/changelog/#release-v2171-2024-07-19","title":"Release v2.17.1 (2024-07-19)","text":""},{"location":"dev/changelog/#bug-fixes_9","title":"Bug Fixes","text":"<ul> <li>Raise dep-logic lower bound to 0.4.2 to fix issues with pdm lock after upgrading from older pdm versions (#3033)</li> <li>Correct the current platform and architecture for win32 and macos systems. (#3035)</li> </ul>"},{"location":"dev/changelog/#miscellany_2","title":"Miscellany","text":"<ul> <li>Fix zsh completions (#3031)</li> </ul>"},{"location":"dev/changelog/#release-v2170-2024-07-18","title":"Release v2.17.0 (2024-07-18)","text":""},{"location":"dev/changelog/#breaking-changes_2","title":"Breaking Changes","text":"<ul> <li><code>LockedRepository.all_candidates</code> now returns a <code>dict[str, list[Candidate]]</code> instead of <code>dict[str, Candidate]</code>. (#2995)</li> <li><code>post_lock</code> hook now receives a resolution result of type <code>dict[str, list[Candidate]]</code>, instead of <code>dict[str, Candidate]</code>. (#2995)</li> </ul>"},{"location":"dev/changelog/#features-improvements_5","title":"Features &amp; Improvements","text":"<ul> <li>Support reading requirement constraints from pip-style requirement files for \"overriding\" via <code>--override</code> option. (#2896)</li> <li>Add a <code>--non-interactive</code> option for automation scenarios, also interactive prompts will not show up when not running in an interactive terminal. (#2934)</li> <li>Refactored <code>pdm python install --list</code> to reuse the same implementation as other cli commands that work with Python interpreters from pbs_installer. (#2977)</li> <li>Add <code>--license</code> and <code>--project-version</code> as CLI options to control and streamline them during <code>pdm init</code> - especially in automated scenarios with <code>--non-interactive</code> (#2978)</li> <li>Run pdm sync in \"post-rewrite\" stage of pre-commit (#2994)</li> <li><code>Project.get_dependencies()</code> now returns a list of <code>Requirement</code> instead of a mapping.   The first argument of <code>Project.add_dependencies()</code> now accepts a list of <code>Requirement</code> instead of a mapping.   The old usage will be kept working for a short period of time and will be removed in the future. (#2995)</li> <li>Support locking for specific target, which is a combination of (python, platform, implementation) triple. Bump lock file version to <code>4.5.0</code>.</li> </ul> <p>Example usage: <code>pdm lock --platform=linux --python=\"==3.8.*\" --implementation=cpython</code>. See the docs for more details. (#2995) - Rename <code>--reuse-env</code> to <code>--recreate</code> for <code>run</code> command, and reverse the behavior. (#2999) - PDM is now published with optional pinned dependencies using the pdm plugin pdm-build-locked.</p> <p>To install pdm with its dependencies pinned to the versions it was tested with, run:</p> <pre><code>    pipx install pdm[locked]\n</code></pre> <p>To install optional dependency group copier:</p> <pre><code>    pipx install pdm[locked,copier-locked]\n</code></pre> <p>This feature is entirely optional. Installing pdm without the extra will work the same way as before this change. (#3001) - Added <code>--clean-unselected</code> alias for <code>--only-keep</code> (#3007) - Group options for update strategy and save strategy. (#3016)</p>"},{"location":"dev/changelog/#bug-fixes_10","title":"Bug Fixes","text":"<ul> <li>When locking dependencies that references the self project, the referenced groups should also be recorded in the lockfile. (#2976)</li> <li>Retry failed installation jobs if they are run sequentially, such as for editable dependencies. (#3005)</li> <li>Fix the local path issue when <code>-p</code> is passed to change the project root. (#3009)</li> <li>Fix a bug that PDM can't install editable self package with non-isolated build in one go. (#3018)</li> <li>Add context when parsing version failed. (#3020)</li> <li>Fix a mistake in build env setup that will cause the <code>PATH</code> env var length to grow. (#3022)</li> </ul>"},{"location":"dev/changelog/#removals-and-deprecations_1","title":"Removals and Deprecations","text":"<ul> <li>Remove the deprecation warning of <code>BaseCommand.__init__()</code> method. Now it doesn't take any arguments. (#2995)</li> <li><code>Provider.get_reuse_candidate()</code> method is deprecated in favor of <code>Provider.iter_reuse_candidates()</code>, to return an iterable of reuse candidates. (#2995)</li> <li><code>--no-markers</code> option in <code>pdm export</code> command becomes a no-op and is marked as deprecated, because it doesn't make sense anymore. (#2995)</li> <li><code>ignore_compatibility</code> parameter of <code>Project.get_provider()</code>/<code>Project.get_repository()</code>/<code>Environment.get_finder()</code> is deprecated. Pass in a <code>EnvSpec</code> via <code>env_spec</code> parameter instead.   <code>requires_python</code> parameter of <code>pdm.resolver.core.resolve()</code> function is deprecated and has no effect.   <code>cross_platform</code> parameter of <code>pdm.cli.actions.resolve_candidates_from_lockfile()</code> function is deprecated and has no effect. (#2995)</li> </ul>"},{"location":"dev/changelog/#release-v2161-2024-06-26","title":"Release v2.16.1 (2024-06-26)","text":""},{"location":"dev/changelog/#bug-fixes_11","title":"Bug Fixes","text":"<ul> <li>Fix new interface from pbs_installer regarding <code>build_dir</code> and best match auto-install strategy for <code>pdm use</code>   (same as for <code>pdm python install --list</code>) (#2943)</li> <li>Fix crash when pdm is used with <code>importlib-metadata</code> version 8.0. (#2974)</li> </ul>"},{"location":"dev/changelog/#release-v2160-2024-06-25","title":"Release v2.16.0 (2024-06-25)","text":""},{"location":"dev/changelog/#features-improvements_6","title":"Features &amp; Improvements","text":"<ul> <li>Add <code>--no-extras</code> to <code>pdm export</code> to strip extras from the requirements. Now the default behavior is to keep extras. (#2519)</li> <li>Support PEP 723: running scripts with inline metadata in standalone environment with dependencies. (#2924)</li> <li><code>pdm use</code> and <code>pdm python install</code> now take <code>requires-python</code> into account (incl. from pyproject.toml) if python version   not specified and <code>pdm use</code> provides auto installation by that. (#2943)</li> <li><code>--no-isolation</code> no longer installs <code>build-requires</code> nor dynamic build dependencies, to be consistent with <code>pip</code>. (#2944)</li> <li>Add notifiers in CLI output when global project is being used. (#2952)</li> <li>Use <code>tool.pdm.resolution</code> table when calculating the content hash of project file, previously only <code>overrides</code> table was used.   This will change the hash already stored in the lockfile, so bump the lockfile version to <code>4.4.2</code>. (#2956)</li> </ul>"},{"location":"dev/changelog/#bug-fixes_12","title":"Bug Fixes","text":"<ul> <li>Add max retries on read timeout or bad connection. (#2914)</li> <li>Don't update local files if they don't change. (#2966)</li> <li>Don't list python versions that don't have any installation link for the current platform. (#2970)</li> </ul>"},{"location":"dev/changelog/#documentation_2","title":"Documentation","text":"<ul> <li>Clarify the purposes of <code>pdm outdated</code> and <code>--unconstrained</code> option. (#2965)</li> <li>Some clarifications on the interpreter selection and central package cache. (#2967)</li> </ul>"},{"location":"dev/changelog/#release-v2154-2024-05-30","title":"Release v2.15.4 (2024-05-30)","text":""},{"location":"dev/changelog/#bug-fixes_13","title":"Bug Fixes","text":"<ul> <li>Build wheel from sdist if available, to make sure sdist is built properly. This behavior is consistent with pypa/build. (#2843)</li> <li>Fix the issue of self-referencing extra dependencies failing to be resolved for local packages. (#2898)</li> <li>Fix an issue of max recursion depth error when parsing a poetry project with circular dependencies on local packages. (#2900)</li> <li>Fix a bug that VCS dependencies and <code>--self</code> don't work in the exported requirements.txt with hashes. (#2908)</li> <li>Fix a cache miss when there exist built wheels for a given link. (#2912)</li> <li>Don't try to store caches when <code>--no-cache</code> is given. (#2913)</li> </ul>"},{"location":"dev/changelog/#release-v2153-2024-05-20","title":"Release v2.15.3 (2024-05-20)","text":""},{"location":"dev/changelog/#bug-fixes_14","title":"Bug Fixes","text":"<ul> <li>Fixed pdm venv activate, to also work for windows. And added documentation on how to authenticate to Azure Artifacts (#2851)</li> <li>Don't show unsupported formats in <code>pdm export</code>. (#2877)</li> <li>Proxy (<code>HTTP_PROXY</code> env vars) settings are ignored for custom indexes. (#2880)</li> <li>Fix the quoting of venv activate command for powershell. (#2881)</li> <li>Raise an error if the package given by <code>pdm update</code> does not exist in the select dependency group but in other groups. (#2885)</li> </ul>"},{"location":"dev/changelog/#release-v2152-2024-05-08","title":"Release v2.15.2 (2024-05-08)","text":""},{"location":"dev/changelog/#features-improvements_7","title":"Features &amp; Improvements","text":"<ul> <li>Use <code>get_runner()</code> method to build the task runner in <code>run</code> command. <code>runner_cls</code> attribute is deprecated. (#2872)</li> </ul>"},{"location":"dev/changelog/#bug-fixes_15","title":"Bug Fixes","text":"<ul> <li>Expand <code>${PROJECT_ROOT}</code> in source URLs. (#2846)</li> <li>Fix env and other options being inherited in nested composite scripts. (#2849)</li> <li>Keep the <code>${PROJECT_ROOT}</code> variable in dependencies after running <code>pdm lock --update-reuse</code>. (#2852)</li> <li>Make <code>direct_minimal_versions</code> work on newly added dependencies. (#2853)</li> <li>Fix a syntax error in the zsh completion script. (#2868)</li> </ul>"},{"location":"dev/changelog/#release-v2151-2024-04-25","title":"Release v2.15.1 (2024-04-25)","text":""},{"location":"dev/changelog/#bug-fixes_16","title":"Bug Fixes","text":"<ul> <li>Disable check update in <code>zsh</code> completion script. (#2838)</li> <li>Fixes cached packages metadata files (<code>.referrers</code>) collisions on <code>sync</code> when using a <code>venv</code> with <code>symlink</code> cache method. (#2839)</li> </ul>"},{"location":"dev/changelog/#documentation_3","title":"Documentation","text":"<ul> <li>Build docs with object inventory to support cross references from Sphinx documentation projects. (#2841)</li> </ul>"},{"location":"dev/changelog/#release-v2150-2024-04-19","title":"Release v2.15.0 (2024-04-19)","text":""},{"location":"dev/changelog/#features-improvements_8","title":"Features &amp; Improvements","text":"<ul> <li>Packages format preferences can now be defined in the project <code>pyproject.toml</code>   using the <code>no-binary</code>, <code>only-binary</code> and <code>prefer-binary</code> keys of the <code>tool.pdm.resolution</code> section. (#2656)</li> </ul>"},{"location":"dev/changelog/#bug-fixes_17","title":"Bug Fixes","text":"<ul> <li>Don't create project and virtualenv when running <code>pdm python install</code>. (#2809)</li> <li>Clean up the python installation directory if a previous download was unsuccessful. (#2810)</li> <li>Don't cache editable installations. (#2816)</li> <li>Fix a bug that installing in-project plugins with editable local paths doesn't work. (#2820)</li> <li>Don't create log directory until it's needed, to fix a PermissionError in docker environment. (#2825)</li> <li>Fix recursive script detection on multiple invocations. (#2829)</li> </ul>"},{"location":"dev/changelog/#release-v2140-2024-04-12","title":"Release v2.14.0 (2024-04-12)","text":""},{"location":"dev/changelog/#features-improvements_9","title":"Features &amp; Improvements","text":"<ul> <li>Revert the package cache introduced in 2.13. Don't cache the decompressed contents of wheels unless being told so. (#2803)</li> </ul>"},{"location":"dev/changelog/#bug-fixes_18","title":"Bug Fixes","text":"<ul> <li>Fix inconsistent logging when <code>pdm use</code> a different python interpreter (#2776)</li> <li>Fix PDM unable to find Python interpreters when <code>PDM_IGNORE_ACTIVE_VENV</code> is set (#2779)</li> <li>Check verify_ssl when trusting each source. (#2784)</li> <li>Fix name check for project itself in <code>pdm outdated</code> (#2785)</li> <li>Fix a regression that proxy env vars are not respected. (#2788)</li> <li>Fix an issue that venv provider can't be found when providers are explicitly configured. (#2792)</li> <li>Fix a bug that <code>[tool.pdm.options]</code> are ignored if <code>-c/--config CONFIG</code> is given. (#2793)</li> <li>Make <code>--without</code> respect groups in <code>dev-dependencies</code> (#2799)</li> </ul>"},{"location":"dev/changelog/#release-v2133-2024-04-08","title":"Release v2.13.3 (2024-04-08)","text":""},{"location":"dev/changelog/#bug-fixes_19","title":"Bug Fixes","text":"<ul> <li>Per-source configuration for ca-certs and client-cert. #2754</li> <li>Remove all caches by removing individual cache types one by one. #2757</li> <li>Use the default HTTP client when downloading the pythons, to use the certificates settings. #2759</li> <li>Fix a race condition where pth files take effect when multiple packages are installed in parallel. #2762</li> <li>Refuse to run recursive composite scripts. #2766</li> </ul>"},{"location":"dev/changelog/#release-v2132-2024-03-30","title":"Release v2.13.2 (2024-03-30)","text":""},{"location":"dev/changelog/#bug-fixes_20","title":"Bug Fixes","text":"<ul> <li>Fix errors when parsing poetry format that contains special characters in author name.   Poetry-specific <code>parse_name_email</code> and <code>NAME_EMAIL_RE</code> moved from <code>pdm.formats.base</code> to <code>pdm.formats.poetry</code>. #2665</li> <li>Fix a race condition in cached packages. When a cached package is being created it shouldn't be used for installation. #2739</li> <li>Add back <code>PreparedCandidate.build()</code> for backward-compatibility. #2747</li> </ul>"},{"location":"dev/changelog/#documentation_4","title":"Documentation","text":"<ul> <li>Fixed a small non-code typo in docs and prodivded better wording. #2740</li> </ul>"},{"location":"dev/changelog/#release-v2131-2024-03-29","title":"Release v2.13.1 (2024-03-29)","text":""},{"location":"dev/changelog/#bug-fixes_21","title":"Bug Fixes","text":"<ul> <li>Fix a bug that PDM couldn't find interpreters for global project. #2726</li> <li>Make the cache package path shorter to solve the Windows path problem. #2730</li> </ul>"},{"location":"dev/changelog/#documentation_5","title":"Documentation","text":"<ul> <li>Extract \"Lock file\" doc from \"Manage Dependencies\" doc. #2725</li> </ul>"},{"location":"dev/changelog/#release-v2130-2024-03-27","title":"Release v2.13.0 (2024-03-27)","text":""},{"location":"dev/changelog/#features-improvements_10","title":"Features &amp; Improvements","text":"<ul> <li>Add option to exclude group(s) when running <code>pdm sync/install -G:all</code> by adding flag <code>--without group1,group2,...</code> #2258</li> <li>Default to log to user home and make logs directory configurable. #2398</li> <li>Add an option <code>keep_going</code> to continue on errors for composite scripts and return the last failing exit code. #2582</li> <li>Add an option <code>working_dir</code> for PDM's scripts to set the current working directory. #2620</li> <li>Allow updating specific sub-dependencies (i.e., transitive dependencies) in the lock file. #2628</li> <li>Add <code>--config-setting</code> option to <code>add/install/sync/update/remove/export</code> commands, the config settings dictionary will be shared by all packages. #2636</li> <li>Cache the decompressed contents of wheels for faster access. #2660</li> <li>Add configuration for timeout for network requests. #2680</li> <li>Reuse the request sesison within the environment. #2697</li> <li>Caches can be disabled by using the <code>--no-cache</code> option or setting the <code>PDM_NO_CACHE</code> environment variable. #2702</li> <li>Switch to <code>httpx.Client</code> for HTTP requests, drop <code>requests</code> dependency. #2709</li> <li>We have timemachine now! You can exclude packages published newer than a certain date via <code>pdm lock --exclude-newer=&lt;date&gt;</code>, allowing reproduction of resolutions regardless of new package releases. #2712</li> <li>Add command <code>pdm outdated</code> to check the outdated packages and list the latest versions. #2718</li> <li>When <code>python.use_venv</code> is on, always try to create a virtualenv when using <code>pdm use</code> to switch the Python interpreter. #2720</li> <li>Support installing Pythons from python-build-standalone. Add command group <code>pdm python</code> to manage Python installations. And <code>pdm use</code> can automatically install the Python interpreter if it's not found. #2721</li> <li>Supports custom distribution files path via <code>-d/--dest</code> option for <code>pdm publish</code>. #2723</li> </ul>"},{"location":"dev/changelog/#bug-fixes_22","title":"Bug Fixes","text":"<ul> <li>Don't modify TOML tables that are not related to PDM. #2666</li> <li>Made <code>--without</code> imply <code>--with :all</code>. #2670</li> <li>Expand user path for <code>venv.location</code> and other path-like config values. #2672</li> <li>Give a default version when it's missing in <code>pyproject.toml</code> when parsing candidate's metadata. #2677</li> <li>Fix the issue that ANSI codes are shown in the output of <code>pdm --help</code> on Windows. #2678</li> <li>Don't show empty configuration sections in <code>pdm config</code>. #2683</li> </ul>"},{"location":"dev/changelog/#documentation_6","title":"Documentation","text":"<ul> <li>Document the difference between <code>[tool.pdm.scripts]</code> and <code>[project.scripts]</code> #2121</li> </ul>"},{"location":"dev/changelog/#removals-and-deprecations_2","title":"Removals and Deprecations","text":"<ul> <li>Remove the support of <code>pth</code> cache method. And <code>symlink</code> cache method now behaves the same as <code>symlink_individual</code> cache method. #2660</li> <li>Remove <code>pdm.models.environment</code> module deprecated before. Also remove the renamed members from <code>pdm.environments</code>. #2710</li> </ul>"},{"location":"dev/changelog/#miscellany_3","title":"Miscellany","text":"<ul> <li>Delete <code>setup.cfg</code>, move tool configurations under it to <code>pyproject.toml</code> #2703</li> </ul>"},{"location":"dev/changelog/#release-v2124-2024-02-26","title":"Release v2.12.4 (2024-02-26)","text":""},{"location":"dev/changelog/#features-improvements_11","title":"Features &amp; Improvements","text":"<ul> <li>Use env PDM_NO_EDITABLE as the default value for --no-editable option. #2613</li> </ul>"},{"location":"dev/changelog/#bug-fixes_23","title":"Bug Fixes","text":"<ul> <li>Reset project.environment when importing from setup.py, to fix resolution error. #2608</li> <li>Do not fetch package hashes when <code>--frozen-lockfile</code> is passed. #2630</li> <li>Make sure non-venv interpreters are used by venv creator. #2631</li> <li>Don't cause a hard failure if the local directory doesn't exist. #2650</li> </ul>"},{"location":"dev/changelog/#documentation_7","title":"Documentation","text":"<ul> <li>Fix the default value for negative CLI flags. #2642</li> <li>Auto-gen configuration reference documentation. #2645</li> </ul>"},{"location":"dev/changelog/#release-v2123-2024-02-01","title":"Release v2.12.3 (2024-02-01)","text":""},{"location":"dev/changelog/#bug-fixes_24","title":"Bug Fixes","text":"<ul> <li>fix the package-type fixer won't update toml properly for \"Nested Section Ordering Issue in TOML\". #2578</li> <li>Unable to force override a package if the package is required with extras. #2586</li> <li>Failed to clone template repository if the URL contains the rev part. #2597</li> <li>Handle legacy specifiers when converting from poetry project. #2599</li> </ul>"},{"location":"dev/changelog/#documentation_8","title":"Documentation","text":"<ul> <li>Fix typo in template docs #2588</li> </ul>"},{"location":"dev/changelog/#release-v2122-2024-01-21","title":"Release v2.12.2 (2024-01-21)","text":""},{"location":"dev/changelog/#bug-fixes_25","title":"Bug Fixes","text":"<ul> <li>Fix the auto fixer for package-type. #2564</li> <li>Fix the wrong installation destination for header files when installing build requirements. #2573</li> <li>Install header files into package namespace under <code>include</code> directory. #2574</li> </ul>"},{"location":"dev/changelog/#release-v2121-2024-01-17","title":"Release v2.12.1 (2024-01-17)","text":""},{"location":"dev/changelog/#bug-fixes_26","title":"Bug Fixes","text":"<ul> <li>Hotfix: missing <code>identifier</code> attribute for package type fixer. #2564</li> </ul>"},{"location":"dev/changelog/#release-v2120-2024-01-17","title":"Release v2.12.0 (2024-01-17)","text":""},{"location":"dev/changelog/#features-improvements_12","title":"Features &amp; Improvements","text":"<ul> <li>Allow excluding packages from the lockfile via <code>tool.pdm.resolution.excludes</code> setting, the dependencies will also be skipped. #1316</li> <li>Rename <code>--no-lock</code> option to <code>--frozen-lockfile</code>. #2496</li> <li>Add <code>--no-hashes</code> as the recommended option name in favor of <code>--without-hashes</code> for <code>pdm export</code> command. #2497</li> <li>Add <code>--no-markers</code> to <code>export</code> command to exclude markers from the output. #2497</li> <li>Allow initializing a project without extra project files, with a new builtin template \"minimal\". Run it with <code>pdm init minimal</code>. #2543</li> <li>Change the warning category emitted by <code>deprecated_warning()</code> to <code>PDMDeprecationWarning</code>. #2547</li> <li>Prereleases will be allowed if a prerelease version is pinned in the lockfile. This can be disabled by passing <code>--stable</code> option. #2552</li> <li>Change <code>tracked_names</code> argument to keyword-only. Move <code>allow_prereleases</code> setting to <code>tool.pdm.resolution</code> table. #2552</li> <li>Rename the <code>preferred_pins</code> argument of provider classes to <code>locked_candidates</code>, and deprecate the old name. #2552</li> <li>Rename the <code>package-type</code> field under <code>tool.pdm</code> settings table to <code>distribution</code> to make it more clear. #2564</li> </ul>"},{"location":"dev/changelog/#bug-fixes_27","title":"Bug Fixes","text":"<ul> <li><code>tool.pdm.resolution</code> settings won't be honored when installing dependencies into the build environment. #1316</li> <li>Fixed pdm list output containing full license text in some cases #2538</li> <li>Fix the environment variable substitution for <code>cmd</code> scripts. #2542</li> <li>Allow normal extension modules in wheel tags when the python is debug build. #2548</li> <li>Don't use pypi.org when pypi.url is set. #2560</li> </ul>"},{"location":"dev/changelog/#removals-and-deprecations_3","title":"Removals and Deprecations","text":"<ul> <li>Remove deprecated methods from <code>Project</code>. Remove deprecated helper functions from <code>actions.py</code>. #2547</li> </ul>"},{"location":"dev/changelog/#release-v2112-2024-01-02","title":"Release v2.11.2 (2024-01-02)","text":""},{"location":"dev/changelog/#bug-fixes_28","title":"Bug Fixes","text":"<ul> <li>Fix a KeyError raised when resolving a URL dependency without package name given. #2488</li> <li><code>pdm update --update-eager</code> can hit InconsistentCandidate error when dependency is included both through default dependencies and extra. #2495</li> <li><code>pdm install</code> should not warn when overwriting its own symlinks on <code>install</code>/<code>update</code>. #2502</li> <li>Fix a bug that candidates without local version are rejected when the local version is pinned. #2507</li> </ul>"},{"location":"dev/changelog/#documentation_9","title":"Documentation","text":"<ul> <li>Add maturin as a compatible build backend in the docs. #2510</li> </ul>"},{"location":"dev/changelog/#release-v2111-2023-12-14","title":"Release v2.11.1 (2023-12-14)","text":""},{"location":"dev/changelog/#bug-fixes_29","title":"Bug Fixes","text":"<ul> <li>Update candidate names before resolving markers, to fix a KeyError when the requirement is not named. #2488</li> <li>Fix a KeyError when resolving packages that have parents that are no longer needed. #2489</li> </ul>"},{"location":"dev/changelog/#release-v2110-2023-12-14","title":"Release v2.11.0 (2023-12-14)","text":""},{"location":"dev/changelog/#features-improvements_13","title":"Features &amp; Improvements","text":"<ul> <li>Officially drop the support for Python 3.7.</li> <li>Allow exporting current project as editable dependency with <code>pdm export</code>. #1910</li> <li>Improve the lockfile compatibility checking by using 3-digit version numbers. This can distinguish forward-compatibility and backward-compatibility. #2164</li> <li>Add <code>--skip-existing</code> to <code>pdm publish</code> to ignore the uploading error if the package already exists. #2362</li> <li>Use <code>==major.minor.*</code> as default requires python for application projects. #2382</li> <li>We now use the <code>package-type</code> field in the <code>tool.pdm</code> table to differentiate between library and application projects. #2394</li> <li>Add support for {pdm} placeholder in script definitions to call the same PDM entrypoint #2408</li> <li>When exporting requirements, record the environment markers from all parents for each requirement. This allows the exported requirements to work on different platforms and Python versions. #2418</li> <li><code>pdm lock</code> now supports <code>--update-reuse</code> option to keep the pinned versions in the lockfile if possible. #2419</li> <li>Introduce a new lock strategy <code>inherit_metadata</code> to inherit and merge markers from parent requirements. This is enabled by default when creating a new lockfile. #2421</li> <li>New cache methods: <code>symlink_individual</code> for creating a symlink for each individual package file and <code>hardlink</code> for creating hardlinks. #2425</li> <li>Add \"pdm sync\" pre-commit hook #2474</li> <li>New update strategy: <code>reuse-installed</code>. When this strategy is enabled, PDM will try to reuse the versions already installed in the environment, even if the package names are given in the command line following <code>add</code> or <code>update</code>. This strategy is supported by <code>add</code>, <code>update</code> and <code>lock</code> commands. #2479</li> <li>Show subcommand's help info when passing unrecognized arguments. #2480</li> <li>add <code>PDM_CACHE_DIR</code> environment variable to configure cache directory location. #2485</li> </ul>"},{"location":"dev/changelog/#bug-fixes_30","title":"Bug Fixes","text":"<ul> <li>Use the same order of Python interpreters as interactive mode in <code>pdm init -n</code>. #2436</li> <li><code>pdm init</code> now implies <code>--lib</code> if <code>--backend</code> is passed. #2437</li> <li>Fix a bug that link collection ignores package-index-binding. #2442</li> <li>Fix the wrong installation candidates for different architectures on Windows. #2464</li> <li>Fix installing PEP 561 stub-only packages with <code>install.cache_method = \"symlink\"</code>. #2466</li> <li>Fix a <code>KeyError</code> raised by <code>pdm update --unconstrained</code> when the project itself is listed as a dependency. #2483</li> </ul>"},{"location":"dev/changelog/#release-v2104-2023-11-24","title":"Release v2.10.4 (2023-11-24)","text":""},{"location":"dev/changelog/#bug-fixes_31","title":"Bug Fixes","text":"<ul> <li>Do not detect as requirements.txt if the file is a python script. #2416</li> <li>Provide information of the original line when parsing requirement fails. #2417</li> <li>Resolve <code>-r</code> requirements paths relative to the requirement file they are specified in #2422</li> <li>Updating package now overwrites the old files instead of removing before installing. #2423</li> </ul>"},{"location":"dev/changelog/#release-v2103-2023-11-16","title":"Release v2.10.3 (2023-11-16)","text":""},{"location":"dev/changelog/#bug-fixes_32","title":"Bug Fixes","text":"<ul> <li>Create virtualenv for conda base Python. #2409</li> </ul>"},{"location":"dev/changelog/#release-v2102-2023-11-16","title":"Release v2.10.2 (2023-11-16)","text":""},{"location":"dev/changelog/#features-improvements_14","title":"Features &amp; Improvements","text":"<ul> <li>Log the response text when <code>pdm publish</code> fails with HTTP error. #2400</li> </ul>"},{"location":"dev/changelog/#bug-fixes_33","title":"Bug Fixes","text":"<ul> <li>Improve the error message when a specific package can't be found in the lockfile. #2358</li> <li>prevent wrong project name (including space and illegal characters) #2360</li> <li>Fix a bug that PDM cannot detect namespace packages correctly when creating symlinks. The package's <code>__init__.py</code> contains an unusual line. #2378</li> <li>Fix template files created by <code>pdm init</code> being read-only when copied from a read-only PDM installation. #2379</li> <li>Don't reset the build backend when asking for import. #2388</li> <li>Never wrap the output of the <code>export</code> command. #2390</li> <li>Forbid global project in conda base environment, since it may remove conda-managed packages. #2409</li> </ul>"},{"location":"dev/changelog/#release-v2101-2023-11-07","title":"Release v2.10.1 (2023-11-07)","text":""},{"location":"dev/changelog/#bug-fixes_34","title":"Bug Fixes","text":"<ul> <li>Fix a bug preventing ctrl-c from interrupting program execution on 2nd invocation when using \"pdm run\" (Windows only). #2292</li> <li>Fix list index out of range when build error message is empty. #2337</li> <li>Fix find_link sources being exported as <code>--extra--index-url</code> #2342</li> <li>Fix an installation failure when install.cache = true. #2355</li> <li>Fix a resolution issue that extra dependencies are not resolved when the bare dependency has more specific version constraint. #2369</li> </ul>"},{"location":"dev/changelog/#documentation_10","title":"Documentation","text":"<ul> <li>Set up a chatbot powered by LLM on the doc page. #2365</li> </ul>"},{"location":"dev/changelog/#release-v2100-2023-10-26","title":"Release v2.10.0 (2023-10-26)","text":""},{"location":"dev/changelog/#features-improvements_15","title":"Features &amp; Improvements","text":"<ul> <li>Allow binding packages to specific sources with <code>include_packages</code> and <code>exclude_packages</code> config under <code>tool.pdm.source</code> table. #1645</li> <li>Show warnings when a package is rejected by the resolve because of uncovered <code>requires-python</code> range. And provide a way to ignore them per-package. #2304</li> <li>Add <code>-q/--quiet</code> option to suppress some warnings printed to the console. This option is mutually exclusive with <code>-v/--verbose</code>. #2304</li> <li>Introduce a new <code>--strategy/-S</code> option for <code>lock</code> command, to specify one or more strategy flags for resolving dependencies. <code>--static-urls</code> and <code>--no-cross-platform</code> are deprecated at the same time. #2310</li> <li>Add lock option to resolve direct dependencies to the minimal versions available. #2310</li> <li>Report the progress of download and unpacking when installing packages. #2328</li> </ul>"},{"location":"dev/changelog/#bug-fixes_35","title":"Bug Fixes","text":"<ul> <li>Change the venv backend clean function <code>pdm.cli.commands.venv.backend.Backend._ensure_clean</code> to empty the <code>.venv</code> folder instead of deleting it. #2282</li> <li>Fix a bug that dependency groups from Poetry 1.2+ do not migrate properly to PDM. #2285</li> <li>Fix a bug that build requirements are installed into wrong location when using <code>--venv</code> option. #2314</li> <li>Fix a bug that global repository setting results in TypeError . #2330</li> <li>Fix a credentials error when working with two indices on the same host #2333</li> </ul>"},{"location":"dev/changelog/#miscellany_4","title":"Miscellany","text":"<ul> <li>Officially supports python3.12 now. #2301</li> </ul>"},{"location":"dev/changelog/#release-v293-2023-09-25","title":"Release v2.9.3 (2023-09-25)","text":""},{"location":"dev/changelog/#bug-fixes_36","title":"Bug Fixes","text":"<ul> <li>Revert the changes to the behavior of installing self, introduced in #2162.   Self package won't be installed when <code>--no-default</code> is requested. #2230</li> <li>Reject the candidate if it contains invalid metadata, to avoid a crash in the process of resolution. #2261</li> </ul>"},{"location":"dev/changelog/#documentation_11","title":"Documentation","text":"<ul> <li>Clarify what <code>--no-isolated</code> does. #2071</li> </ul>"},{"location":"dev/changelog/#release-v292-2023-09-12","title":"Release v2.9.2 (2023-09-12)","text":""},{"location":"dev/changelog/#features-improvements_16","title":"Features &amp; Improvements","text":"<ul> <li>Fix an issue that <code>--no-lock</code> option doesn't work as expected. Also support <code>--no-lock</code> option for <code>add</code>, <code>remove</code> and <code>update</code> commands. #2245</li> </ul>"},{"location":"dev/changelog/#bug-fixes_37","title":"Bug Fixes","text":"<ul> <li>Use <code>findpython</code> to find pythons with the spec given by the user. #2225</li> <li>Use UTF-8 to read pyvenv.cfg. #2227</li> <li>On Windows, try looking for the <code>virtualenv</code> <code>python.exe</code> binary under <code>bin/</code>   as well as <code>Scripts/</code> and the <code>virtualenv</code>/<code>conda</code> root. #2236</li> <li>Write relocatable dependency URLs with <code>${PROJECT_ROOT}</code> variable in the lockfile. #2240</li> </ul>"},{"location":"dev/changelog/#release-v291-2023-09-03","title":"Release v2.9.1 (2023-09-03)","text":""},{"location":"dev/changelog/#features-improvements_17","title":"Features &amp; Improvements","text":"<ul> <li>Support convert setup.cfg without existing setup.py. #2222</li> </ul>"},{"location":"dev/changelog/#bug-fixes_38","title":"Bug Fixes","text":"<ul> <li><code>pdm run</code> should only find local file if the command starts with <code>./</code>. #2221</li> </ul>"},{"location":"dev/changelog/#release-v290-2023-08-31","title":"Release v2.9.0 (2023-08-31)","text":""},{"location":"dev/changelog/#features-improvements_18","title":"Features &amp; Improvements","text":"<ul> <li>Add an <code>--overwrite</code> option to <code>pdm init</code> to overwrite existing files(default False). #2163</li> <li>Support passing filter patterns as positional arguments to <code>pdm list</code> command.   Add <code>--tree</code> as an alias and preferred name of <code>--graph</code> option. #2165</li> <li>Switch to truststore by default. #2195</li> <li>Consider packages as installed if the venv includes them from the system-site-packages. #2216</li> <li>Allow <code>pdm run</code> to run a script with the relative or absolute path. #2217</li> </ul>"},{"location":"dev/changelog/#bug-fixes_39","title":"Bug Fixes","text":"<ul> <li>Fix a bug that removing dev dependency uninstalls the project as well. #2150</li> <li>Fix a bug that <code>@ file://</code> dependencies can not be updated. #2169</li> <li>Fix a bug that dependencies requested out of the range of <code>requires-python</code> cause PDM to crash. #2175</li> <li>Fix the compatibility issue with copier 8.0+. #2177</li> <li>Makes <code>comarable_version(\"1.2.3+local1\") == Version(\"1.2.3\")</code>. #2182</li> <li>Default behavior for pdm venv activate when shell detection fails. #2187</li> <li>Handle parsing errors when converting from poetry-style metadata. #2203</li> <li>Don't copy .pyc files from the template directory. #2213</li> </ul>"},{"location":"dev/changelog/#removals-and-deprecations_4","title":"Removals and Deprecations","text":"<ul> <li>Remove the legacy build backend <code>pdm-pep517</code>. #2167</li> </ul>"},{"location":"dev/changelog/#release-v282-2023-07-31","title":"Release v2.8.2 (2023-07-31)","text":""},{"location":"dev/changelog/#features-improvements_19","title":"Features &amp; Improvements","text":"<ul> <li>Allow setting username and password in URL for publish command #2140</li> </ul>"},{"location":"dev/changelog/#bug-fixes_40","title":"Bug Fixes","text":"<ul> <li>Use UTF-8 encoding when writing <code>sitecustomize.py</code>. #2139</li> </ul>"},{"location":"dev/changelog/#release-v281-2023-07-26","title":"Release v2.8.1 (2023-07-26)","text":""},{"location":"dev/changelog/#features-improvements_20","title":"Features &amp; Improvements","text":"<ul> <li>Add <code>keyring</code>, <code>copier</code>, <code>cookiecutter</code>, <code>template</code>, <code>truststore</code> dependency groups. #2109</li> <li>Ignore wheels for python versions not in range. #2113</li> <li>Read default value from env var <code>PDM_PROJECT</code> for <code>-p/--project</code> option. #2126</li> </ul>"},{"location":"dev/changelog/#bug-fixes_41","title":"Bug Fixes","text":"<ul> <li>Fix the comparison of the candidate keys in the lockfile. #2120</li> <li>Don't update <code>pyproject.toml</code> if both <code>--unconstrained</code> and <code>--dry-run</code> are passed to <code>pdm update</code>. #2125</li> <li>Overwrite the <code>build-system</code> table when importing from other package manager. #2126</li> <li>Skip sources with empty URL when merging sources. #2130</li> <li>Fix the invalid requirement converted from poetry metadata. #2133</li> </ul>"},{"location":"dev/changelog/#dependencies","title":"Dependencies","text":"<ul> <li>Update <code>unearth</code> to 0.10.0 #2113</li> </ul>"},{"location":"dev/changelog/#release-v280-2023-07-15","title":"Release v2.8.0 (2023-07-15)","text":""},{"location":"dev/changelog/#features-improvements_21","title":"Features &amp; Improvements","text":"<ul> <li>Support target python with other architectures. #2078</li> <li>Display the help information when running pdm directly. #2081</li> <li>Allow to change the python providers from the config. Support finding pythons from Rye installation location with the new findpython. #2099</li> <li>Option to save static URLs in the lockfile. By default only filenames are saved. #2101</li> </ul>"},{"location":"dev/changelog/#bug-fixes_42","title":"Bug Fixes","text":"<ul> <li>Fix a bug that egg-info directories are not removed completely, leading to incomplete distribution. #2027</li> <li>Skip distributions with wrong package meta information and duplicate path. #2075</li> <li>Avoid mistakenly passing command-line arguments while testing. #2083</li> <li>Fix a bug that lockfile groups are overwritten when running locking in a preceding step of <code>pdm install</code>. #2086</li> <li>Tolerate and actually ignore the local versions in version specifiers. #2102</li> <li>Fix a bug that shared cache cannot support overlapping namespace packages. #2105</li> </ul>"},{"location":"dev/changelog/#documentation_12","title":"Documentation","text":"<ul> <li>Add notes about using custom venv path. #2096</li> </ul>"},{"location":"dev/changelog/#release-v280a2-2023-06-30","title":"Release v2.8.0a2 (2023-06-30)","text":""},{"location":"dev/changelog/#bug-fixes_43","title":"Bug Fixes","text":"<ul> <li>Fix a bug that dependencies can't be updated when the table is separated by another table. #2056</li> <li>Fix a bug that <code>*_lock</code> hooks are always emitted with dry_run=True in <code>pdm update</code>. #2060</li> <li>Fix a bug that <code>pdm install --plugins</code> can't install self. #2062</li> <li>Fix a cache collision between named requirements and url requirements. #2064</li> </ul>"},{"location":"dev/changelog/#release-v280a1-2023-06-27","title":"Release v2.8.0a1 (2023-06-27)","text":""},{"location":"dev/changelog/#features-improvements_22","title":"Features &amp; Improvements","text":"<ul> <li>Add support for <code>cookiecutter</code> and <code>copier</code> as project generator. #2059</li> </ul>"},{"location":"dev/changelog/#release-v280a0-2023-06-27","title":"Release v2.8.0a0 (2023-06-27)","text":""},{"location":"dev/changelog/#features-improvements_23","title":"Features &amp; Improvements","text":"<ul> <li><code>pdm init</code> now accepts a template argument to initialize project from a built-in or Git template. #2053</li> <li>Replace the <code>DeprecationWarning</code> with <code>FutureWarning</code> for better exposure. #2012</li> <li>Serve <code>install-pdm.py</code> and its checksum file on the docs site. #2026</li> <li>Add new option <code>--edit/-e</code> to <code>pdm config</code> to edit the config file in default editor. #2028</li> <li>Add <code>--project</code> option to <code>pdm venv</code> to support another path as the project root. #2042</li> <li>Add support for using <code>truststore</code> as the SSL backend. This only works on Python 3.10 or newer. #2049</li> </ul>"},{"location":"dev/changelog/#bug-fixes_44","title":"Bug Fixes","text":"<ul> <li>Fix the breaking change by adding the functions back to the old location with deprecation warnings. #2013</li> <li>Fix the duplicate entries in the output of <code>pdm self list</code>. #2018</li> <li>Disable hashes caching for local files. #2019</li> <li>Populate the <code>url</code> field when converting requirements from a Pipfile-style file requirement. #2032</li> <li>Fix a bug that empty source tables in configuration files causes errors when running pdm commands. #2034</li> <li>Fix a resolution conflict caused by requested yanked version also in other transitive dependencies. #2038</li> <li>Fix a bug that binary executables are corrupted when replacing shebangs. #2045</li> <li>Do not normalize the package name when uploading to PyPI. #2057</li> </ul>"},{"location":"dev/changelog/#release-v274-2023-06-13","title":"Release v2.7.4 (2023-06-13)","text":"<p>No significant changes.</p>"},{"location":"dev/changelog/#release-v273-2023-06-13","title":"Release v2.7.3 (2023-06-13)","text":""},{"location":"dev/changelog/#bug-fixes_45","title":"Bug Fixes","text":"<ul> <li>Fix the warning of extras not found due to extra names not normalized. #2006</li> <li>Pop up a warning when the deprecated <code>parser</code> argument is passed to <code>BaseCommand.__init__()</code> method. #2007</li> <li>Fix a bug that merging settings with AoTs causing a failure. #2011</li> </ul>"},{"location":"dev/changelog/#release-v272-2023-06-12","title":"Release v2.7.2 (2023-06-12)","text":""},{"location":"dev/changelog/#features-improvements_24","title":"Features &amp; Improvements","text":"<ul> <li>Add option to expand environment variables when exporting requirements. #1997</li> </ul>"},{"location":"dev/changelog/#bug-fixes_46","title":"Bug Fixes","text":"<ul> <li>Case-insensitive sorting in <code>pdm list</code>. #1973</li> <li>Make a compatible cache reader to read the old cache files. #1981</li> <li>Fix a bug that <code>pdm init -n</code> doesn't respect the <code>--python</code> option. #1984</li> <li>Do not use the deprecated nested argument groups. #1988</li> <li>Fix an error parsing <code>setup.py</code> if it prints something to stdout. #1995</li> <li>Exclude yanked versions when running <code>install-pdm.py</code>. #1996</li> </ul>"},{"location":"dev/changelog/#release-v271-2023-06-06","title":"Release v2.7.1 (2023-06-06)","text":""},{"location":"dev/changelog/#features-improvements_25","title":"Features &amp; Improvements","text":"<ul> <li>Switch HTTP data cache to use a split body setup, where the actual body contents are not written to disk unless changed. Previously, any changed headers would write the whole body to disk again. #1971</li> <li>Show the specific install commands for different installations when checking update. This was removed before. #1972</li> </ul>"},{"location":"dev/changelog/#bug-fixes_47","title":"Bug Fixes","text":"<ul> <li>PDM ignores env vars <code>PDM_PYPI_USERNAME</code> and <code>PDM_PYPI_PASSWORD</code> when there are no defaults in config. #1961</li> <li>Guess the project name from VCS url if it is missing when importing from requirements.txt. #1970</li> <li>Correctly read the config from environment variables. #1977</li> </ul>"},{"location":"dev/changelog/#release-v270-2023-05-29","title":"Release v2.7.0 (2023-05-29)","text":""},{"location":"dev/changelog/#features-improvements_26","title":"Features &amp; Improvements","text":"<ul> <li>When keyring is available, either by importing or by CLI, the credentials of repositories and PyPI indexes will be saved into it. #1908</li> <li>Add support for reading metadata from simple index directly. #1919</li> <li>Add a configuration to specify constant command arguments for every pdm invocation. #1923</li> <li>Add ability to skip SSL verification for publish repositories via <code>repository.custom.verify_ssl</code> config option as well as new command line argument of <code>publish</code> command. #1928</li> <li>Use lazy import to reduce the startup time of the CLI. #1929</li> <li>Add the local plugin scripts to <code>PATH</code> env var. #1944</li> </ul>"},{"location":"dev/changelog/#bug-fixes_48","title":"Bug Fixes","text":"<ul> <li>Don't use install cache when installing build requirements to avoid race condition. #1869</li> <li>Fix a number of <code>ResourceWarning</code>s when running the test suite with warnings enabled. #1915</li> <li>Fix a bug that dev-dependencies group gets updated with the optional dependencies, causing the hash mismatch. #1916</li> <li>Fix format conversion error from Poetry when <code>tool.poetry.build</code> doesn't exist. #1935</li> <li>Add timeout when fetching .gitignore from GitHub. #1937</li> <li>Keep the variables in the URL credentials when exporting. #1939</li> <li>Convert to boolean when setting verify_ssl for custom indexes. #1945</li> <li><code>pdm import</code> clobbers <code>build-system.requires</code> value in <code>pyproject.toml</code>. #1948</li> </ul>"},{"location":"dev/changelog/#documentation_13","title":"Documentation","text":"<ul> <li>Update publish.md to use run instead of runs to match GitHub Actions steps documentation #1936</li> <li>Update advanced.md to use <code>pdm sync</code> instead of <code>pdm install --no-lock</code>. #1947</li> </ul>"},{"location":"dev/changelog/#release-v261-2023-05-10","title":"Release v2.6.1 (2023-05-10)","text":""},{"location":"dev/changelog/#bug-fixes_49","title":"Bug Fixes","text":"<ul> <li>Fix the error when publishing using trusted publisher. #1868</li> <li>Fix a bug that <code>PATH</code> env var isn't set correctly when running under non-isolation mode. #1904</li> </ul>"},{"location":"dev/changelog/#release-v260-2023-05-09","title":"Release v2.6.0 (2023-05-09)","text":""},{"location":"dev/changelog/#features-improvements_27","title":"Features &amp; Improvements","text":"<ul> <li>Install project-level plugins from project config, with <code>tool.pdm.plugins</code> setting. #1461</li> <li>Added a <code>--json</code> flag to both <code>run</code> and <code>info</code> command allowing to dump scripts and infos as JSON. #1854</li> <li>Consider tasks with a name starting by an underscore (<code>_</code>) as internal tasks and hide them from the listing. #1855</li> <li>When running <code>pdm init -n</code>(non-interactive mode), a venv will be created by default. Previously, the selected Python will be used under PEP 582 mode. #1862</li> <li>Support Trusted Publisher. #1868</li> <li>Add an ephemeral wheel cache in process for wheels built from non-static revision sources. #1885</li> <li>Allow self-referencing groups in dev-dependencies. #1890</li> <li>Add an option <code>--no-cross-platform</code> to <code>pdm lock</code> to create a non-cross-platform lockfile. #1898</li> </ul>"},{"location":"dev/changelog/#bug-fixes_50","title":"Bug Fixes","text":"<ul> <li>Fix brackets in <code>--venv</code> option descriptions in zsh completion script. #1847</li> <li>The resolver doesn't take into account of the requirements for both bare <code>package</code> and <code>package[extra]</code>. #1851</li> <li>Default pypi source does not use configured pypi.password, but \"\" instead. #1856 <li>Detect Python interpreters under the root of virtual environments. #1866</li> <li>Fix a race condition when the builder is creating a new build directory. #1869</li> <li>Raise <code>FileNotFoundError</code> if the requirement path is not found. #1875</li> <li>Fix a bug that the self package isn't uninstallable. #1901</li>"},{"location":"dev/changelog/#release-v256-2023-05-07","title":"Release v2.5.6 (2023-05-07)","text":""},{"location":"dev/changelog/#bug-fixes_51","title":"Bug Fixes","text":"<ul> <li>Fix a double reading issue due to cachecontrol not compatible with urllib3 2.0. #1894</li> </ul>"},{"location":"dev/changelog/#release-v255-2023-05-05","title":"Release v2.5.5 (2023-05-05)","text":"<p>No significant changes.</p>"},{"location":"dev/changelog/#release-v254-2023-05-05","title":"Release v2.5.4 (2023-05-05)","text":""},{"location":"dev/changelog/#bug-fixes_52","title":"Bug Fixes","text":"<ul> <li>Pin the urllib3 to <code>&lt;2.0</code> to avoid incompatibility with <code>cachecontrol</code>. #1886</li> </ul>"},{"location":"dev/changelog/#release-v253-2023-04-19","title":"Release v2.5.3 (2023-04-19)","text":""},{"location":"dev/changelog/#bug-fixes_53","title":"Bug Fixes","text":"<ul> <li>Fix the wrong argument validation for update command, where packages given with group option should be allowed. #1836</li> </ul>"},{"location":"dev/changelog/#documentation_14","title":"Documentation","text":"<ul> <li>Update <code>markdown-exec</code> to <code>1.5.0</code> for rendering TOC in CLI reference page. #1836</li> <li>Remove advertizing of PEP-582 from the feature highlights. Improve the anchor links for CLI reference. #1840</li> </ul>"},{"location":"dev/changelog/#release-v252-2023-04-10","title":"Release v2.5.2 (2023-04-10)","text":""},{"location":"dev/changelog/#bug-fixes_54","title":"Bug Fixes","text":"<ul> <li>Regression(#1710): Don't crash when trying to update the shebang in a binary script #1827</li> <li>Rename the env var <code>PDM_USE_VENV</code> as <code>PDM_IN_VENV</code> for <code>--venv</code> flag as it mistakenly override another existing env var. #1829</li> </ul>"},{"location":"dev/changelog/#release-v251-2023-04-09","title":"Release v2.5.1 (2023-04-09)","text":""},{"location":"dev/changelog/#bug-fixes_55","title":"Bug Fixes","text":"<ul> <li>Fix a bug that <code>pdm --pep582</code> raises an argument error. #1823</li> </ul>"},{"location":"dev/changelog/#release-v250-2023-04-09","title":"Release v2.5.0 (2023-04-09)","text":""},{"location":"dev/changelog/#features-improvements_28","title":"Features &amp; Improvements","text":"<ul> <li>When <code>resolution.respect-source-order</code> is enabled, sources are lazily evaluated. This means that if a match is found on the first source, the remaining sources will not be requested. #1509</li> <li>New option <code>--venv &lt;venv&gt;</code> to run a command in the virtual environment with the given name. #1705</li> <li>Allow to prefer binary distributions when locking and installing packages, via <code>PDM_PREFER_BINARY</code> environment variable. #1817</li> </ul>"},{"location":"dev/changelog/#bug-fixes_56","title":"Bug Fixes","text":"<ul> <li>Do not validate selected groups against the locked grouped when running <code>pdm lock</code>. #1796</li> <li>Avoid duplicate .pdm-python in .gitignore. #1800</li> <li>Fix a backwards compatibility issue by adding back the <code>environment.is_global</code> property. #1814</li> <li>Fix a resolution conflict when a relative path requirement resolves to the same path as another file requirement with absolute path. #1822</li> <li>Fix an error when running <code>pdm init -p &lt;dir&gt;</code> if the target directory is not created yet. #1822</li> </ul>"},{"location":"dev/changelog/#release-v250b0-2023-03-29","title":"Release v2.5.0b0 (2023-03-29)","text":""},{"location":"dev/changelog/#breaking-changes_3","title":"Breaking Changes","text":"<ul> <li>Switch the default build backend to <code>pdm-backend</code>. #1684</li> <li>Only lock selected groups into the lockfile. Modify other commands to honor the groups included in the lockfile. #1704</li> <li>Move the project python path to its own file, and rename the project config file as <code>pdm.toml</code> which can be committed to the VCS. #1742</li> <li>Refactor the environment package. <code>Environment</code> is renamed to <code>PythonLocalEnvironment</code> and <code>GlobalEnvironment</code> is renamed to <code>PythonEnvironment</code>. Move <code>pdm.models.environment</code> module to <code>pdm.environments</code> package. #1791</li> </ul>"},{"location":"dev/changelog/#features-improvements_29","title":"Features &amp; Improvements","text":"<ul> <li>Add option to fail on the first install error. #1614</li> <li>Upgrade <code>unearth</code> to 0.8 to allow calling keyring from CLI. #1653</li> <li>Merge the index parameters from different configuration files. #1667</li> <li>Add new options to <code>venv</code> command to show the path or the python interpreter for a managed venv. #1680</li> <li>Write the groups of resolved dependencies to the metadata table in lockfile. #1692</li> <li>Introduce <code>--lib</code> option to <code>init</code> command to create a library project without prompting. #1708</li> <li>New command: <code>pdm fix</code> to migrate to the new PDM features. Add a hint when invoking PDM commands. #1743</li> <li>Include <code>.pdm-python</code> in project root <code>.gitignore</code> when running <code>pdm init</code>. #1749</li> <li>Allow to ignore the activated venv with <code>PDM_IGNORE_ACTIVE_VENV</code> env var. #1782</li> <li>Add a signal <code>pre_invoke</code> to emit before any command is invoked. #1792</li> </ul>"},{"location":"dev/changelog/#bug-fixes_57","title":"Bug Fixes","text":"<ul> <li>Fix a bug that install warning prints to terminal under non-verbose mode. #1635</li> <li>Fix the random failure of <code>pdm export</code> due to non-deterministic order of group iteration. #1786</li> <li>Show the actual version when running <code>pdm show --version</code> #1788</li> </ul>"},{"location":"dev/changelog/#documentation_15","title":"Documentation","text":"<ul> <li>Restructure the documentation. #1687</li> </ul>"},{"location":"dev/changelog/#dependencies_1","title":"Dependencies","text":"<ul> <li>Update <code>installer</code> to <code>0.7.0</code> and emit a warning if the RECORD validation fails. #1784</li> </ul>"},{"location":"dev/changelog/#release-v249-2023-03-16","title":"Release v2.4.9 (2023-03-16)","text":""},{"location":"dev/changelog/#bug-fixes_58","title":"Bug Fixes","text":"<ul> <li>Fix a bug of synchronization of not considering the revision of VCS requirement in comparison. #1762</li> <li>Improve the error message when parsing an invalid requirement string. #1765</li> <li>Fix a bug that <code>pdm export</code> output doesn't include the extras of the dependencies. #1767</li> </ul>"},{"location":"dev/changelog/#release-v248-2023-03-09","title":"Release v2.4.8 (2023-03-09)","text":""},{"location":"dev/changelog/#bug-fixes_59","title":"Bug Fixes","text":"<ul> <li>Fix the resolution order to prefer the packages causing the conflict.   This can make the resolution reach a solution faster. #1752</li> <li>Fix a bug that embedded credentials in URL are not respected for the default source. #1757</li> </ul>"},{"location":"dev/changelog/#release-v247-2023-03-02","title":"Release v2.4.7 (2023-03-02)","text":""},{"location":"dev/changelog/#bug-fixes_60","title":"Bug Fixes","text":"<ul> <li>Abort if lockfile isn't generated when executing <code>pdm export</code>. #1730</li> <li>Ignore <code>venv.prompt</code> configuration when using <code>conda</code> as the backend. #1734</li> <li>Fix a bug of finding local packages in the parent folder when it exists in the current folder. #1736</li> <li>Ensure UTF-8 encoding when generating README.md. #1739</li> <li>Fix a bug of show command not showing metadata of the current project. #1740</li> <li>Replace <code>.</code> with <code>-</code> when normalizing package name. #1745</li> </ul>"},{"location":"dev/changelog/#documentation_16","title":"Documentation","text":"<ul> <li>Support using <code>pdm venv activate</code> without specifying <code>env_name</code> to activate in project venv created by conda #1735</li> </ul>"},{"location":"dev/changelog/#release-v246-2023-02-20","title":"Release v2.4.6 (2023-02-20)","text":""},{"location":"dev/changelog/#bug-fixes_61","title":"Bug Fixes","text":"<ul> <li>Fix a resolution failure when the project has cascading relative path dependencies. #1702</li> <li>Don't crash when trying to update the shebang in a binary script. #1709</li> <li>Handle the legacy specifiers that is unable to parse with packaging&gt;22.0. #1719</li> <li>Fix the setup.py parser to ignore the expressions unable to parse as a string. This is safe for initializing a requirement. #1720</li> <li>Fix a bug converting from flit metadata when the source file can't be found. #1726</li> </ul>"},{"location":"dev/changelog/#documentation_17","title":"Documentation","text":"<ul> <li>Add config example for Emacs using eglot + pyright #1721</li> </ul>"},{"location":"dev/changelog/#miscellany_5","title":"Miscellany","text":"<ul> <li>Use <code>ruff</code> as the linter. #1715</li> <li>Document installation via <code>asdf</code>. #1725</li> </ul>"},{"location":"dev/changelog/#release-v245-2023-02-10","title":"Release v2.4.5 (2023-02-10)","text":""},{"location":"dev/changelog/#bug-fixes_62","title":"Bug Fixes","text":"<ul> <li>Fix a bug that built wheels are prioritized over source distributions with higher version number. #1698</li> </ul>"},{"location":"dev/changelog/#release-v244-2023-02-10","title":"Release v2.4.4 (2023-02-10)","text":""},{"location":"dev/changelog/#features-improvements_30","title":"Features &amp; Improvements","text":"<ul> <li>Add more intuitive error message when the <code>requires-python</code> doesn't work for all dependencies. #1690</li> </ul>"},{"location":"dev/changelog/#bug-fixes_63","title":"Bug Fixes","text":"<ul> <li>Prefer built distributions when finding packages for metadata extraction. #1535</li> </ul>"},{"location":"dev/changelog/#release-v243-2023-02-06","title":"Release v2.4.3 (2023-02-06)","text":""},{"location":"dev/changelog/#features-improvements_31","title":"Features &amp; Improvements","text":"<ul> <li>Allow creating venv in project forcely if it already exists. #1666</li> <li>Always ignore remembered selection in pdm init. #1672</li> </ul>"},{"location":"dev/changelog/#bug-fixes_64","title":"Bug Fixes","text":"<ul> <li>Fix the fallback build backend to <code>pdm-pep517</code> instead of <code>setuptools</code>. #1658</li> <li>Eliminate the deprecation warnings from <code>importlib.resources</code>. #1660</li> <li>Don't crash when failed to get the latest version of PDM for checking update. #1663</li> <li>Fix the priorities of importable formats to make sure the correct format is used. #1669</li> <li>Import editable requirements into dev dependencies. #1674</li> </ul>"},{"location":"dev/changelog/#release-v242-2023-01-31","title":"Release v2.4.2 (2023-01-31)","text":""},{"location":"dev/changelog/#bug-fixes_65","title":"Bug Fixes","text":"<ul> <li>Skip some tests on packaging &lt; 22. #1649</li> <li>Fix a bug that sources from the project config are not loaded. #1651</li> <li>Set VIRTUAL_ENV in <code>pdm run</code>. #1652</li> </ul>"},{"location":"dev/changelog/#release-v241-2023-01-28","title":"Release v2.4.1 (2023-01-28)","text":""},{"location":"dev/changelog/#features-improvements_32","title":"Features &amp; Improvements","text":"<ul> <li>Add proper display for the extra pypi sources in <code>pdm config</code>. #1622</li> <li>Support running python scripts without prefixing with <code>python</code>. #1626</li> </ul>"},{"location":"dev/changelog/#bug-fixes_66","title":"Bug Fixes","text":"<ul> <li>Ignore the python requirement for overriden packages. #1575</li> <li>Fix the wildcards in requirement specifiers to make it pass the new parser of <code>packaging&gt;=22</code>. #1619</li> <li>Add the missing <code>subdirectory</code> attribute to the lockfile entry. #1630</li> <li>Fix a bug that VCS locks don't update when the rev part changes. #1640</li> <li>Redirect the spinner output to stderr. #1646</li> <li>Ensure the destination directory exists before building the packages. #1647</li> </ul>"},{"location":"dev/changelog/#release-v240-2023-01-12","title":"Release v2.4.0 (2023-01-12)","text":""},{"location":"dev/changelog/#features-improvements_33","title":"Features &amp; Improvements","text":"<ul> <li>Support multiple PyPI indexes in the configuration. They will be tried after the sources in <code>pyproject.toml</code>. #1310</li> <li>Accept yanked versions when the requirement version is pinned. #1575</li> <li>Expose PDM fixtures as a <code>pytest</code> plugin <code>pdm.pytest</code> for plugin developers. #1594</li> <li>Show message in the status when fetching package hashes.   Fetch hashes from the JSON API response as well. #1609</li> <li>Mark <code>pdm.lock</code> with an <code>@generated</code> comment. #1611</li> </ul>"},{"location":"dev/changelog/#bug-fixes_67","title":"Bug Fixes","text":"<ul> <li>Exclude site-packages for symlinks of the python interpreter as well. #1598</li> <li>Fix a bug that error output can't be decoded correctly on Windows. #1602</li> </ul>"},{"location":"dev/changelog/#release-v234-2022-12-27","title":"Release v2.3.4 (2022-12-27)","text":""},{"location":"dev/changelog/#features-improvements_34","title":"Features &amp; Improvements","text":"<ul> <li>Detect PDM inside a zipapp and disable some functions. #1578</li> </ul>"},{"location":"dev/changelog/#bug-fixes_68","title":"Bug Fixes","text":"<ul> <li>Don't write <code>sitecustomize</code> to the home directory if it exists in the filesystem(not packed in a zipapp). #1572</li> <li>Fix a bug that a directory is incorrectly marked as to be deleted when it contains symlinks. #1580</li> </ul>"},{"location":"dev/changelog/#release-v233-2022-12-15","title":"Release v2.3.3 (2022-12-15)","text":""},{"location":"dev/changelog/#bug-fixes_69","title":"Bug Fixes","text":"<ul> <li>Allow relative paths in <code>build-system.requires</code>, since <code>build</code> and <code>hatch</code> both support it. Be aware it is not allowed in the standard. #1560</li> <li>Strip the local part when building a specifier for comparison with the package version. This is not permitted by PEP 508 as implemented by <code>packaging 22.0</code>. #1562</li> <li>Update the version for check_update after self update #1563</li> <li>Replace the <code>__file__</code> usages with <code>importlib.resources</code>, to make PDM usable in a zipapp. #1567</li> <li>Fix the matching problem of packages in the lockfile. #1569</li> </ul>"},{"location":"dev/changelog/#dependencies_2","title":"Dependencies","text":"<ul> <li>Exclude <code>package==22.0</code> from the dependencies to avoid some breakages to the end users. #1568</li> </ul>"},{"location":"dev/changelog/#release-v232-2022-12-08","title":"Release v2.3.2 (2022-12-08)","text":""},{"location":"dev/changelog/#bug-fixes_70","title":"Bug Fixes","text":"<ul> <li>Fix an installation failure when the RECORD file contains commas in the file path. #1010</li> <li>Fallback to <code>pdm.pep517</code> as the metadata transformer for unknown custom build backends. #1546</li> <li>Fix a bug that Ctrl + C kills the python interactive session instead of clearing the current line. #1547</li> <li>Fix a bug with egg segment for local dependency #1552</li> </ul>"},{"location":"dev/changelog/#dependencies_3","title":"Dependencies","text":"<ul> <li>Update <code>installer</code> to <code>0.6.0</code>. #1550</li> <li>Update minimum version of <code>unearth</code> to <code>0.6.3</code> and test against <code>packaging==22.0</code>. #1555</li> </ul>"},{"location":"dev/changelog/#release-v231-2022-12-05","title":"Release v2.3.1 (2022-12-05)","text":""},{"location":"dev/changelog/#bug-fixes_71","title":"Bug Fixes","text":"<ul> <li>Fix a resolution loop issue when the current project depends on itself and it uses the dynamic version from SCM. #1541</li> <li>Don't give duplicate results when specifying a relative path for <code>pdm use</code>. #1542</li> </ul>"},{"location":"dev/changelog/#release-v230-2022-12-02","title":"Release v2.3.0 (2022-12-02)","text":""},{"location":"dev/changelog/#features-improvements_35","title":"Features &amp; Improvements","text":"<ul> <li>Beautify the error message of build errors. Default to showing the last 10 lines of the build output. #1491</li> <li>Rename the <code>tool.pdm.overrides</code> table to <code>tool.pdm.resolution.overrides</code>. The old name is deprecated at the same time. #1503</li> <li>Add backend selection and <code>--backend</code> option to <code>pdm init</code> command, users can choose a favorite backend from <code>setuptools</code>, <code>flit</code>, <code>hatchling</code> and <code>pdm-pep517</code>(default), since they all support PEP 621 standards. #1504</li> <li>Allows specifying the insertion position of user provided arguments in scripts with the <code>{args[:default]}</code> placeholder. #1507</li> </ul>"},{"location":"dev/changelog/#bug-fixes_72","title":"Bug Fixes","text":"<ul> <li>The local package is now treated specially during installation and locking. This means it will no longer be included in the lockfile, and should never be installed twice even when using nested extras. This will ensure the lockdown stays relevant when the version changes. #1481</li> <li>Fix the version diff algorithm of installed packages to consider local versions as compatible. #1497</li> <li>Fix the confusing message when detecting a Python interpreter under <code>python.use_venv=False</code> #1508</li> <li>Fix the test failure with the latest <code>findpython</code> installed. #1516</li> <li>Fix the module missing error of pywin32 in a virtualenv with <code>install.cache</code> set to <code>true</code> and caching method is <code>pth</code>. #863</li> </ul>"},{"location":"dev/changelog/#dependencies_4","title":"Dependencies","text":"<ul> <li>Drop the dependency <code>pdm-pep517</code>. #1504</li> <li>Replace <code>pep517</code> with <code>pyproject-hooks</code> because of the rename. #1528</li> </ul>"},{"location":"dev/changelog/#removals-and-deprecations_5","title":"Removals and Deprecations","text":"<ul> <li>Remove the support for exporting the project file to a <code>setup.py</code> format, users are encouraged to migrate to the PEP 621 metadata. #1504</li> </ul>"},{"location":"dev/changelog/#release-v221-2022-11-03","title":"Release v2.2.1 (2022-11-03)","text":""},{"location":"dev/changelog/#features-improvements_36","title":"Features &amp; Improvements","text":"<ul> <li>Make <code>sitecustomize.py</code> respect the <code>PDM_PROJECT_MAX_DEPTH</code> environment variable #1471</li> </ul>"},{"location":"dev/changelog/#bug-fixes_73","title":"Bug Fixes","text":"<ul> <li>Fix the comparison of <code>python_version</code> in the environment marker. When the version contains only one digit, the result was incorrect. #1484</li> </ul>"},{"location":"dev/changelog/#release-v220-2022-10-31","title":"Release v2.2.0 (2022-10-31)","text":""},{"location":"dev/changelog/#features-improvements_37","title":"Features &amp; Improvements","text":"<ul> <li>Add <code>venv.prompt</code> configuration to allow customizing prompt when a virtualenv is activated #1332</li> <li>Allow the use of custom CA certificates per publish repository using <code>ca_certs</code> or from the command line via <code>pdm publish --ca-certs &lt;path&gt; ...</code>. #1392</li> <li>Rename the <code>plugin</code> command to <code>self</code>, and it can not only manage plugins but also all dependencies. Add a subcommand <code>self update</code> to update PDM itself. #1406</li> <li>Allow <code>pdm init</code> to receive a Python path or version via <code>--python</code> option. #1412</li> <li>Add a default value for <code>requires-python</code> when importing from other formats. #1426</li> <li>Use <code>pdm</code> instead of <code>pip</code> to resolve and install build requirements. So that PDM configurations can control the process. #1429</li> <li>Customizable color theme via <code>pdm config</code> command. #1450</li> <li>A new <code>pdm lock --check</code> flag to validate whether the lock is up to date. #1459</li> <li>Add both option and config item to ship <code>pip</code> when creating a new venv. #1463</li> <li>Issue warning and skip the requirement if it has the same name as the current project. #1466</li> <li>Enhance the <code>pdm list</code> command with new formats: <code>--csv,--markdown</code> and add options <code>--fields,--sort</code> to control the output contents. Users can also include <code>licenses</code> in the <code>--fields</code> option to display the package licenses. #1469</li> <li>A new pre-commit hook to run <code>pdm lock --check</code> in pre-commit. #1471</li> </ul>"},{"location":"dev/changelog/#bug-fixes_74","title":"Bug Fixes","text":"<ul> <li>Fix the issue that relative paths don't work well with <code>--project</code> argument. #1220</li> <li>It is now possible to refer to a package from outside the project with relative paths in dependencies. #1381</li> <li>Ensure <code>pypi.[ca,client]_cert[s]</code> config items are passed to distribution builder install steps to allow for custom PyPI index sources with self signed certificates. #1396</li> <li>Fix a crash issue when depending on editable packages with extras. #1401</li> <li>Do not save the python path when using non-interactive mode in <code>pdm init</code>. #1410</li> <li>Fix the matching of <code>python*</code> command in <code>pdm run</code>. #1414</li> <li>Show the Python path, instead of the real executable, in the Python selection menu. #1418</li> <li>Fix the HTTP client of package publishment to prompt for password and read PDM configurations correctly. #1430</li> <li>Ignore the unknown fields when constructing a requirement object. #1445</li> <li>Fix a bug of unrelated candidates being fetched if the requirement is matching wildcard versions(e.g. <code>==1.*</code>). #1465</li> <li>Use <code>importlib-metadata</code> from PyPI for Python &lt; 3.10. #1467</li> </ul>"},{"location":"dev/changelog/#documentation_18","title":"Documentation","text":"<ul> <li>Clarify the difference between a library and an application. Update the guide of multi-stage docker build. #1371</li> </ul>"},{"location":"dev/changelog/#removals-and-deprecations_6","title":"Removals and Deprecations","text":"<ul> <li>Remove all top-level imports, users should import from the submodules instead. #1404</li> <li>Remove the usages of old config names deprecated since 2.0. #1422</li> <li>Remove the deprecated color functions, use rich's console markup instead. #1452</li> </ul>"},{"location":"dev/changelog/#release-v215-2022-10-05","title":"Release v2.1.5 (2022-10-05)","text":""},{"location":"dev/changelog/#bug-fixes_75","title":"Bug Fixes","text":"<ul> <li>Ensure <code>pypi.[ca,client]_cert[s]</code> config items are passed to distribution builder install steps to allow for custom PyPI index sources with self signed certificates. #1396</li> <li>Fix a crash issue when depending on editable packages with extras. #1401</li> <li>Do not save the python path when using non-interactive mode in <code>pdm init</code>. #1410</li> <li>Restrict importlib-metadata (&lt;5.0.0) for Python &lt;3.8 #1411</li> </ul>"},{"location":"dev/changelog/#release-v214-2022-09-17","title":"Release v2.1.4 (2022-09-17)","text":""},{"location":"dev/changelog/#bug-fixes_76","title":"Bug Fixes","text":"<ul> <li>Fix a lock failure when depending on self with URL requirements. #1347</li> <li>Ensure list to concatenate args for composite scripts. #1359</li> <li>Fix an error in <code>pdm lock --refresh</code> if some packages has URLs. #1361</li> <li>Fix unnecessary package downloads and VCS clones for certain commands. #1370</li> <li>Fix a conversion error when converting a list of conditional dependencies from a Poetry format. #1383</li> </ul>"},{"location":"dev/changelog/#documentation_19","title":"Documentation","text":"<ul> <li>Adds a section to the docs on how to correctly work with PDM and version control systems. #1364</li> </ul>"},{"location":"dev/changelog/#release-v213-2022-08-30","title":"Release v2.1.3 (2022-08-30)","text":""},{"location":"dev/changelog/#features-improvements_38","title":"Features &amp; Improvements","text":"<ul> <li>When adding a package to (or removing from) a group, enhance the formatting of the group name in the printed message. #1329</li> </ul>"},{"location":"dev/changelog/#bug-fixes_77","title":"Bug Fixes","text":"<ul> <li>Fix a bug of missing hashes for packages with <code>file://</code> links the first time they are added. #1325</li> <li>Ignore invalid values of <code>data-requires-python</code> when parsing package links. #1334</li> <li>Leave an incomplete project metadata if PDM fails to parse the project files, but emit a warning. #1337</li> <li>Fix the bug that <code>editables</code> package isn't installed for self package. #1344</li> <li>Fix a decoding error for non-ASCII characters in package description when publishing it. #1345</li> </ul>"},{"location":"dev/changelog/#documentation_20","title":"Documentation","text":"<ul> <li>Clarify documentation explaining <code>setup-script</code>, <code>run-setuptools</code>, and <code>is-purelib</code>. #1327</li> </ul>"},{"location":"dev/changelog/#release-v212-2022-08-15","title":"Release v2.1.2 (2022-08-15)","text":""},{"location":"dev/changelog/#bug-fixes_78","title":"Bug Fixes","text":"<ul> <li>Fix a bug that dependencies from different versions of the same package override each other. #1307</li> <li>Forward SIGTERM to child processes in <code>pdm run</code>. #1312</li> <li>Fix errors when running on FIPS 140-2 enabled systems using Python 3.9 and newer. #1313</li> <li>Fix the build failure when the subprocess outputs with non-UTF8 characters. #1319</li> <li>Delay the trigger of <code>post_lock</code> for <code>add</code> and <code>update</code> operations, to ensure the <code>pyproject.toml</code> is updated before the hook is run. #1320</li> </ul>"},{"location":"dev/changelog/#release-v211-2022-08-05","title":"Release v2.1.1 (2022-08-05)","text":""},{"location":"dev/changelog/#features-improvements_39","title":"Features &amp; Improvements","text":"<ul> <li>Add a env_file.override option that allows the user to specify that   the env_file should override any existing environment variables. This   is not the default as the environment the code runs it should take   precedence. #1299</li> </ul>"},{"location":"dev/changelog/#bug-fixes_79","title":"Bug Fixes","text":"<ul> <li>Fix a bug that unnamed requirements can't override the old ones in either <code>add</code> or <code>update</code> command. #1287</li> <li>Support mutual TLS to private repositories via pypi.client_cert and pypi.client_key config options. #1290</li> <li>Set a minimum version for the <code>packaging</code> dependency to ensure that <code>packaging.utils.parse_wheel_filename</code> is available. #1293</li> <li>Fix a bug that checking for PDM update creates a venv. #1301</li> <li>Prefer compatible packages when fetching metadata. #1302</li> </ul>"},{"location":"dev/changelog/#release-v210-2022-07-29","title":"Release v2.1.0 (2022-07-29)","text":""},{"location":"dev/changelog/#features-improvements_40","title":"Features &amp; Improvements","text":"<ul> <li>Allow the use of custom CA certificates using the <code>pypi.ca_certs</code> config entry. #1240</li> <li>Add <code>pdm export</code> to available pre-commit hooks. #1279</li> </ul>"},{"location":"dev/changelog/#bug-fixes_80","title":"Bug Fixes","text":"<ul> <li>Skip incompatible requirements when installing build dependencies. #1264</li> <li>Fix a crash when pdm tries to publish a package with non-ASCII characters in the metadata. #1270</li> <li>Try to read the lock file even if the lock version is incompatible. #1273</li> <li>For packages that are only available as source distribution, the <code>summary</code> field in <code>pdm.lock</code> contains the <code>description</code> from the package's <code>pyproject.toml</code>. #1274</li> <li>Do not crash when calling <code>pdm show</code> for a package that is only available as source distribution. #1276</li> <li>Fix a bug that completion scripts are interpreted as rich markups. #1283</li> </ul>"},{"location":"dev/changelog/#dependencies_5","title":"Dependencies","text":"<ul> <li>Remove the dependency of <code>pip</code>. #1268</li> </ul>"},{"location":"dev/changelog/#removals-and-deprecations_7","title":"Removals and Deprecations","text":"<ul> <li>Deprecate the top-level imports from <code>pdm</code> module, it will be removed in the future. #1282</li> </ul>"},{"location":"dev/changelog/#release-v203-2022-07-22","title":"Release v2.0.3 (2022-07-22)","text":""},{"location":"dev/changelog/#bug-fixes_81","title":"Bug Fixes","text":"<ul> <li>Support Conda environments when detecting the project environment. #1253</li> <li>Fix the interpreter resolution to first try <code>python</code> executable in the <code>PATH</code>. #1255</li> <li>Stabilize sorting of URLs in <code>metadata.files</code> in <code>pdm.lock</code>. #1256</li> <li>Don't expand credentials in the file URLs in the <code>[metada.files]</code> table of the lock file. #1259</li> </ul>"},{"location":"dev/changelog/#release-v202-2022-07-20","title":"Release v2.0.2 (2022-07-20)","text":""},{"location":"dev/changelog/#features-improvements_41","title":"Features &amp; Improvements","text":"<ul> <li><code>env_file</code> variables no longer override existing environment variables. #1235</li> <li>Support referencing other optional groups in optional-dependencies with <code>&lt;this_package_name&gt;[group1, group2]</code> #1241</li> </ul>"},{"location":"dev/changelog/#bug-fixes_82","title":"Bug Fixes","text":"<ul> <li>Respect <code>requires-python</code> when creating the default venv. #1237</li> </ul>"},{"location":"dev/changelog/#release-v201-2022-07-17","title":"Release v2.0.1 (2022-07-17)","text":""},{"location":"dev/changelog/#bug-fixes_83","title":"Bug Fixes","text":"<ul> <li>Write lockfile before calling 'post_lock' hook #1224</li> <li>Suppress errors when cache dir isn't accessible. #1226</li> <li>Don't save python path for venv commands. #1230</li> </ul>"},{"location":"dev/changelog/#release-v200-2022-07-15","title":"Release v2.0.0 (2022-07-15)","text":""},{"location":"dev/changelog/#bug-fixes_84","title":"Bug Fixes","text":"<ul> <li>Fix a bug that the running env overrides the PEP 582 <code>PYTHONPATH</code>. #1211</li> <li>Add <code>pwsh</code> as an alias of <code>powershell</code> for shell completion. #1216</li> <li>Fixed a bug with <code>zsh</code> completion regarding <code>--pep582</code> flag. #1218</li> <li>Fix a bug of requirement checking under non-isolated mode. #1219</li> <li>Fix a bug when removing packages, TOML document might become invalid. #1221</li> </ul>"},{"location":"dev/changelog/#release-v200b2-2022-07-08","title":"Release v2.0.0b2 (2022-07-08)","text":""},{"location":"dev/changelog/#breaking-changes_4","title":"Breaking Changes","text":"<ul> <li>Store file URLs instead of filenames in the lock file, bump lock version to <code>4.0</code>. #1203</li> </ul>"},{"location":"dev/changelog/#features-improvements_42","title":"Features &amp; Improvements","text":"<ul> <li>Read site-wide configuration, which serves as the lowest-priority layer.   This layer will be read-only in the CLI. #1200</li> <li>Get package links from the urls stored in the lock file. #1204</li> </ul>"},{"location":"dev/changelog/#bug-fixes_85","title":"Bug Fixes","text":"<ul> <li>Fix a bug that the host pip(installed with pdm) may not be compatible with the project python. #1196</li> <li>Update <code>unearth</code> to fix a bug that install links with weak hashes are skipped. This often happens on self-hosted PyPI servers. #1202</li> </ul>"},{"location":"dev/changelog/#release-v200b1-2022-07-02","title":"Release v2.0.0b1 (2022-07-02)","text":""},{"location":"dev/changelog/#features-improvements_43","title":"Features &amp; Improvements","text":"<ul> <li>Integrate <code>pdm venv</code> commands into the main program. Make PEP 582 an opt-in feature. #1162</li> <li>Add config <code>global_project.fallback_verbose</code> defaulting to <code>True</code>. When set to <code>False</code> disables message <code>Project is not found, fallback to the global project</code> #1188</li> <li>Add <code>--only-keep</code> option to <code>pdm sync</code> to keep only selected packages. Originally requested at #398. #1191</li> </ul>"},{"location":"dev/changelog/#bug-fixes_86","title":"Bug Fixes","text":"<ul> <li>Fix a bug that requirement extras and underlying are resolved to the different version #1173</li> <li>Update <code>unearth</code> to <code>0.4.1</code> to skip the wheels with invalid version parts. #1178</li> <li>Fix reading <code>PDM_RESOLVE_MAX_ROUNDS</code> environment variable (was spelled <code>\u2026ROUDNS</code> before). #1180</li> <li>Deduplicate the list of found Python versions. #1182</li> <li>Use the normal stream handler for logging, to fix some display issues under non-tty environments. #1184</li> </ul>"},{"location":"dev/changelog/#removals-and-deprecations_8","title":"Removals and Deprecations","text":"<ul> <li>Remove the useless <code>--no-clean</code> option from <code>pdm sync</code> command. #1191</li> </ul>"},{"location":"dev/changelog/#release-v200a1-2022-06-29","title":"Release v2.0.0a1 (2022-06-29)","text":""},{"location":"dev/changelog/#breaking-changes_5","title":"Breaking Changes","text":"<ul> <li>Editable dependencies in the <code>[project]</code> table is not allowed, according to PEP 621. They are however still allowed in the <code>[tool.pdm.dev-dependencies]</code> table. PDM will emit a warning when it finds editable dependencies in the <code>[project]</code> table, or will abort when you try to add them into the <code>[project]</code> table via CLI. #1083</li> <li>Now the paths to the global configurations and global project are calculated according to platform standards. #1161</li> </ul>"},{"location":"dev/changelog/#features-improvements_44","title":"Features &amp; Improvements","text":"<ul> <li>Add support for importing from a <code>setup.py</code> project. #1062</li> <li>Switch the UI backend to <code>rich</code>. #1091</li> <li>Improved the terminal UI and logging. Disable live progress under verbose mode. The logger levels can be controlled by the <code>-v</code> option. #1096</li> <li>Use <code>unearth</code> to replace <code>pip</code>'s <code>PackageFinder</code> and related data models. PDM no longer relies on <code>pip</code> internals, which are unstable across updates. #1096</li> <li>Lazily load the candidates returned by <code>find_matches()</code> to speed up the resolution. #1098</li> <li>Add a new command <code>publish</code> to PDM since it is required for so many people and it will make the workflow easier. #1107</li> <li>Add a <code>composite</code> script kind allowing to run multiple defined scripts in a single command as well as reusing scripts but overriding <code>env</code> or <code>env_file</code>. #1117</li> <li>Add a new execution option <code>--skip</code> to opt-out some scripts and hooks from any execution (both scripts and PDM commands). #1127</li> <li>Add the <code>pre/post_publish</code>, <code>pre/post_run</code> and <code>pre/post_script</code> hooks as well as an extensive lifecycle and hooks documentation. #1147</li> <li>Shorter scripts listing, especially for multilines and composite scripts. #1151</li> <li>Build configurations have been moved to <code>[tool.pdm.build]</code>, according to <code>pdm-pep517 1.0.0</code>. At the same time, warnings will be shown against old usages. #1153</li> <li>Improve the lock speed by parallelizing the hash fetching. #1154</li> <li>Retrieve the candidate metadata by parsing the <code>pyproject.toml</code> rather than building it. #1156</li> <li>Update the format converters to support the new <code>[tool.pdm.build]</code> table. #1157</li> <li>Scripts are now available as root command if they don't conflict with any builtin or plugin-contributed command. #1159</li> <li>Add a <code>post_use</code> hook triggered after successfully switching Python version. #1163</li> <li>Add project configuration <code>respect-source-order</code> under <code>[tool.pdm.resolution]</code> to respect the source order in the <code>pyproject.toml</code> file. Packages will be returned by source earlier in the order or later ones if not found. #593</li> </ul>"},{"location":"dev/changelog/#bug-fixes_87","title":"Bug Fixes","text":"<ul> <li>Fix a bug that candidates with local part in the version can't be found and installed correctly. #1093</li> </ul>"},{"location":"dev/changelog/#dependencies_6","title":"Dependencies","text":"<ul> <li>Prefer <code>tomllib</code> on Python 3.11 #1072</li> <li>Drop the vendored libraries <code>click</code>, <code>halo</code>, <code>colorama</code> and <code>log_symbols</code>. PDM has no vendors now. #1091</li> <li>Update dependency version <code>pdm-pep517</code> to <code>1.0.0</code>. #1153</li> </ul>"},{"location":"dev/changelog/#removals-and-deprecations_9","title":"Removals and Deprecations","text":"<ul> <li>PDM legacy metadata format(from <code>pdm 0.x</code>) is no longer supported. #1157</li> </ul>"},{"location":"dev/changelog/#miscellany_6","title":"Miscellany","text":"<ul> <li>Provide a <code>tox.ini</code> file for easier local testing against all Python versions. #1160</li> </ul>"},{"location":"dev/changelog/#release-v1154-2022-06-28","title":"Release v1.15.4 (2022-06-28)","text":""},{"location":"dev/changelog/#bug-fixes_88","title":"Bug Fixes","text":"<ul> <li>Revert #1106: Do not use <code>venv</code> scheme for <code>prefix</code> kind install scheme. #1158</li> <li>Fix a bug when updating a package with extra requirements, the package version doesn't get updated correctly. #1166</li> </ul>"},{"location":"dev/changelog/#miscellany_7","title":"Miscellany","text":"<ul> <li>Add additional installation option via asdf-pdm.   Add <code>skip-add-to-path</code> option to installer in order to prevent changing <code>PATH</code>.   Replace <code>bin</code> variable name with <code>bin_dir</code>. #1145</li> </ul>"},{"location":"dev/changelog/#release-v1153-2022-06-14","title":"Release v1.15.3 (2022-06-14)","text":""},{"location":"dev/changelog/#bug-fixes_89","title":"Bug Fixes","text":"<ul> <li>Fix a defect in the resolution preferences that causes an infinite resolution loop. #1119</li> <li>Update the poetry importer to support the new <code>[tool.poetry.build]</code> config table. #1131</li> </ul>"},{"location":"dev/changelog/#improved-documentation","title":"Improved Documentation","text":"<ul> <li>Add support for multiple versions of documentations. #1126</li> </ul>"},{"location":"dev/changelog/#release-v1152-2022-06-06","title":"Release v1.15.2 (2022-06-06)","text":""},{"location":"dev/changelog/#bug-fixes_90","title":"Bug Fixes","text":"<ul> <li>Fix bug where SIGINT is sent to the main <code>pdm</code> process and not to the process actually being run. #1095</li> <li>Fix a bug due to the build backend fallback, which causes different versions of the same requirement to exist in the build environment, making the building unstable depending on which version being used. #1099</li> <li>Don't include the <code>version</code> in the cache key of the locked candidates if they are from a URL requirement. #1099</li> <li>Fix a bug where dependencies with <code>requires-python</code> pre-release versions caused <code>pdm update</code> to fail with <code>InvalidPyVersion</code>. #1111</li> </ul>"},{"location":"dev/changelog/#release-v1151-2022-06-02","title":"Release v1.15.1 (2022-06-02)","text":""},{"location":"dev/changelog/#bug-fixes_91","title":"Bug Fixes","text":"<ul> <li>Fix a bug that dependencies are missing from the dep graph when they are depended by a requirement with extras. #1097</li> <li>Give a default version if the version is dynamic in <code>setup.cfg</code> or <code>setup.py</code>. #1101</li> <li>Fix a bug that the hashes for file URLs are not included in the lock file. #1103</li> <li>Fix a bug that package versions are updated even when they are excluded by <code>pdm update</code> command. #1104</li> <li>Prefer <code>venv</code> install scheme when available. This scheme is more stable than <code>posix_prefix</code> scheme since the latter is often patched by distributions. #1106</li> </ul>"},{"location":"dev/changelog/#miscellany_8","title":"Miscellany","text":"<ul> <li>Move the test artifacts to a submodule. It will make it easier to package this project. #1084</li> </ul>"},{"location":"dev/changelog/#release-v1150-2022-05-16","title":"Release v1.15.0 (2022-05-16)","text":""},{"location":"dev/changelog/#features-improvements_45","title":"Features &amp; Improvements","text":"<ul> <li>Allow specifying lockfile other than <code>pdm.lock</code> by <code>--lockfile</code> option or <code>PDM_LOCKFILE</code> env var. #1038</li> </ul>"},{"location":"dev/changelog/#bug-fixes_92","title":"Bug Fixes","text":"<ul> <li>Replace the editable entry in <code>pyproject.toml</code> when running <code>pdm add --no-editable &lt;package&gt;</code>. #1050</li> <li>Ensure the pip module inside venv in installation script. #1053</li> <li>Fix the py2 compatibility issue in the in-process <code>get_sysconfig_path.py</code> script. #1056</li> <li>Fix a bug that file paths in URLs are not correctly unquoted. #1073</li> <li>Fix a bug on Python 3.11 that overriding an existing command from plugins raises an error. #1075</li> <li>Replace the <code>${PROJECT_ROOT}</code> variable in the result of <code>export</code> command. #1079</li> </ul>"},{"location":"dev/changelog/#removals-and-deprecations_10","title":"Removals and Deprecations","text":"<ul> <li>Show a warning if Python 2 interpreter is being used and remove the support on 2.0. #1082</li> </ul>"},{"location":"dev/changelog/#release-v1141-2022-04-21","title":"Release v1.14.1 (2022-04-21)","text":""},{"location":"dev/changelog/#features-improvements_46","title":"Features &amp; Improvements","text":"<ul> <li>Ask for description when doing <code>pdm init</code> and create default README for libraries. #1041</li> </ul>"},{"location":"dev/changelog/#bug-fixes_93","title":"Bug Fixes","text":"<ul> <li>Fix a bug of missing subdirectory fragment when importing from a <code>requirements.txt</code>. #1036</li> <li>Fix use_cache.json with corrupted python causes <code>pdm use</code> error. #1039</li> <li>Ignore the <code>optional</code> key when converting from Poetry's dependency entries. #1042</li> </ul>"},{"location":"dev/changelog/#improved-documentation_1","title":"Improved Documentation","text":"<ul> <li>Clarify documentation on enabling PEP582 globally. #1033</li> </ul>"},{"location":"dev/changelog/#release-v1140-2022-04-08","title":"Release v1.14.0 (2022-04-08)","text":""},{"location":"dev/changelog/#features-improvements_47","title":"Features &amp; Improvements","text":"<ul> <li>Editable installations won't be overridden unless <code>--no-editable</code> is passed.   <code>pdm add --no-editable</code> will now override the <code>editable</code> mode of the given packages. #1011</li> <li>Re-calculate the file hashes when running <code>pdm lock --refresh</code>. #1019</li> </ul>"},{"location":"dev/changelog/#bug-fixes_94","title":"Bug Fixes","text":"<ul> <li>Fix a bug that requirement with extras isn't resolved to the version as specified by the range. #1001</li> <li>Replace the <code>${PROJECT_ROOT}</code> in the output of <code>pdm list</code>. #1004</li> <li>Further fix the python path issue of macOS system installed Python. #1023</li> <li>Fix the install path issue on Python 3.10 installed from homebrew. #996</li> </ul>"},{"location":"dev/changelog/#improved-documentation_2","title":"Improved Documentation","text":"<ul> <li>Document how to install PDM inside a project with Pyprojectx. #1004</li> </ul>"},{"location":"dev/changelog/#dependencies_7","title":"Dependencies","text":"<ul> <li>Support <code>installer 0.5.x</code>. #1002</li> </ul>"},{"location":"dev/changelog/#release-v1136-2022-03-28","title":"Release v1.13.6 (2022-03-28)","text":""},{"location":"dev/changelog/#bug-fixes_95","title":"Bug Fixes","text":"<ul> <li>Default the optional <code>license</code> field to \"None\". #991</li> <li>Don't create project files in <code>pdm search</code> command. #993</li> <li>Fix a bug that the env vars in source urls in exported result are not expanded. #997</li> </ul>"},{"location":"dev/changelog/#release-v1135-2022-03-23","title":"Release v1.13.5 (2022-03-23)","text":""},{"location":"dev/changelog/#features-improvements_48","title":"Features &amp; Improvements","text":"<ul> <li>Users can change the install destination of global project to the user site(<code>~/.local</code>) with <code>global_project.user_site</code> config. #885</li> <li>Make the path to the global project configurable. Rename the configuration <code>auto_global</code> to <code>global_project.fallback</code> and deprecate the old name. #986</li> </ul>"},{"location":"dev/changelog/#bug-fixes_96","title":"Bug Fixes","text":"<ul> <li>Fix the compatibility when fetching license information in <code>show</code> command. #966</li> <li>Don't follow symlinks for the paths in the requirement strings. #976</li> <li>Use the default install scheme when installing build requirements. #983</li> <li>Fix a bug that <code>_.site_packages</code> is overridden by default option value. #985</li> </ul>"},{"location":"dev/changelog/#release-v1134-2022-03-09","title":"Release v1.13.4 (2022-03-09)","text":""},{"location":"dev/changelog/#features-improvements_49","title":"Features &amp; Improvements","text":"<ul> <li>Update the dependency <code>pdm-pep517</code> to support PEP 639. #959</li> </ul>"},{"location":"dev/changelog/#bug-fixes_97","title":"Bug Fixes","text":"<ul> <li>Filter out the unmatched python versions when listing the available versions. #941</li> <li>Fix a bug displaying the available python versions. #943</li> <li>Fix a bug under non-UTF8 console encoding. #960</li> <li>Fix a bug that data files are not copied to the destination when using installation cache. #961</li> </ul>"},{"location":"dev/changelog/#release-v1133-2022-02-24","title":"Release v1.13.3 (2022-02-24)","text":""},{"location":"dev/changelog/#bug-fixes_98","title":"Bug Fixes","text":"<ul> <li>Fix a bug that VCS repo name are parsed as the package name. #928</li> <li>Support prerelease versions for global projects. #932</li> <li>Fix a bug that VCS revision in the lock file isn't respected when installing. #933</li> </ul>"},{"location":"dev/changelog/#dependencies_8","title":"Dependencies","text":"<ul> <li>Switch from <code>pythonfinder</code> to <code>findpython</code> as the Python version finder. #930</li> </ul>"},{"location":"dev/changelog/#release-v1132-2022-02-20","title":"Release v1.13.2 (2022-02-20)","text":""},{"location":"dev/changelog/#bug-fixes_99","title":"Bug Fixes","text":"<ul> <li>Fix a regression issue that prereleases can't be installed if the version specifier of the requirement doesn't imply that. #920</li> </ul>"},{"location":"dev/changelog/#release-v1131-2022-02-18","title":"Release v1.13.1 (2022-02-18)","text":""},{"location":"dev/changelog/#bug-fixes_100","title":"Bug Fixes","text":"<ul> <li>Fix a bug that bad pip cache dir value breaks PDM's check update function. #922</li> <li>Fix a race condition in parallel installation by changing metadata to a lazy property.   This fixes a bug that incompatible wheels are installed unexpectedly. #924</li> </ul>"},{"location":"dev/changelog/#release-v1130post0-2022-02-18","title":"Release v1.13.0.post0 (2022-02-18)","text":""},{"location":"dev/changelog/#bug-fixes_101","title":"Bug Fixes","text":"<ul> <li>Fix a bug that incompatible platform-specific wheels are installed. #921</li> </ul>"},{"location":"dev/changelog/#release-v1130-2022-02-18","title":"Release v1.13.0 (2022-02-18)","text":""},{"location":"dev/changelog/#features-improvements_50","title":"Features &amp; Improvements","text":"<ul> <li>Support <code>pre_*</code> and <code>post_*</code> scripts for task composition. Pre- and Post- scripts for <code>init</code>, <code>build</code>, <code>install</code> and <code>lock</code> will be run if present. #789</li> <li>Support <code>--config/-c</code> option to specify another global configuration file. #883</li> <li>Packages with extras require no longer inherit the dependencies from the same package without extras. It is because the package without extras are returned as one of the dependencies. This change won't break the existing lock files nor dependency cache. #892</li> <li>Support version ranges in <code>[tool.pdm.overrides]</code> table. #909</li> <li>Rename config <code>use_venv</code> to <code>python.use_venv</code>;   rename config <code>feature.install_cache</code> to <code>install.cache</code>;   rename config <code>feature.install_cache_method</code> to <code>install.cache_method</code>;   rename config <code>parallel_install</code> to <code>install.parallel</code>. #914</li> </ul>"},{"location":"dev/changelog/#bug-fixes_102","title":"Bug Fixes","text":"<ul> <li>Fix a bug that file URLs or VCS URLs don't work in <code>[tool.pdm.overrides]</code> table. #861</li> <li>Fix a bug of identifier mismatch for URL requirements without an explicit name. #901</li> <li>No <code>requires-python</code> should be produced if ANY(<code>*</code>) is given. #917</li> <li>Fix a bug that <code>pdm.lock</code> gets created when <code>--dry-run</code> is passed to <code>pdm add</code>. #918</li> </ul>"},{"location":"dev/changelog/#improved-documentation_3","title":"Improved Documentation","text":"<ul> <li>The default editable backend becomes <code>path</code>. #904</li> </ul>"},{"location":"dev/changelog/#removals-and-deprecations_11","title":"Removals and Deprecations","text":"<ul> <li>Stop auto-migrating projects from PDM 0.x format. #912</li> </ul>"},{"location":"dev/changelog/#refactor","title":"Refactor","text":"<ul> <li>Rename <code>ExtrasError</code> to <code>ExtrasWarning</code> for better understanding. Improve the warning message. #892</li> <li>Extract the environment related code from <code>Candidate</code> into a new class <code>PreparedCandidate</code>.   <code>Candidate</code> no longer holds an <code>Environment</code> instance. #920</li> </ul>"},{"location":"dev/changelog/#release-v1128-2022-02-06","title":"Release v1.12.8 (2022-02-06)","text":""},{"location":"dev/changelog/#features-improvements_51","title":"Features &amp; Improvements","text":"<ul> <li>Print the error and continue if a plugin fails to load. #878</li> </ul>"},{"location":"dev/changelog/#bug-fixes_103","title":"Bug Fixes","text":"<ul> <li>PDM now ignores configuration of uninstalled plugins. #872</li> <li>Fix the compatibility issue with <code>pip&gt;=22.0</code>. #875</li> </ul>"},{"location":"dev/changelog/#release-v1127-2022-01-31","title":"Release v1.12.7 (2022-01-31)","text":""},{"location":"dev/changelog/#features-improvements_52","title":"Features &amp; Improvements","text":"<ul> <li>If no command is given to <code>pdm run</code>, it will run the Python REPL. #856</li> </ul>"},{"location":"dev/changelog/#bug-fixes_104","title":"Bug Fixes","text":"<ul> <li>Fix the hash calculation when generating <code>direct_url.json</code> for a local pre-built wheel. #861</li> <li>PDM no longer migrates project meta silently. #867</li> </ul>"},{"location":"dev/changelog/#dependencies_9","title":"Dependencies","text":"<ul> <li>Pin <code>pip&lt;22.0</code>. #874</li> </ul>"},{"location":"dev/changelog/#miscellany_9","title":"Miscellany","text":"<ul> <li>Reduce the number of tests that require network, and mark the rest with <code>network</code> marker. #858</li> </ul>"},{"location":"dev/changelog/#release-v1126-2022-01-12","title":"Release v1.12.6 (2022-01-12)","text":""},{"location":"dev/changelog/#bug-fixes_105","title":"Bug Fixes","text":"<ul> <li>Fix a bug that cache dir isn't created. #843</li> </ul>"},{"location":"dev/changelog/#release-v1125-2022-01-11","title":"Release v1.12.5 (2022-01-11)","text":""},{"location":"dev/changelog/#bug-fixes_106","title":"Bug Fixes","text":"<ul> <li>Fix a resolution error that dots in the package name are normalized to <code>-</code> unexpectedly. #853</li> </ul>"},{"location":"dev/changelog/#release-v1124-2022-01-11","title":"Release v1.12.4 (2022-01-11)","text":""},{"location":"dev/changelog/#features-improvements_53","title":"Features &amp; Improvements","text":"<ul> <li>Remember the last selection in <code>use</code> command to save the human effort.   And introduce an <code>-i</code> option to ignored that remembered value. #846</li> </ul>"},{"location":"dev/changelog/#bug-fixes_107","title":"Bug Fixes","text":"<ul> <li>Fix a bug of uninstall crash when the package has directories in <code>RECORD</code>. #847</li> <li>Fix the <code>ModuleNotFoundError</code> during uninstall when the modules required are removed. #850</li> </ul>"},{"location":"dev/changelog/#release-v1123-2022-01-07","title":"Release v1.12.3 (2022-01-07)","text":""},{"location":"dev/changelog/#features-improvements_54","title":"Features &amp; Improvements","text":"<ul> <li>Support setting Python path in global configuration. #842</li> </ul>"},{"location":"dev/changelog/#bug-fixes_108","title":"Bug Fixes","text":"<ul> <li>Lowercase the package names in the lock file make it more stable. #836</li> <li>Show the packages to be updated in dry run mode of <code>pdm update</code> even if <code>--no-sync</code> is passed. #837</li> <li>Improve the robustness of update check code. #841</li> <li>Fix a bug that export result has environment markers that don't apply for all requirements. #843</li> </ul>"},{"location":"dev/changelog/#release-v1122-2021-12-30","title":"Release v1.12.2 (2021-12-30)","text":""},{"location":"dev/changelog/#features-improvements_55","title":"Features &amp; Improvements","text":"<ul> <li>Allow changing the installation linking method by <code>feature.install_cache_method</code> config. #822</li> </ul>"},{"location":"dev/changelog/#bug-fixes_109","title":"Bug Fixes","text":"<ul> <li>Fix a bug that namespace packages can't be symlinked to the cache due to existing links. #820</li> <li>Make PDM generated pth files processed as early as possible. #821</li> <li>Fix a UnicodeDecodeError for subprocess logger under Windows/GBK. #823</li> </ul>"},{"location":"dev/changelog/#release-v1121-2021-12-24","title":"Release v1.12.1 (2021-12-24)","text":""},{"location":"dev/changelog/#bug-fixes_110","title":"Bug Fixes","text":"<ul> <li>Don't symlink pycaches to the target place. #817</li> </ul>"},{"location":"dev/changelog/#release-v1120-2021-12-22","title":"Release v1.12.0 (2021-12-22)","text":""},{"location":"dev/changelog/#features-improvements_56","title":"Features &amp; Improvements","text":"<ul> <li>Add <code>lock --refresh</code> to update the hash stored with the lock file without updating the pinned versions. #642</li> <li>Support resolution overriding in the <code>[tool.pdm.overrides]</code> table. #790</li> <li>Add support for signals for basic operations, now including <code>post_init</code>, <code>pre_lock</code>, <code>post_lock</code>, <code>pre_install</code> and <code>post_install</code>. #798</li> <li>Add <code>install --check</code> to check if the lock file is up to date. #810</li> <li>Use symlinks to cache installed packages when it is supported by the file system. #814</li> </ul>"},{"location":"dev/changelog/#bug-fixes_111","title":"Bug Fixes","text":"<ul> <li>Fix a bug that candidates from urls are rejected by the <code>allow_prereleases</code> setting.   Now non-named requirements are resolved earlier than pinned requirements. #799</li> </ul>"},{"location":"dev/changelog/#improved-documentation_4","title":"Improved Documentation","text":"<ul> <li>Add a new doc page: API reference. #802</li> </ul>"},{"location":"dev/changelog/#dependencies_10","title":"Dependencies","text":"<ul> <li>Switch back from <code>atoml</code> to <code>tomlkit</code> as the style-preserving TOML parser. The latter has supported TOML v1.0.0. #809</li> </ul>"},{"location":"dev/changelog/#miscellany_10","title":"Miscellany","text":"<ul> <li>Cache the latest version of PDM for one week to reduce the request frequency. #800</li> </ul>"},{"location":"dev/changelog/#release-v1113-2021-12-15","title":"Release v1.11.3 (2021-12-15)","text":""},{"location":"dev/changelog/#features-improvements_57","title":"Features &amp; Improvements","text":"<ul> <li>Change the default version save strategy to <code>minimum</code>, without upper bounds. #787</li> </ul>"},{"location":"dev/changelog/#bug-fixes_112","title":"Bug Fixes","text":"<ul> <li>Fix the patching of sysconfig in PEP 582 initialization script. #796</li> </ul>"},{"location":"dev/changelog/#miscellany_11","title":"Miscellany","text":"<ul> <li>Fix an installation failure of the bootstrap script on macOS Catalina. #793</li> <li>Add a basic benchmarking script. #794</li> </ul>"},{"location":"dev/changelog/#release-v1112-2021-12-10","title":"Release v1.11.2 (2021-12-10)","text":""},{"location":"dev/changelog/#bug-fixes_113","title":"Bug Fixes","text":"<ul> <li>Fix the resolution order to reduce the loop number to find a conflict. #781</li> <li>Patch the functions in <code>sysconfig</code> to return the PEP 582 scheme in <code>pdm run</code>. #784</li> </ul>"},{"location":"dev/changelog/#dependencies_11","title":"Dependencies","text":"<ul> <li>Remove the upper bound of version constraints for most dependencies, except for some zero-versioned ones. #787</li> </ul>"},{"location":"dev/changelog/#release-v1111-2021-12-08","title":"Release v1.11.1 (2021-12-08)","text":""},{"location":"dev/changelog/#features-improvements_58","title":"Features &amp; Improvements","text":"<ul> <li>Support <code>--pre/--prelease</code> option for <code>pdm add</code> and <code>pdm update</code>. It will allow prereleases to be pinned. #774</li> <li>Improve the error message when python is found but not meeting the python requirement. #777</li> </ul>"},{"location":"dev/changelog/#bug-fixes_114","title":"Bug Fixes","text":"<ul> <li>Fix a bug that <code>git+https</code> candidates cannot be resolved. #771</li> <li>Fix an infinite resolution loop by resolving the top-level packages first. Also deduplicate the lines from the same requirement in the error output. #776</li> </ul>"},{"location":"dev/changelog/#miscellany_12","title":"Miscellany","text":"<ul> <li>Fix the install script to use a zipapp of virtualenv when it isn't installed. #780</li> </ul>"},{"location":"dev/changelog/#release-v1110-2021-11-30","title":"Release v1.11.0 (2021-11-30)","text":""},{"location":"dev/changelog/#features-improvements_59","title":"Features &amp; Improvements","text":"<ul> <li>Move <code>version</code> from <code>[project]</code> table to <code>[tool.pdm]</code> table, delete <code>classifiers</code> from <code>dynamic</code>, and warn usage about the deprecated usages. #748</li> <li>Add support for Conda environments in addition to Python virtual environments. #749</li> <li>Add support for saving only the lower bound <code>x &gt;= VERSION</code> when adding dependencies. #752</li> <li>Improve the error message when resolution fails. #754</li> </ul>"},{"location":"dev/changelog/#bug-fixes_115","title":"Bug Fixes","text":"<ul> <li>Switch to self-implemented <code>pdm list --freeze</code> to fix a bug due to Pip's API change. #533</li> <li>Fix an infinite loop issue when resolving candidates with incompatible <code>requires-python</code>. #744</li> <li>Fix the python finder to support pyenv-win. #745</li> <li>Fix the ANSI color output for Windows cmd and Powershell terminals. #753</li> </ul>"},{"location":"dev/changelog/#removals-and-deprecations_12","title":"Removals and Deprecations","text":"<ul> <li>Remove <code>-s/--section</code> option from all previously supported commands. Use <code>-G/--group</code> instead. #756</li> </ul>"},{"location":"dev/changelog/#release-v1103-2021-11-18","title":"Release v1.10.3 (2021-11-18)","text":""},{"location":"dev/changelog/#bug-fixes_116","title":"Bug Fixes","text":"<ul> <li>Use <code>importlib</code> to replace <code>imp</code> in the <code>sitecustomize</code> module for Python 3. #574</li> <li>Fix the lib paths under non-isolated build. #740</li> <li>Exclude the dependencies with extras in the result of <code>pdm export</code>. #741</li> </ul>"},{"location":"dev/changelog/#release-v1102-2021-11-14","title":"Release v1.10.2 (2021-11-14)","text":""},{"location":"dev/changelog/#features-improvements_60","title":"Features &amp; Improvements","text":"<ul> <li>Add a new option <code>-s/--site-packages</code> to <code>pdm run</code> as well as a script config item. When it is set to <code>True</code>, site-packages from the selected interpreter will be loaded into the running environment. #733</li> </ul>"},{"location":"dev/changelog/#bug-fixes_117","title":"Bug Fixes","text":"<ul> <li>Now <code>NO_SITE_PACKAGES</code> isn't set in <code>pdm run</code> if the executable is out of local packages. #733</li> </ul>"},{"location":"dev/changelog/#release-v1101-2021-11-09","title":"Release v1.10.1 (2021-11-09)","text":""},{"location":"dev/changelog/#features-improvements_61","title":"Features &amp; Improvements","text":"<ul> <li>Isolate the project environment with system site packages in <code>pdm run</code>, but keep them seen when PEP 582 is enabled. #708</li> </ul>"},{"location":"dev/changelog/#bug-fixes_118","title":"Bug Fixes","text":"<ul> <li>Run <code>pip</code> with <code>--isolated</code> when building wheels. In this way some env vars like <code>PIP_REQUIRE_VIRTUALENV</code> can be ignored. #669</li> <li>Fix the install script to ensure <code>pip</code> is not DEBUNDLED. #685</li> <li>Fix a bug that when <code>summary</code> is <code>None</code>, the lockfile can't be generated. #719</li> <li><code>${PROJECT_ROOT}</code> should be written in the URL when relative path is given. #721</li> <li>Fix a bug that when project table already exists, <code>pdm import</code> can't merge the settings correctly. #723</li> </ul>"},{"location":"dev/changelog/#release-v1100-2021-10-25","title":"Release v1.10.0 (2021-10-25)","text":""},{"location":"dev/changelog/#features-improvements_62","title":"Features &amp; Improvements","text":"<ul> <li>Add <code>--no-sync</code> option to <code>update</code> command. #684</li> <li>Support <code>find_links</code> source type. It can be specified via <code>type</code> key of <code>[[tool.pdm.source]]</code> table. #694</li> <li>Add <code>--dry-run</code> option to <code>add</code>, <code>install</code> and <code>remove</code> commands. #698</li> </ul>"},{"location":"dev/changelog/#bug-fixes_119","title":"Bug Fixes","text":"<ul> <li>Remove trailing whitespace with terminal output of tables (via <code>project.core.ui.display_columns</code>), fixing unnecessary wrapping due to / with empty lines full of spaces in case of long URLs in the last column. #680</li> <li>Include files should be installed under venv's base path. #682</li> <li>Ensure the value of <code>check_update</code> is boolean. #689</li> </ul>"},{"location":"dev/changelog/#improved-documentation_5","title":"Improved Documentation","text":"<ul> <li>Update the contributing guide, remove the usage of <code>setup_dev.py</code> in favor of <code>pip install</code>. #676</li> </ul>"},{"location":"dev/changelog/#release-v190-2021-10-12","title":"Release v1.9.0 (2021-10-12)","text":""},{"location":"dev/changelog/#bug-fixes_120","title":"Bug Fixes","text":"<ul> <li>Fix a bug that <code>requires-python</code> is not recognized in candidates evaluation. #657</li> <li>Fix the path order when pdm run so that executables in local packages dir are found first. #678</li> </ul>"},{"location":"dev/changelog/#dependencies_12","title":"Dependencies","text":"<ul> <li>Update <code>installer</code> to <code>0.3.0</code>, fixing a bug that broke installation of some packages with unusual wheel files. #653</li> <li>Change <code>packaging</code> and <code>typing-extensions</code> to direct dependencies. #674</li> </ul>"},{"location":"dev/changelog/#refactor_1","title":"Refactor","text":"<ul> <li><code>requires-python</code> now participates in the resolution as a dummy requirement. #658</li> </ul>"},{"location":"dev/changelog/#release-v185-2021-09-16","title":"Release v1.8.5 (2021-09-16)","text":""},{"location":"dev/changelog/#bug-fixes_121","title":"Bug Fixes","text":"<ul> <li>Fix the error of regex to find the shebang line. #656</li> </ul>"},{"location":"dev/changelog/#release-v184-2021-09-15","title":"Release v1.8.4 (2021-09-15)","text":""},{"location":"dev/changelog/#features-improvements_63","title":"Features &amp; Improvements","text":"<ul> <li>Support <code>--no-isolation</code> option for <code>install</code>, <code>lock</code>, <code>update</code>, <code>remove</code>, <code>sync</code> commands. #640</li> <li>Make <code>project_max_depth</code> configurable and default to <code>5</code>. #643</li> </ul>"},{"location":"dev/changelog/#bug-fixes_122","title":"Bug Fixes","text":"<ul> <li>Don't try <code>pdm-pep517</code> backend on Python 2.7 when installing self as editable. #640</li> <li>Fix a bug that existing shebang can't be replaced correctly. #651</li> <li>Fix the version range saving for prerelease versions. #654</li> </ul>"},{"location":"dev/changelog/#release-v183-2021-09-07","title":"Release v1.8.3 (2021-09-07)","text":""},{"location":"dev/changelog/#features-improvements_64","title":"Features &amp; Improvements","text":"<ul> <li>Allow to build in non-isolated environment, to enable optional speedups depending on the environment. #635</li> </ul>"},{"location":"dev/changelog/#bug-fixes_123","title":"Bug Fixes","text":"<ul> <li>Don't copy <code>*-nspkg.pth</code> files in <code>install_cache</code> mode. It will still work without them. #623</li> </ul>"},{"location":"dev/changelog/#release-v182-2021-09-01","title":"Release v1.8.2 (2021-09-01)","text":""},{"location":"dev/changelog/#bug-fixes_124","title":"Bug Fixes","text":"<ul> <li>Fix the removal issue of standalone pyc files #633</li> </ul>"},{"location":"dev/changelog/#release-v181-2021-08-26","title":"Release v1.8.1 (2021-08-26)","text":""},{"location":"dev/changelog/#features-improvements_65","title":"Features &amp; Improvements","text":"<ul> <li>Add <code>-r/--reinstall</code> option to <code>sync</code> command to force re-install the existing dependencies. #601</li> <li>Show update hint after every pdm command. #603</li> <li><code>pdm cache clear</code> can clear cached installations if not needed any more. #604</li> </ul>"},{"location":"dev/changelog/#bug-fixes_125","title":"Bug Fixes","text":"<ul> <li>Fix the editable install script so that <code>setuptools</code> won't see the dependencies under local packages. #601</li> <li>Preserve the executable bit when installing wheels. #606</li> <li>Write PEP 610 metadata <code>direct_url.json</code> when installing wheels. #607</li> <li>Fix a bug that <code>*</code> fails to be converted as <code>SpecifierSet</code>. #609</li> </ul>"},{"location":"dev/changelog/#refactor_2","title":"Refactor","text":"<ul> <li>Build editable packages are into wheels via PEP 660 build backend. Now all installations are unified into wheels. #612</li> </ul>"},{"location":"dev/changelog/#release-v180-2021-08-16","title":"Release v1.8.0 (2021-08-16)","text":""},{"location":"dev/changelog/#features-improvements_66","title":"Features &amp; Improvements","text":"<ul> <li>Added a new mode <code>--json</code> to the list command which outputs the dependency graph as a JSON document. #583</li> <li>Add a new config <code>feature.install_cache</code>. When it is turned on, wheels will be installed into a centralized package repo and create <code>.pth</code> files under project packages directory to link to the cached package. #589</li> </ul>"},{"location":"dev/changelog/#bug-fixes_126","title":"Bug Fixes","text":"<ul> <li>Fix env vars in source URLs not being expanded in all cases. #570</li> <li>Fix the weird output of <code>pdm show</code>. #580</li> <li>Prefer <code>~/.pyenv/shims/python3</code> as the pyenv interpreter. #590</li> <li>Fix a bug that installing will download candidates that do not match the locked hashes. #596</li> </ul>"},{"location":"dev/changelog/#improved-documentation_6","title":"Improved Documentation","text":"<ul> <li>Added instructions to the Contributing section for creating news fragments #573</li> </ul>"},{"location":"dev/changelog/#removals-and-deprecations_13","title":"Removals and Deprecations","text":"<ul> <li>Deprecate <code>-s/--section</code> option in favor of <code>-G/--group</code>. #591</li> </ul>"},{"location":"dev/changelog/#refactor_3","title":"Refactor","text":"<ul> <li>Switch to a self-implemented version of uninstaller. #586</li> <li><code>pdm/installers/installers.py</code> is renamed to <code>pdm/installers/manager.py</code> to be more accurate. The <code>Installer</code> class under that file is renamed to <code>InstallerManager</code> and is exposed in the <code>pdm.core.Core</code> object for overriding. The new <code>pdm/installers/installers.py</code> contains some installation implementations. #589</li> <li>Switch from <code>pkg_resources.Distribution</code> to the implementation of <code>importlib.metadata</code>. #592</li> </ul>"},{"location":"dev/changelog/#release-v172-2021-07-30","title":"Release v1.7.2 (2021-07-30)","text":""},{"location":"dev/changelog/#bug-fixes_127","title":"Bug Fixes","text":"<ul> <li>Remove the existing files before installing. #565</li> <li>Deduplicate the plugins list. #566</li> </ul>"},{"location":"dev/changelog/#release-v171-2021-07-29","title":"Release v1.7.1 (2021-07-29)","text":""},{"location":"dev/changelog/#bug-fixes_128","title":"Bug Fixes","text":"<ul> <li>Accept non-canonical distribution name in the wheel's dist-info directory name. #529</li> <li>Prefer requirements with narrower version constraints or allowing prereleases to find matches. #551</li> <li>Use the underlying real executable path for writing shebangs. #553</li> <li>Fix a bug that extra markers cannot be extracted when combined with other markers with \"and\". #559</li> <li>Fix a bug that redacted credentials in source urls get overwritten with the plain text after locking. #561</li> </ul>"},{"location":"dev/changelog/#refactor_4","title":"Refactor","text":"<ul> <li>Use installer as the wheel installer, replacing <code>distlib</code>. #519</li> </ul>"},{"location":"dev/changelog/#release-v170-2021-07-20","title":"Release v1.7.0 (2021-07-20)","text":""},{"location":"dev/changelog/#features-improvements_67","title":"Features &amp; Improvements","text":"<ul> <li>Support showing individual fields by <code>--&lt;field-name&gt;</code> options in pdm show. When no package is given, show this project. #527</li> <li>Add <code>--freeze</code> option to <code>pdm list</code> command which shows the dependencies list as pip's requirements.txt format. #531</li> </ul>"},{"location":"dev/changelog/#bug-fixes_129","title":"Bug Fixes","text":"<ul> <li>Fix the path manipulation on Windows, now the PEP 582 path is prepended to the <code>PYTHONPATH</code>. #522</li> <li>Fix the handling of auth prompting: will try keyring in non-verbose mode. #523</li> <li>Recognize old entry point name \"pdm.plugin\" for backward-compatibility. #530</li> <li>Match the VCS scheme in case-insensitive manner. #537</li> <li>Use the default permission bits when writing project files. #542</li> <li>Fix the VCS url to be consistent between lock and install. #547</li> </ul>"},{"location":"dev/changelog/#improved-documentation_7","title":"Improved Documentation","text":"<ul> <li>Add installation instructions for Scoop. #522</li> </ul>"},{"location":"dev/changelog/#dependencies_13","title":"Dependencies","text":"<ul> <li>Update <code>pdm-pep517</code> to <code>0.8.0</code>. #524</li> <li>Switch from <code>toml</code> to <code>tomli</code>. #541</li> </ul>"},{"location":"dev/changelog/#refactor_5","title":"Refactor","text":"<ul> <li>Separate the build env into two different levels for better caching. #541</li> <li>Refactor the build part into smaller functions. #543</li> </ul>"},{"location":"dev/changelog/#release-v164-2021-06-23","title":"Release v1.6.4 (2021-06-23)","text":""},{"location":"dev/changelog/#features-improvements_68","title":"Features &amp; Improvements","text":"<ul> <li>Extract package name from egg-info in filename when eligible. Remove the patching code of resolvelib's inner class. #441</li> <li>Support installing packages from subdiretories of VCS repository. #507</li> <li>Add an install script to bootstrap PDM quickly without help of other tools. Modify docs to recommend this installation method. #508</li> <li>Add a new subcommand <code>plugin</code> to manage pdm plugins, including <code>add</code>, <code>remove</code> and <code>list</code> commands. #510</li> </ul>"},{"location":"dev/changelog/#bug-fixes_130","title":"Bug Fixes","text":"<ul> <li>Don't monkeypatch the internal class of <code>resolvelib</code> any more. This makes PDM more stable across updates of sub-dependencies. #515</li> </ul>"},{"location":"dev/changelog/#miscellany_13","title":"Miscellany","text":"<ul> <li>Clear the type errors from mypy. #261</li> </ul>"},{"location":"dev/changelog/#release-v163-2021-06-17","title":"Release v1.6.3 (2021-06-17)","text":""},{"location":"dev/changelog/#features-improvements_69","title":"Features &amp; Improvements","text":"<ul> <li>Add an option <code>-u/--unconstrained</code> to support unconstraining version specifiers when adding packages. #501</li> </ul>"},{"location":"dev/changelog/#bug-fixes_131","title":"Bug Fixes","text":"<ul> <li>Fix the format of dependency arrays when a new value is appended. #487</li> <li>Allow missing email attribute for authors and maintainers. #492</li> <li>Fix a bug that editable install shouldn't require pyproject.toml to be valid. #497</li> <li>Fix a bug on macOS that purelib and platlib paths of isolated build envs cannot be substituted correctly if the Python is a framework build. #502</li> <li>Fix the version sort of candidates. #506</li> </ul>"},{"location":"dev/changelog/#release-v162-2021-05-31","title":"Release v1.6.2 (2021-05-31)","text":"<p>No significant changes.</p>"},{"location":"dev/changelog/#release-v161-2021-05-31","title":"Release v1.6.1 (2021-05-31)","text":"<p>No significant changes.</p>"},{"location":"dev/changelog/#release-v160-2021-05-31","title":"Release v1.6.0 (2021-05-31)","text":""},{"location":"dev/changelog/#features-improvements_70","title":"Features &amp; Improvements","text":"<ul> <li>Use a new approach to determine the packages to be installed. This requires a quick resolution step before installation. #456</li> <li><code>pdm export</code> no longer produces requirements file applicable for all platforms due to the new approach. #456</li> <li>Add structural typing for requirements module. Refactor the requirements module for that purpose. #433</li> <li>Introduce <code>--no-editable</code> option to install non-editable versions of all packages. #443</li> <li>Introduce <code>--no-self</code> option to prevent the project itself from being installed. #444</li> <li>Add a default <code>.gitignore</code> file in the <code>__pypackages__</code> directory. #446</li> <li>Check if the lock file version is compatible with PDM program before installation. #463</li> <li>Expose the project root path via <code>PDM_PROJECT_ROOT</code> env var. Change to the project root when executing scripts. #470</li> <li>Fix a bug that installation resolution doesn't respect the requirement markers from pyproject config. #480</li> </ul>"},{"location":"dev/changelog/#bug-fixes_132","title":"Bug Fixes","text":"<ul> <li>Changing to multiline breaks the parsing of TOML document. #462</li> <li>Fix a bug that transient dependencies of conditional requirements can't be resolved. #472</li> <li>Fix a bug that invalid wheels are rejected while they are acceptable for resolution. #473</li> <li>Fix a bug that build environment is not fully isolated with the hosted environment. #477</li> <li>Ensure the lock file is compatible before looking for the locked candidates. #484</li> </ul>"},{"location":"dev/changelog/#improved-documentation_8","title":"Improved Documentation","text":"<ul> <li>Fix 404 links in documentation. #472</li> </ul>"},{"location":"dev/changelog/#dependencies_14","title":"Dependencies","text":"<ul> <li>Migrate from <code>tomlkit</code> to <code>atoml</code> as the style-preserving TOML parser and writer. #465</li> </ul>"},{"location":"dev/changelog/#removals-and-deprecations_14","title":"Removals and Deprecations","text":"<ul> <li>Remove the warning of <code>--dev</code> flag for older versions of PDM. #444</li> </ul>"},{"location":"dev/changelog/#miscellany_14","title":"Miscellany","text":"<ul> <li>Add Python 3.10 beta CI job. #457</li> </ul>"},{"location":"dev/changelog/#release-v153-2021-05-10","title":"Release v1.5.3 (2021-05-10)","text":""},{"location":"dev/changelog/#features-improvements_71","title":"Features &amp; Improvements","text":"<ul> <li>Support passing options to the build backends via <code>--config-setting</code>. #452</li> </ul>"},{"location":"dev/changelog/#bug-fixes_133","title":"Bug Fixes","text":"<ul> <li>Seek for other sitecustomize.py to import. #422</li> <li>Fix an unescaped single quote in fish completion script. #423</li> <li>The hashes of a remote file candidate should be calculated from the link itself. #450</li> </ul>"},{"location":"dev/changelog/#dependencies_15","title":"Dependencies","text":"<ul> <li>Remove <code>keyring</code> as a dependency and guide users to install it when it is not available. #442</li> <li>Specify the minimum version of <code>distlib</code>. #447</li> </ul>"},{"location":"dev/changelog/#miscellany_15","title":"Miscellany","text":"<ul> <li>Add log output about found candidates and their origin. #421</li> <li>Add mypy pre-commit hook #427</li> <li>Improve type safety of <code>pdm.cli.actions</code> #428</li> <li>Fix wrong mypy configuration. #451</li> </ul>"},{"location":"dev/changelog/#release-v152-2021-04-27","title":"Release v1.5.2 (2021-04-27)","text":""},{"location":"dev/changelog/#features-improvements_72","title":"Features &amp; Improvements","text":"<ul> <li>Allow <code>pdm use</code> with no argument given, which will list all available pythons for pick. #409</li> </ul>"},{"location":"dev/changelog/#bug-fixes_134","title":"Bug Fixes","text":"<ul> <li>Inform user to enable PEP 582 for development script to work. #404</li> <li>Check the existence of pyenv shim Python interpreter before using it. #406</li> <li>Fix a bug that executing <code>setup.py</code> failed for NameError. #407</li> <li>Check before setting the PYTHONPATH environment variable for PEP582 #410</li> <li>Fix development setup error. #415</li> </ul>"},{"location":"dev/changelog/#dependencies_16","title":"Dependencies","text":"<ul> <li>Update pip to 21.1 and fix compatibility issues. #412</li> </ul>"},{"location":"dev/changelog/#release-v151-2021-04-22","title":"Release v1.5.1 (2021-04-22)","text":""},{"location":"dev/changelog/#bug-fixes_135","title":"Bug Fixes","text":"<ul> <li>Make func translate_sections pure to avoid exporting requirements in random order. #401</li> <li>Expand the variables in install requirements' attributes for build. #402</li> </ul>"},{"location":"dev/changelog/#release-v150-2021-04-20","title":"Release v1.5.0 (2021-04-20)","text":""},{"location":"dev/changelog/#features-improvements_73","title":"Features &amp; Improvements","text":"<ul> <li>Include dev dependencies by default for <code>install</code> and <code>sync</code> commands. Add a new option <code>--prod/--production</code> to exclude them. Improve the dependency selection logic to be more convenient to use \u2014 the more common the usage is, the shorter the command is. #391</li> </ul>"},{"location":"dev/changelog/#bug-fixes_136","title":"Bug Fixes","text":"<ul> <li>Enquote executable path to ensure generating valid scripts. #387</li> <li>Consider hashes when fetching artifact link for build. #389</li> <li>Considier the sources settings when building. #399</li> </ul>"},{"location":"dev/changelog/#improved-documentation_9","title":"Improved Documentation","text":"<ul> <li>New pdm setting <code>source-includes</code> to mark files to be included only in sdist builds. #390</li> </ul>"},{"location":"dev/changelog/#dependencies_17","title":"Dependencies","text":"<ul> <li>Update <code>pdm-pep517</code> to <code>0.7.0</code>; update <code>resolvelib</code> to<code>0.7.0</code>. #390</li> </ul>"},{"location":"dev/changelog/#removals-and-deprecations_15","title":"Removals and Deprecations","text":"<ul> <li>Deprecate the usage of <code>-d/--dev</code> option in <code>install</code> and <code>sync</code> commands. #391</li> </ul>"},{"location":"dev/changelog/#release-v150b1-2021-04-12","title":"Release v1.5.0b1 (2021-04-12)","text":""},{"location":"dev/changelog/#features-improvements_74","title":"Features &amp; Improvements","text":"<ul> <li>Improve the env builder to run in isolated mode. #384</li> </ul>"},{"location":"dev/changelog/#bug-fixes_137","title":"Bug Fixes","text":"<ul> <li>Remove the incompatible code from the files that will be run in-process. #375</li> <li>Get the correct Python ABI tag of selected interpreter #378</li> <li>Error out when doing <code>pdm run</code> on a directory not initialized yet.</li> <li>Give warning message when the project automatically fallbacks to the global project.</li> </ul>"},{"location":"dev/changelog/#dependencies_18","title":"Dependencies","text":"<ul> <li>Upgrade <code>resolvelib</code> to <code>0.6.0</code>. #381</li> </ul>"},{"location":"dev/changelog/#miscellany_16","title":"Miscellany","text":"<ul> <li>refactor <code>pdm.models.readers</code> to improve typing support #321</li> <li>Add a basic integration test for cross-python check. #377</li> <li>Refactor the <code>project.python_executable</code> to <code>project.python</code> that contains all info of the interpreter. #382</li> <li>Continue refactoring Python info to extract to its own module. #383</li> <li>Refactor the creation of project.</li> </ul>"},{"location":"dev/changelog/#release-v150b0-2021-04-03","title":"Release v1.5.0b0 (2021-04-03)","text":""},{"location":"dev/changelog/#features-improvements_75","title":"Features &amp; Improvements","text":"<ul> <li>Add hand-written zsh completion script. #188</li> <li>Add a special value <code>:all</code> given to <code>-s/--section</code> to refer to all sections under the same species.   Adjust <code>add</code>, <code>sync</code>, <code>install</code>, <code>remove</code> and <code>update</code> to support the new <code>dev-dependencies</code> groups. Old behavior will be kept the same. #351</li> <li><code>dev-dependencies</code> is now a table of dependencies groups, where key is the group name and value is an array of dependencies. These dependencies won't appear in the distribution's metadata. <code>dev-depedencies</code> of the old format will turn into <code>dev</code> group under <code>dev-dependencies</code>. #351</li> <li>Move <code>dev-dependencies</code>, <code>includes</code>, <code>excludes</code> and <code>package-dir</code> out from <code>[project]</code> table to <code>[tool.pdm]</code> table. The migration will be done automatically if old format is detected. #351</li> <li>Throws an error with meaningful message when no candidate is found for one requirement. #357</li> <li>Support <code>--dry-run</code> option for <code>update</code> command to display packages that need update, install or removal. Add <code>--top</code> option to limit to top level packages only. #358</li> <li>Full-featured completion scripts for Zsh and Powershell - section selection, package name autocompletion and so on. Windows is a first-class citizen! #367</li> <li>Support non-interactive <code>init</code> command via <code>-n/--non-interactive</code> option. No question will be asked in this mode. #368</li> <li>Show project packages path(PEP 582) in the output of <code>pdm info</code>, also add an option <code>--packages</code> to show that value only. #372</li> </ul>"},{"location":"dev/changelog/#bug-fixes_138","title":"Bug Fixes","text":"<ul> <li>Fix a bug that pure python libraries are not loaded to construct the WorkingSet. #346</li> <li>Don't write <code>&lt;script&gt;-X.Y</code> variant to the bin folder. #365</li> <li>Python is now run in isolated mode via subprocess to avoid accidentally importing user packages. #369</li> <li>Don't overwrite existing dependencies when importing from requirements.txt. #370</li> </ul>"},{"location":"dev/changelog/#improved-documentation_10","title":"Improved Documentation","text":"<ul> <li>Add instructions of how to integrate PDM with Emacs, contributed by @linw1995. #372</li> </ul>"},{"location":"dev/changelog/#removals-and-deprecations_16","title":"Removals and Deprecations","text":"<ul> <li>Remove the support of project path following <code>-g/--global</code> that was deprecated in <code>1.4.0</code>. One should use <code>-g -p &lt;project_path&gt;</code> for that purpose. #361</li> </ul>"},{"location":"dev/changelog/#miscellany_17","title":"Miscellany","text":"<ul> <li>Add test coverage to PDM. #109</li> <li>Add type annotations into untyped functions to start using mypy. #354</li> <li>Refactor the format converter code to be more explicit. #360</li> </ul>"},{"location":"dev/changelog/#release-v145-2021-03-30","title":"Release v1.4.5 (2021-03-30)","text":""},{"location":"dev/changelog/#features-improvements_76","title":"Features &amp; Improvements","text":"<ul> <li>Skip the first prompt of <code>pdm init</code> #352</li> </ul>"},{"location":"dev/changelog/#bug-fixes_139","title":"Bug Fixes","text":"<ul> <li>Fix a test failure when using homebrew installed python. #348</li> <li>Get revision from the VCS URL if source code isn't downloaded to local. #349</li> </ul>"},{"location":"dev/changelog/#dependencies_19","title":"Dependencies","text":"<ul> <li>Update dependency <code>pdm-pep517</code> to <code>0.6.1</code>. #353</li> </ul>"},{"location":"dev/changelog/#release-v144-2021-03-27","title":"Release v1.4.4 (2021-03-27)","text":""},{"location":"dev/changelog/#features-improvements_77","title":"Features &amp; Improvements","text":"<ul> <li>Emit warning if version or description can't be retrieved when importing from flit metadata. #342</li> <li>Add <code>type</code> argument to <code>pdm cache clear</code> and improve its UI. #343</li> <li>Always re-install the editable packages when syncing the working set. This can help tracking the latest change of <code>entry-points</code>. #344</li> </ul>"},{"location":"dev/changelog/#bug-fixes_140","title":"Bug Fixes","text":"<ul> <li>Make installer quit early if a wheel isn't able to build. #338</li> </ul>"},{"location":"dev/changelog/#miscellany_18","title":"Miscellany","text":"<ul> <li>ignore type checking in <code>models.project_info.ProjectInfo</code>, which indexes <code>distlib.metadata._data</code> #335</li> </ul>"},{"location":"dev/changelog/#release-v143-2021-03-24","title":"Release v1.4.3 (2021-03-24)","text":""},{"location":"dev/changelog/#features-improvements_78","title":"Features &amp; Improvements","text":"<ul> <li>Change the group name of entry points from <code>pdm.plugins</code> to <code>pdm</code>.   Export some useful objects and models for shorter import path. #318</li> <li>Field <code>cmd</code> in <code>tools.pdm.scripts</code> configuration items now allows specifying an argument array instead of a string.</li> <li>Refactor: Remove the reference of <code>stream</code> singleton, improve the UI related code. #320</li> <li>Support dependencies managed by poetry and flit being installed as editable packages. #324</li> <li>Refactor: Extract the logic of finding interpreters to method for the sake of subclass overriding. #326</li> <li>Complete the <code>cache</code> command, add <code>list</code>, <code>remove</code> and <code>info</code> subcommands. #329</li> <li>Refactor: Unify the code about selecting interpreter to reduce the duplication. #331</li> <li>Retrieve the version and description of a flit project by parsing the AST of the main file. #333</li> </ul>"},{"location":"dev/changelog/#bug-fixes_141","title":"Bug Fixes","text":"<ul> <li>Fix a parsing error when non-ascii characters exist in <code>pyproject.toml</code>. #308</li> <li>Fix a bug that non-editable VCS candidates can't satisfy their requirements once locked in the lock file. #314</li> <li>Fix a bug of import-on-init that fails when requirements.txt is detected. #328</li> </ul>"},{"location":"dev/changelog/#miscellany_19","title":"Miscellany","text":"<ul> <li>refactor <code>pdm.iostream</code> to improve 'typing' support #301</li> <li>fix some typos #323</li> </ul>"},{"location":"dev/changelog/#release-v142-2021-03-18","title":"Release v1.4.2 (2021-03-18)","text":""},{"location":"dev/changelog/#features-improvements_79","title":"Features &amp; Improvements","text":"<ul> <li>Refactor the code, extract the version related logic from <code>specifiers.py</code> to a separated module. #303</li> </ul>"},{"location":"dev/changelog/#bug-fixes_142","title":"Bug Fixes","text":"<ul> <li>Fix a bug that get_dependencies() returns error when the <code>setup.py</code> has no <code>intall_requires</code> key. #299</li> <li>Pin the VCS revision for non-editable VCS candidates in the lock file. #305</li> <li>Fix a bug that editable build hits the cached wheel unexpectedly. #307</li> </ul>"},{"location":"dev/changelog/#miscellany_20","title":"Miscellany","text":"<ul> <li>replace 'typing comments' with type annotations throughout #298</li> </ul>"},{"location":"dev/changelog/#release-v141-2021-03-12","title":"Release v1.4.1 (2021-03-12)","text":""},{"location":"dev/changelog/#features-improvements_80","title":"Features &amp; Improvements","text":"<ul> <li>Support importing dependencies from requirements.txt to dev-dependencies or sections. #291</li> </ul>"},{"location":"dev/changelog/#bug-fixes_143","title":"Bug Fixes","text":"<ul> <li>Fallback to static parsing when building was failed to find the dependencies of a candidate. #293</li> <li>Fix a bug that <code>pdm init</code> fails when <code>pyproject.toml</code> exists but has no <code>[project]</code> section. #295</li> </ul>"},{"location":"dev/changelog/#improved-documentation_11","title":"Improved Documentation","text":"<ul> <li>Document about how to use PDM with Nox. #281</li> </ul>"},{"location":"dev/changelog/#release-v140-2021-03-05","title":"Release v1.4.0 (2021-03-05)","text":""},{"location":"dev/changelog/#features-improvements_81","title":"Features &amp; Improvements","text":"<ul> <li>When <code>-I/--ignore-python</code> passed or <code>PDM_IGNORE_SAVED_PYTHON=1</code>, ignore the interpreter set in <code>.pdm.toml</code> and don't save to it afterwards. #283</li> <li>A new option <code>-p/--project</code> is introduced to specify another path for the project base. It can also be combined with <code>-g/--global</code> option.   The latter is changed to a flag only option that does not accept values. #286</li> <li>Support <code>-f setuppy</code> for <code>pdm export</code> to export the metadata as setup.py #289</li> </ul>"},{"location":"dev/changelog/#bug-fixes_144","title":"Bug Fixes","text":"<ul> <li>Fix a bug that editable local package requirements cannot be parsed rightly. #285</li> <li>Change the priority of metadata files to parse so that PEP 621 metadata will be parsed first. #288</li> </ul>"},{"location":"dev/changelog/#improved-documentation_12","title":"Improved Documentation","text":"<ul> <li>Add examples of how to integrate with CI pipelines (and tox). #281</li> </ul>"},{"location":"dev/changelog/#release-v134-2021-03-01","title":"Release v1.3.4 (2021-03-01)","text":""},{"location":"dev/changelog/#improved-documentation_13","title":"Improved Documentation","text":"<ul> <li>added documentation on a task provider for vscode #280</li> </ul>"},{"location":"dev/changelog/#bug-fixes_145","title":"Bug Fixes","text":"<ul> <li>Ignore the python requires constraints when fetching the link from the PyPI index.</li> </ul>"},{"location":"dev/changelog/#release-v133-2021-02-26","title":"Release v1.3.3 (2021-02-26)","text":""},{"location":"dev/changelog/#bug-fixes_146","title":"Bug Fixes","text":"<ul> <li>Fix the requirement string of a VCS requirement to comply with PEP 508. #275</li> <li>Fix a bug that editable packages with <code>src</code> directory can't be uninstalled correctly. #277</li> <li>Fix a bug that editable package doesn't override the non-editable version in the working set. #278</li> </ul>"},{"location":"dev/changelog/#release-v132-2021-02-25","title":"Release v1.3.2 (2021-02-25)","text":""},{"location":"dev/changelog/#features-improvements_82","title":"Features &amp; Improvements","text":"<ul> <li>Abort and tell user the selected section following <code>pdm sync</code> or <code>pdm install</code> is not present in the error message. #274</li> </ul>"},{"location":"dev/changelog/#bug-fixes_147","title":"Bug Fixes","text":"<ul> <li>Fix a bug that candidates' sections cannot be retrieved rightly when circular dependencies exist. #270</li> <li>Don't pass the help argument into the run script method. #272</li> </ul>"},{"location":"dev/changelog/#release-v131-2021-02-19","title":"Release v1.3.1 (2021-02-19)","text":""},{"location":"dev/changelog/#bug-fixes_148","title":"Bug Fixes","text":"<ul> <li>Use the absolute path when importing from a Poetry pyproject.toml. #262</li> <li>Fix a bug that old toml table head is kept when converting to PEP 621 metadata format. #263</li> <li>Postpone the evaluation of <code>requires-python</code> attribute when fetching the candidates of a package. #264</li> </ul>"},{"location":"dev/changelog/#release-v130-2021-02-09","title":"Release v1.3.0 (2021-02-09)","text":""},{"location":"dev/changelog/#features-improvements_83","title":"Features &amp; Improvements","text":"<ul> <li>Increase the default value of the max rounds of resolution to 1000, make it configurable. #238</li> <li>Rewrite the project's <code>egg-info</code> directory when dependencies change. So that <code>pdm list --graph</code> won't show invalid entries. #240</li> <li>When importing requirements from a <code>requirements.txt</code> file, build the package to find the name if not given in the URL. #245</li> <li>When initializing the project, prompt user for whether the project is a library, and give empty <code>name</code> and <code>version</code> if not. #253</li> </ul>"},{"location":"dev/changelog/#bug-fixes_149","title":"Bug Fixes","text":"<ul> <li>Fix the version validator of wheel metadata to align with the implementation of <code>packaging</code>. #130</li> <li>Preserve the <code>sections</code> value of a pinned candidate to be reused. #234</li> <li>Strip spaces in user input when prompting for the python version to use. #252</li> <li>Fix the version parsing of Python requires to allow <code>&gt;</code>, <code>&gt;=</code>, <code>&lt;</code>, <code>&lt;=</code> to combine with star versions. #254</li> </ul>"},{"location":"dev/changelog/#release-v120-2021-01-26","title":"Release v1.2.0 (2021-01-26)","text":""},{"location":"dev/changelog/#features-improvements_84","title":"Features &amp; Improvements","text":"<ul> <li>Change the behavior of <code>--save-compatible</code> slightly. Now the version specifier saved is using the REAL compatible operator <code>~=</code> as described in PEP 440. Before: <code>requests&lt;3.0.0,&gt;=2.19.1</code>, After: <code>requests~=2.19</code>. The new specifier accepts <code>requests==2.19.0</code> as compatible version. #225</li> <li>Environment variable <code>${PROJECT_ROOT}</code> in the dependency specification can be expanded to refer to the project root in pyproject.toml.   The environment variables will be kept as they are in the lock file. #226</li> <li>Change the dependencies of a package in the lock file to a list of PEP 508 strings #236</li> </ul>"},{"location":"dev/changelog/#bug-fixes_150","title":"Bug Fixes","text":"<ul> <li>Ignore user's site and <code>PYTHONPATH</code>(with <code>python -I</code> mode) when executing pip commands. #231</li> </ul>"},{"location":"dev/changelog/#improved-documentation_14","title":"Improved Documentation","text":"<ul> <li>Document about how to activate and use a plugin. #227</li> </ul>"},{"location":"dev/changelog/#dependencies_20","title":"Dependencies","text":"<ul> <li>Test project on <code>pip 21.0</code>. #235</li> </ul>"},{"location":"dev/changelog/#release-v110-2021-01-18","title":"Release v1.1.0 (2021-01-18)","text":""},{"location":"dev/changelog/#features-improvements_85","title":"Features &amp; Improvements","text":"<ul> <li>Allow users to hide secrets from the <code>pyproject.toml</code>.</li> <li>Dynamically expand env variables in the URLs in dependencies and indexes.</li> <li>Ask whether to store the credentials provided by the user.</li> <li>A user-friendly error will show when credentials are not provided nor correct. #198</li> <li>Use a different package dir for 32-bit installation(Windows). #212</li> <li>Auto disable PEP 582 when a venv-like python is given as the interpreter path. #219</li> <li>Support specifying Python interpreter by <code>pdm use &lt;path-to-python-root&gt;</code>. #221</li> </ul>"},{"location":"dev/changelog/#bug-fixes_151","title":"Bug Fixes","text":"<ul> <li>Fix a bug of <code>PYTHONPATH</code> manipulation under Windows platform. #215</li> </ul>"},{"location":"dev/changelog/#removals-and-deprecations_17","title":"Removals and Deprecations","text":"<ul> <li>Remove support of the old PEP 517 backend API path. #217</li> </ul>"},{"location":"dev/changelog/#release-v100-2021-01-05","title":"Release v1.0.0 (2021-01-05)","text":""},{"location":"dev/changelog/#bug-fixes_152","title":"Bug Fixes","text":"<ul> <li>Correctly build wheels for dependencies with build-requirements but without a specified build-backend #213</li> </ul>"},{"location":"dev/changelog/#release-v100b2-2020-12-29","title":"Release v1.0.0b2 (2020-12-29)","text":""},{"location":"dev/changelog/#features-improvements_86","title":"Features &amp; Improvements","text":"<ul> <li>Fallback to pypi.org when <code>/search</code> endpoint is not available on given index. #211</li> </ul>"},{"location":"dev/changelog/#bug-fixes_153","title":"Bug Fixes","text":"<ul> <li>Fix a bug that PDM fails to parse python version specifiers with more than 3 parts. #210</li> </ul>"},{"location":"dev/changelog/#release-v100b0-2020-12-24","title":"Release v1.0.0b0 (2020-12-24)","text":""},{"location":"dev/changelog/#features-improvements_87","title":"Features &amp; Improvements","text":"<ul> <li>Fully support of PEP 621 specification.</li> <li>Old format is deprecated at the same time.</li> <li>PDM will migrate the project file for you when old format is detected.</li> <li>Other metadata formats(<code>Poetry</code>, <code>Pipfile</code>, <code>flit</code>) can also be imported as PEP 621 metadata. #175</li> <li>Re-implement the <code>pdm search</code> to query the <code>/search</code> HTTP endpoint. #195</li> <li>Reuse the cached built wheels to accelerate the installation. #200</li> <li>Make update strategy and save strategy configurable in pdm config. #202</li> <li>Improve the error message to give more insight on what to do when resolution fails. #207</li> <li>Set <code>classifiers</code> dynamic in <code>pyproject.toml</code> template for autogeneration. #209</li> </ul>"},{"location":"dev/changelog/#bug-fixes_154","title":"Bug Fixes","text":"<ul> <li>Fix a bug that distributions are not removed clearly in parallel mode. #204</li> <li>Fix a bug that python specifier <code>is_subset()</code> returns incorrect result. #206</li> </ul>"},{"location":"dev/changelog/#release-v0123-2020-12-21","title":"Release v0.12.3 (2020-12-21)","text":""},{"location":"dev/changelog/#dependencies_21","title":"Dependencies","text":"<ul> <li>Pin <code>pdm-pep517</code> to <code>&lt;0.3.0</code>, this is the last version to support legacy project metadata format.</li> </ul>"},{"location":"dev/changelog/#release-v0122-2020-12-17","title":"Release v0.12.2 (2020-12-17)","text":""},{"location":"dev/changelog/#features-improvements_88","title":"Features &amp; Improvements","text":"<ul> <li>Update the lock file schema, move the file hashes to <code>[metadata.files]</code> table. #196</li> <li>Retry failed jobs when syncing packages. #197</li> </ul>"},{"location":"dev/changelog/#removals-and-deprecations_18","title":"Removals and Deprecations","text":"<ul> <li>Drop <code>pip-shims</code> package as a dependency. #132</li> </ul>"},{"location":"dev/changelog/#miscellany_21","title":"Miscellany","text":"<ul> <li>Fix the cache path for CI. #199</li> </ul>"},{"location":"dev/changelog/#release-v0121-2020-12-14","title":"Release v0.12.1 (2020-12-14)","text":""},{"location":"dev/changelog/#features-improvements_89","title":"Features &amp; Improvements","text":"<ul> <li>Provide an option to export requirements from pyproject.toml #190</li> <li>For Windows users, <code>pdm --pep582</code> can enable PEP 582 globally by manipulating the WinReg. #191</li> </ul>"},{"location":"dev/changelog/#bug-fixes_155","title":"Bug Fixes","text":"<ul> <li>Inject <code>__pypackages__</code> into <code>PATH</code> env var during <code>pdm run</code>. #193</li> </ul>"},{"location":"dev/changelog/#release-v0120-2020-12-08","title":"Release v0.12.0 (2020-12-08)","text":""},{"location":"dev/changelog/#features-improvements_90","title":"Features &amp; Improvements","text":"<ul> <li>Improve the user experience of <code>pdm run</code>:</li> <li>Add a special key in tool.pdm.scripts that holds configurations shared by all scripts.</li> <li>Support loading env var from a dot-env file.</li> <li>Add a flag <code>-s/--site-packages</code> to include system site-packages when running. #178</li> <li>Now PEP 582 can be enabled in the Python interpreter directly! #181</li> </ul>"},{"location":"dev/changelog/#bug-fixes_156","title":"Bug Fixes","text":"<ul> <li>Ensure <code>setuptools</code> is installed before invoking editable install script. #174</li> <li>Require <code>wheel</code> not <code>wheels</code> for global projects #182</li> <li>Write a <code>sitecustomize.py</code> instead of a <code>.pth</code> file to enable PEP 582. Thanks @Aloxaf.   Update <code>get_package_finder()</code> to be compatible with <code>pip 20.3</code>. #185</li> <li>Fix the help messages of commands \"cache\" and \"remove\" #187</li> </ul>"},{"location":"dev/changelog/#release-v0110-2020-11-20","title":"Release v0.11.0 (2020-11-20)","text":""},{"location":"dev/changelog/#features-improvements_91","title":"Features &amp; Improvements","text":"<ul> <li>Support custom script shortcuts in <code>pyproject.toml</code>.</li> <li>Support custom script shortcuts defined in <code>[tool.pdm.scripts]</code> section.</li> <li>Add <code>pdm run --list/-l</code> to show the list of script shortcuts. #168</li> <li>Patch the halo library to support parallel spinners.</li> <li>Change the looking of <code>pdm install</code>. #169</li> </ul>"},{"location":"dev/changelog/#bug-fixes_157","title":"Bug Fixes","text":"<ul> <li>Fix a bug that package's marker fails to propagate to its grandchildren if they have already been resolved. #170</li> <li>Fix a bug that bare version specifiers in Poetry project can't be converted correctly. #172</li> <li>Fix the build error that destination directory is not created automatically. #173</li> </ul>"},{"location":"dev/changelog/#release-v0102-2020-11-05","title":"Release v0.10.2 (2020-11-05)","text":""},{"location":"dev/changelog/#bug-fixes_158","title":"Bug Fixes","text":"<ul> <li>Building editable distribution does not install <code>build-system.requires</code> anymore. #167</li> </ul>"},{"location":"dev/changelog/#release-v0101-2020-11-04","title":"Release v0.10.1 (2020-11-04)","text":""},{"location":"dev/changelog/#bug-fixes_159","title":"Bug Fixes","text":"<ul> <li>Switch the PEP 517 build frontend from <code>build</code> to a home-grown version. #162</li> <li>Synchronize the output of <code>LogWrapper</code>. #164</li> <li>Fix a bug that <code>is_subset</code> and <code>is_superset</code> may return wrong result when wildcard excludes overlaps with the upper bound. #165</li> </ul>"},{"location":"dev/changelog/#release-v0100-2020-10-20","title":"Release v0.10.0 (2020-10-20)","text":""},{"location":"dev/changelog/#features-improvements_92","title":"Features &amp; Improvements","text":"<ul> <li>Change to Git style config command. #157</li> <li>Add a command to generate scripts for autocompletion, which is backed by <code>pycomplete</code>. #159</li> </ul>"},{"location":"dev/changelog/#bug-fixes_160","title":"Bug Fixes","text":"<ul> <li>Fix a bug that <code>sitecustomize.py</code> incorrectly gets injected into the editable console scripts. #158</li> </ul>"},{"location":"dev/changelog/#release-v092-2020-10-13","title":"Release v0.9.2 (2020-10-13)","text":""},{"location":"dev/changelog/#features-improvements_93","title":"Features &amp; Improvements","text":"<ul> <li>Cache the built wheels to accelerate resolution and installation process. #153</li> </ul>"},{"location":"dev/changelog/#bug-fixes_161","title":"Bug Fixes","text":"<ul> <li>Fix a bug that no wheel is matched when finding candidates to install. #155</li> <li>Fix a bug that installation in parallel will cause encoding initialization error on Ubuntu. #156</li> </ul>"},{"location":"dev/changelog/#release-v091-2020-10-13","title":"Release v0.9.1 (2020-10-13)","text":""},{"location":"dev/changelog/#features-improvements_94","title":"Features &amp; Improvements","text":"<ul> <li>Display plain text instead of spinner bar under verbose mode. #150</li> </ul>"},{"location":"dev/changelog/#bug-fixes_162","title":"Bug Fixes","text":"<ul> <li>Fix a bug that the result of <code>find_matched()</code> is exhausted when accessed twice. #149</li> </ul>"},{"location":"dev/changelog/#release-v090-2020-10-08","title":"Release v0.9.0 (2020-10-08)","text":""},{"location":"dev/changelog/#features-improvements_95","title":"Features &amp; Improvements","text":"<ul> <li>Allow users to combine several dependency sections to form an extra require. #131</li> <li>Split the PEP 517 backend to its own(battery included) package. #134</li> <li>Add a new option to list command to show reverse dependency graph. #137</li> </ul>"},{"location":"dev/changelog/#bug-fixes_163","title":"Bug Fixes","text":"<ul> <li>Fix a bug that spaces in path causes requirement parsing error. #138</li> <li>Fix a bug that requirement's python constraint is not respected when resolving. #141</li> </ul>"},{"location":"dev/changelog/#dependencies_22","title":"Dependencies","text":"<ul> <li>Update <code>pdm-pep517</code> to <code>0.2.0</code> that supports reading version from SCM. #146</li> </ul>"},{"location":"dev/changelog/#miscellany_22","title":"Miscellany","text":"<ul> <li>Add Python 3.9 to the CI version matrix to verify. #144</li> </ul>"},{"location":"dev/changelog/#release-v087-2020-09-04","title":"Release v0.8.7 (2020-09-04)","text":""},{"location":"dev/changelog/#bug-fixes_164","title":"Bug Fixes","text":"<ul> <li>Fix a compatibility issue with <code>wheel==0.35</code>. #135</li> </ul>"},{"location":"dev/changelog/#release-v086-2020-07-09","title":"Release v0.8.6 (2020-07-09)","text":""},{"location":"dev/changelog/#bug-fixes_165","title":"Bug Fixes","text":"<ul> <li>Fix a bug that extra sources are not respected when fetching distributions. #127</li> </ul>"},{"location":"dev/changelog/#release-v085-2020-06-24","title":"Release v0.8.5 (2020-06-24)","text":""},{"location":"dev/changelog/#bug-fixes_166","title":"Bug Fixes","text":"<ul> <li>Fix a bug that <code>pdm export</code> fails when the project doesn't have <code>name</code> property. #126</li> </ul>"},{"location":"dev/changelog/#dependencies_23","title":"Dependencies","text":"<ul> <li>Upgrade dependency <code>pip</code> to <code>20.1</code>. #125</li> </ul>"},{"location":"dev/changelog/#release-v084-2020-05-21","title":"Release v0.8.4 (2020-05-21)","text":""},{"location":"dev/changelog/#features-improvements_96","title":"Features &amp; Improvements","text":"<ul> <li>Add a new command <code>export</code> to export to alternative formats. #117</li> </ul>"},{"location":"dev/changelog/#miscellany_23","title":"Miscellany","text":"<ul> <li>Add Dockerfile and pushed to Docker Hub. #122</li> </ul>"},{"location":"dev/changelog/#release-v083-2020-05-15","title":"Release v0.8.3 (2020-05-15)","text":""},{"location":"dev/changelog/#bug-fixes_167","title":"Bug Fixes","text":"<ul> <li>Fix the version constraint parsing of wheel metadata. #120</li> </ul>"},{"location":"dev/changelog/#release-v082-2020-05-03","title":"Release v0.8.2 (2020-05-03)","text":""},{"location":"dev/changelog/#bug-fixes_168","title":"Bug Fixes","text":"<ul> <li>Update resolvers to <code>resolvelib</code> 0.4.0. #118</li> </ul>"},{"location":"dev/changelog/#release-v081-2020-04-22","title":"Release v0.8.1 (2020-04-22)","text":""},{"location":"dev/changelog/#dependencies_24","title":"Dependencies","text":"<ul> <li>Switch to upstream <code>resolvelib 0.3.0</code>. #116</li> </ul>"},{"location":"dev/changelog/#release-v080-2020-04-20","title":"Release v0.8.0 (2020-04-20)","text":""},{"location":"dev/changelog/#features-improvements_97","title":"Features &amp; Improvements","text":"<ul> <li>Add a new command to search for packages #111</li> <li>Add <code>show</code> command to show package metadata. #114</li> </ul>"},{"location":"dev/changelog/#bug-fixes_169","title":"Bug Fixes","text":"<ul> <li>Fix a bug that environment markers cannot be evaluated correctly if extras are connected with \"or\". #107</li> <li>Don't consult PyPI JSON API by default for package metadata. #112</li> <li>Eliminate backslashes in markers for TOML documents. #115</li> </ul>"},{"location":"dev/changelog/#release-v071-2020-04-13","title":"Release v0.7.1 (2020-04-13)","text":""},{"location":"dev/changelog/#bug-fixes_170","title":"Bug Fixes","text":"<ul> <li>Editable packages requires <code>setuptools</code> to be installed in the isolated environment.</li> </ul>"},{"location":"dev/changelog/#release-v070-2020-04-12","title":"Release v0.7.0 (2020-04-12)","text":""},{"location":"dev/changelog/#features-improvements_98","title":"Features &amp; Improvements","text":"<ul> <li>Disable loading of site-packages under PEP 582 mode. #100</li> </ul>"},{"location":"dev/changelog/#bug-fixes_171","title":"Bug Fixes","text":"<ul> <li>Fix a bug that TOML parsing error is not correctly captured. #101</li> <li>Fix a bug of building wheels with C extensions that the platform in file name is incorrect. #99</li> </ul>"},{"location":"dev/changelog/#release-v065-2020-04-07","title":"Release v0.6.5 (2020-04-07)","text":""},{"location":"dev/changelog/#bug-fixes_172","title":"Bug Fixes","text":"<ul> <li>Unix style executable script suffix is missing.</li> </ul>"},{"location":"dev/changelog/#release-v064-2020-04-07","title":"Release v0.6.4 (2020-04-07)","text":""},{"location":"dev/changelog/#features-improvements_99","title":"Features &amp; Improvements","text":"<ul> <li>Update shebang lines in the executable scripts when doing <code>pdm use</code>. #96</li> <li>Auto-detect commonly used venv directories. #97</li> </ul>"},{"location":"dev/changelog/#release-v063-2020-03-30","title":"Release v0.6.3 (2020-03-30)","text":""},{"location":"dev/changelog/#bug-fixes_173","title":"Bug Fixes","text":"<ul> <li>Fix a bug of moving files across different file system. #95</li> </ul>"},{"location":"dev/changelog/#release-v062-2020-03-29","title":"Release v0.6.2 (2020-03-29)","text":""},{"location":"dev/changelog/#bug-fixes_174","title":"Bug Fixes","text":"<ul> <li>Validate user input for <code>python_requires</code> when initializing project. #89</li> <li>Ensure <code>wheel</code> package is available before building packages. #90</li> <li>Fix an issue of remove command that will unexpectedly uninstall packages in default section. #92</li> </ul>"},{"location":"dev/changelog/#dependencies_25","title":"Dependencies","text":"<ul> <li>Update dependencies <code>pythonfinder</code>, <code>python-cfonts</code>, <code>pip-shims</code> and many others.   Drop dependency <code>vistir</code>. #89</li> </ul>"},{"location":"dev/changelog/#release-v061-2020-03-25","title":"Release v0.6.1 (2020-03-25)","text":""},{"location":"dev/changelog/#features-improvements_100","title":"Features &amp; Improvements","text":"<ul> <li>Redirect output messages to log file for installation and locking. #84</li> </ul>"},{"location":"dev/changelog/#bug-fixes_175","title":"Bug Fixes","text":"<ul> <li>Fix a bug that parallel installation fails due to setuptools reinstalling. #83</li> </ul>"},{"location":"dev/changelog/#release-v060-2020-03-20","title":"Release v0.6.0 (2020-03-20)","text":""},{"location":"dev/changelog/#features-improvements_101","title":"Features &amp; Improvements","text":"<ul> <li>Support specifying build script for C extensions. #23</li> <li>Add test cases for <code>pdm build</code>. #81</li> <li>Make it configurable whether to consult PyPI JSON API since it may be not trustable.</li> <li>Support parallel installation.</li> <li>Add new command <code>pmd import</code> to import project metadata from <code>Pipfile</code>, <code>poetry</code>, <code>flit</code>, <code>requirements.txt</code>.   #79</li> <li><code>pdm init</code> and <code>pdm install</code> will auto-detect possible files that can be imported.</li> </ul>"},{"location":"dev/changelog/#bug-fixes_176","title":"Bug Fixes","text":"<ul> <li>Fix wheel builds when <code>package_dir</code> is mapped. #81</li> <li><code>pdm init</code> will use the current directory rather than finding the parents when global project is not activated.</li> </ul>"},{"location":"dev/changelog/#release-v050-2020-03-14","title":"Release v0.5.0 (2020-03-14)","text":""},{"location":"dev/changelog/#features-improvements_102","title":"Features &amp; Improvements","text":"<ul> <li>Introduce a super easy-to-extend plug-in system to PDM. #75</li> </ul>"},{"location":"dev/changelog/#improved-documentation_15","title":"Improved Documentation","text":"<ul> <li>Documentation on how to write a plugin. #75</li> </ul>"},{"location":"dev/changelog/#bug-fixes_177","title":"Bug Fixes","text":"<ul> <li>Fix a typo in metadata parsing from <code>plugins</code> to <code>entry_points</code></li> </ul>"},{"location":"dev/changelog/#release-v042-2020-03-13","title":"Release v0.4.2 (2020-03-13)","text":""},{"location":"dev/changelog/#features-improvements_103","title":"Features &amp; Improvements","text":"<ul> <li>Refactor the CLI part, switch from <code>click</code> to <code>argparse</code>, for better extensibility. #73</li> <li>Allow users to configure to install packages into venv when it is activated. #74</li> </ul>"},{"location":"dev/changelog/#release-v041-2020-03-11","title":"Release v0.4.1 (2020-03-11)","text":""},{"location":"dev/changelog/#features-improvements_104","title":"Features &amp; Improvements","text":"<ul> <li>Add a minimal dependency set for global project. #72</li> </ul>"},{"location":"dev/changelog/#release-v040-2020-03-10","title":"Release v0.4.0 (2020-03-10)","text":""},{"location":"dev/changelog/#features-improvements_105","title":"Features &amp; Improvements","text":"<ul> <li>Global project support</li> <li>Add a new option <code>-g/--global</code> to manage global project. The default location is at <code>~/.pdm/global-project</code>.</li> <li>Use the virtualenv interpreter when detected inside an activated venv.</li> <li>Add a new option <code>-p/--project</code> to select project root other than the default one. #30</li> <li>Add a new command <code>pdm config del</code> to delete an existing config item. #71</li> </ul>"},{"location":"dev/changelog/#bug-fixes_178","title":"Bug Fixes","text":"<ul> <li>Fix a URL parsing issue that username will be dropped in the SSH URL. #68</li> </ul>"},{"location":"dev/changelog/#improved-documentation_16","title":"Improved Documentation","text":"<ul> <li>Add docs for global project and selecting project path. #30</li> </ul>"},{"location":"dev/changelog/#release-v032-2020-03-08","title":"Release v0.3.2 (2020-03-08)","text":""},{"location":"dev/changelog/#features-improvements_106","title":"Features &amp; Improvements","text":"<ul> <li>Display all available Python interpreters if users don't give one in <code>pdm init</code>. #67</li> </ul>"},{"location":"dev/changelog/#bug-fixes_179","title":"Bug Fixes","text":"<ul> <li>Regard <code>4.0</code> as infinite upper bound when checking subsetting. #66</li> </ul>"},{"location":"dev/changelog/#release-v031-2020-03-07","title":"Release v0.3.1 (2020-03-07)","text":""},{"location":"dev/changelog/#bug-fixes_180","title":"Bug Fixes","text":"<ul> <li>Fix a bug that <code>ImpossiblePySpec</code>'s hash clashes with normal one.</li> </ul>"},{"location":"dev/changelog/#release-v030-2020-02-28","title":"Release v0.3.0 (2020-02-28)","text":""},{"location":"dev/changelog/#features-improvements_107","title":"Features &amp; Improvements","text":"<ul> <li>Add a new command <code>pdm config</code> to inspect configurations. #26</li> <li>Add a new command <code>pdm cache clear</code> to clean caches. #63</li> </ul>"},{"location":"dev/changelog/#bug-fixes_181","title":"Bug Fixes","text":"<ul> <li>Correctly show dependency graph when circular dependencies exist. #62</li> </ul>"},{"location":"dev/changelog/#improved-documentation_17","title":"Improved Documentation","text":"<ul> <li>Write the initial documentation for PDM. #14</li> </ul>"},{"location":"dev/changelog/#release-v026-2020-02-25","title":"Release v0.2.6 (2020-02-25)","text":""},{"location":"dev/changelog/#features-improvements_108","title":"Features &amp; Improvements","text":"<ul> <li>Improve the user interface of selecting Python interpreter. #54</li> </ul>"},{"location":"dev/changelog/#bug-fixes_182","title":"Bug Fixes","text":"<ul> <li>Fix the wheel installer to correctly unparse the flags of console scripts. #56</li> <li>Fix a bug that OS-dependent hashes are not saved. #57</li> </ul>"},{"location":"dev/changelog/#release-v025-2020-02-22","title":"Release v0.2.5 (2020-02-22)","text":""},{"location":"dev/changelog/#features-improvements_109","title":"Features &amp; Improvements","text":"<ul> <li>Allow specifying Python interpreter via <code>--python</code> option in <code>pdm init</code>. #49</li> <li>Set <code>python_requires</code> when initializing and defaults to <code>&gt;={current_version}</code>. #50</li> </ul>"},{"location":"dev/changelog/#bug-fixes_183","title":"Bug Fixes","text":"<ul> <li>Always consider wheels before tarballs; correctly merge markers from different parents. #47</li> <li>Filter out incompatible wheels when installing. #48</li> </ul>"},{"location":"dev/changelog/#release-v024-2020-02-21","title":"Release v0.2.4 (2020-02-21)","text":""},{"location":"dev/changelog/#bug-fixes_184","title":"Bug Fixes","text":"<ul> <li>Use the project local interpreter to build wheels. #43</li> <li>Correctly merge Python specifiers when possible. #4</li> </ul>"},{"location":"dev/changelog/#release-v023-2020-02-21","title":"Release v0.2.3 (2020-02-21)","text":""},{"location":"dev/changelog/#bug-fixes_185","title":"Bug Fixes","text":"<ul> <li>Fix a bug that editable build generates a malformed <code>setup.py</code>.</li> </ul>"},{"location":"dev/changelog/#release-v022-2020-02-20","title":"Release v0.2.2 (2020-02-20)","text":""},{"location":"dev/changelog/#features-improvements_110","title":"Features &amp; Improvements","text":"<ul> <li>Add a fancy greeting banner when user types <code>pdm --help</code>. #42</li> </ul>"},{"location":"dev/changelog/#bug-fixes_186","title":"Bug Fixes","text":"<ul> <li>Fix the RECORD file in built wheel. #41</li> </ul>"},{"location":"dev/changelog/#dependencies_26","title":"Dependencies","text":"<ul> <li>Add dependency <code>python-cfonts</code> to display banner. #42</li> </ul>"},{"location":"dev/changelog/#release-v021-2020-02-18","title":"Release v0.2.1 (2020-02-18)","text":""},{"location":"dev/changelog/#bug-fixes_187","title":"Bug Fixes","text":"<ul> <li>Fix a bug that short python_version markers can't be parsed correctly. #38</li> <li>Make <code>_editable_intall.py</code> compatible with Py2.</li> </ul>"},{"location":"dev/changelog/#release-v020-2020-02-14","title":"Release v0.2.0 (2020-02-14)","text":""},{"location":"dev/changelog/#features-improvements_111","title":"Features &amp; Improvements","text":"<ul> <li>New option: <code>pdm list --graph</code> to show a dependency graph of the working set. #10</li> <li>New option: <code>pdm update --unconstrained</code> to ignore the version constraint of given packages. #13</li> <li>Improve the error message when project is not initialized before running commands. #19</li> <li>Pinned candidates in lock file are reused when relocking during <code>pdm install</code>. #33</li> <li>Use the pyenv interpreter value if pyenv is installed. #36</li> <li>Introduce a new command <code>pdm info</code> to show project environment information. #9</li> </ul>"},{"location":"dev/changelog/#bug-fixes_188","title":"Bug Fixes","text":"<ul> <li>Fix a bug that candidate hashes will be lost when reused. #11</li> </ul>"},{"location":"dev/changelog/#dependencies_27","title":"Dependencies","text":"<ul> <li>Update <code>pip</code> to <code>20.0</code>, update <code>pip_shims</code> to <code>0.5.0</code>. #28</li> </ul>"},{"location":"dev/changelog/#miscellany_24","title":"Miscellany","text":"<ul> <li>Add a script named <code>setup_dev.py</code> for the convenience to setup pdm for development. #29</li> </ul>"},{"location":"dev/changelog/#release-v012-2020-02-09","title":"Release v0.1.2 (2020-02-09)","text":""},{"location":"dev/changelog/#features","title":"Features","text":"<ul> <li>New command pdm use to switch python versions. #8</li> <li>New option pdm list --graph to show a dependency graph. #10</li> <li>Read metadata from lockfile when pinned candidate is reused.</li> </ul>"},{"location":"dev/changelog/#release-v011-2020-02-07","title":"Release v0.1.1 (2020-02-07)","text":""},{"location":"dev/changelog/#features_1","title":"Features","text":"<ul> <li>Get version from the specified file. #6</li> <li>Add column header to pdm list output.</li> </ul>"},{"location":"dev/changelog/#release-v010-2020-02-07","title":"Release v0.1.0 (2020-02-07)","text":""},{"location":"dev/changelog/#bugfixes","title":"Bugfixes","text":"<ul> <li>Pass exit code to parent process in pdm run.</li> <li>Fix error handling for CLI. #19</li> </ul>"},{"location":"dev/changelog/#miscellany_25","title":"Miscellany","text":"<ul> <li>Refactor the installer mocking for tests.</li> </ul>"},{"location":"dev/changelog/#release-v005-2020-01-22","title":"Release v0.0.5 (2020-01-22)","text":""},{"location":"dev/changelog/#improvements","title":"Improvements","text":"<ul> <li>Ensure pypi index url is fetched in addition to the source settings. #3</li> </ul>"},{"location":"dev/changelog/#bugfixes_1","title":"Bugfixes","text":"<ul> <li>Fix an issue that leading \"c\"s are mistakenly stripped. #5</li> <li>Fix an error with PEP 517 building.</li> </ul>"},{"location":"dev/changelog/#release-v004-2020-01-22","title":"Release v0.0.4 (2020-01-22)","text":""},{"location":"dev/changelog/#improvements_1","title":"Improvements","text":"<ul> <li>Fix editable installation, now editable scripts can also be executed from outside!</li> <li>Content hash is calculated based on dependencies and sources, not other metadata.</li> </ul>"},{"location":"dev/changelog/#bugfixes_2","title":"Bugfixes","text":"<ul> <li>Fix an issue that editable distributions can not be removed.</li> </ul>"},{"location":"dev/changelog/#release-v003-2020-01-22","title":"Release v0.0.3 (2020-01-22)","text":""},{"location":"dev/changelog/#features_2","title":"Features","text":"<ul> <li>Add <code>pdm init</code> to bootstrap a project.</li> </ul>"},{"location":"dev/changelog/#release-v002-2020-01-22","title":"Release v0.0.2 (2020-01-22)","text":""},{"location":"dev/changelog/#features_3","title":"Features","text":"<ul> <li>A complete functioning PEP 517 build backend.</li> <li><code>pdm build</code> command.</li> </ul>"},{"location":"dev/changelog/#miscellany_26","title":"Miscellany","text":"<ul> <li>Add a Chinese README</li> </ul>"},{"location":"dev/changelog/#features_4","title":"Features","text":"<ul> <li>Add <code>pdm init</code> to bootstrap a project.</li> </ul>"},{"location":"dev/changelog/#release-v001-2020-01-20","title":"Release v0.0.1 (2020-01-20)","text":""},{"location":"dev/changelog/#features_5","title":"Features","text":"<ul> <li>A dependency resolver that just works.</li> <li>A PEP 582 installer.</li> <li>PEP 440 version specifiers.</li> <li>PEP 508 environment markers.</li> <li>Running scripts with PEP 582 local packages.</li> <li>Console scripts are injected with local paths.</li> <li>A neat CLI.</li> <li>add, lock, list, update, remove commands.</li> <li>PEP 517 build backends.</li> <li>Continuous Integration.</li> </ul>"},{"location":"dev/contributing/","title":"Contributing to PDM","text":"<p>First off, thanks for taking the time to contribute! Contributions include but are not restricted to:</p> <ul> <li>Reporting bugs</li> <li>Contributing to code</li> <li>Writing tests</li> <li>Writing documentation</li> </ul> <p>The following is a set of guidelines for contributing.</p>"},{"location":"dev/contributing/#a-recommended-flow-of-contributing-to-an-open-source-project","title":"A recommended flow of contributing to an Open Source project","text":"<p>This section is for beginners to OSS. If you are an experienced OSS developer, you can skip this section.</p> <ol> <li>First, fork this project to your own namespace using the fork button at the top right of the repository page.</li> <li>Clone the upstream repository to local:    <pre><code>git clone https://github.com/pdm-project/pdm.git\n# Or if you prefer SSH clone:\ngit clone git@github.com:pdm-project/pdm.git\n</code></pre></li> <li>Add the fork as a new remote:    <pre><code>git remote add fork https://github.com/yourname/pdm.git\ngit fetch fork\n</code></pre>    where <code>fork</code> is the remote name of the fork repository.</li> </ol> <p>ProTips:</p> <ol> <li>Don't modify code on the main branch, the main branch should always keep track of origin/main.</li> </ol> <p>To update main branch to date:</p> <pre><code>git pull origin main\n# In rare cases that your local main branch diverges from the remote main:\ngit fetch origin &amp;&amp; git reset --hard main\n</code></pre> <ol> <li>Create a new branch based on the up-to-date main branch for new patches.</li> <li>Create a Pull Request from that patch branch.</li> </ol>"},{"location":"dev/contributing/#local-development","title":"Local development","text":"<p>We recommend working in a virtual environment. Feel free to create a virtual environment with either the <code>venv</code> module or the <code>virtualenv</code> tool. For example:</p> <pre><code>python -m venv .venv\n. .venv/bin/activate  # linux\n.venv/Scripts/activate  # windows\n</code></pre> <p>Make sure your <code>pip</code> is newer than <code>21.3</code> to install PDM in develop/editable mode.</p> <pre><code>python -m pip install -U \"pip&gt;=21.3\"\npython -m pip install -e .\n</code></pre> <p>Make sure PDM uses the virtual environment you just created:</p> <pre><code>pdm config -l python.use_venv true\npdm config -l venv.in_project true\n</code></pre> <p>Install PDM development dependencies:</p> <pre><code>pdm install\n</code></pre> <p>Now, all dependencies are installed into the Python environment you chose, which will be used for development after this point.</p>"},{"location":"dev/contributing/#run-tests","title":"Run tests","text":"<pre><code>pdm run test\n</code></pre> <p>The test suite is still simple and needs expansion! Please help write more test cases.</p> <p>Note</p> <p>You can also run your test suite against all supported Python version using <code>tox</code> with the <code>tox-pdm</code> plugin. You can either run it by yourself with:</p> <pre><code>tox\n</code></pre> <p>or from <code>pdm</code> with:</p> <pre><code>pdm run tox\n</code></pre>"},{"location":"dev/contributing/#code-style","title":"Code style","text":"<p>PDM uses <code>pre-commit</code> for linting. Install <code>pre-commit</code> first, for example with pip or pipx:</p> <pre><code>python -m pip install pre-commit\n</code></pre> <pre><code>pipx install pre-commit\n</code></pre> <p>Then initialize <code>pre-commit</code>:</p> <pre><code>pre-commit install\n</code></pre> <p>You can now lint the code with:</p> <pre><code>pdm run lint\n</code></pre> <p>PDM uses <code>black</code> for code style and <code>isort</code> for sorting import statements. If you are not following them, the CI will fail and your Pull Request will not be merged.</p>"},{"location":"dev/contributing/#news-fragments","title":"News fragments","text":"<p>When you make changes such as fixing a bug or adding a feature, you must add a news fragment describing your change. News fragments are placed in the <code>news/</code> directory, and should be named according to this pattern: <code>&lt;issue_num&gt;.&lt;issue_type&gt;.md</code> (e.g., <code>566.bugfix.md</code>).</p>"},{"location":"dev/contributing/#issue-types","title":"Issue Types","text":"<ul> <li><code>feature</code>: Features and improvements</li> <li><code>bugfix</code>: Bug fixes</li> <li><code>refactor</code>: Code restructures</li> <li><code>doc</code>: Added or improved documentation</li> <li><code>dep</code>: Changes to dependencies</li> <li><code>removal</code>: Removals or deprecations in the API</li> <li><code>misc</code>: Miscellaneous changes that don't fit any of the other categories</li> </ul> <p>The contents of the file should be a single sentence in the imperative mood that describes your changes. (e.g., <code>Deduplicate the plugins list.</code> ) See entries in the Change Log for more examples.</p>"},{"location":"dev/contributing/#preview-the-documentation","title":"Preview the documentation","text":"<p>PDM docs development requires a few additional dependencies. Install them as:</p> <pre><code>sudo apt install libffi-dev # Or equivalent with the package manager of your choice\n</code></pre> <p>Now, whenever you make some changes to the <code>docs/</code> and you want to preview the build result, simply do:</p> <pre><code>pdm run doc\n</code></pre>"},{"location":"dev/contributing/#release","title":"Release","text":"<p>Once all changes are done and ready to release, you can preview the changelog contents by running:</p> <pre><code>pdm run release --dry-run\n</code></pre> <p>Make sure the next version and the changelog are as expected in the output.</p> <p>Then cut a release on the main branch:</p> <pre><code>pdm run release\n</code></pre> <p>GitHub action will create the release and upload the distributions to PyPI.</p> <p>Read more options about version bumping by <code>pdm run release --help</code>.</p>"},{"location":"dev/fixtures/","title":"Pytest fixtures","text":"<p>Some reusable fixtures for <code>pytest</code>.</p> <p>+++ 2.4.0</p> <p>To enable them in your test, add <code>pdm.pytest</code> as a plugin. You can do so in your root <code>conftest.py</code>:</p> conftest.py<pre><code># single plugin\npytest_plugins = \"pytest.plugin\"\n\n# many plugins\npytest_plugins = [\n    ...\n    \"pdm.pytest\",\n    ...\n]\n</code></pre>"},{"location":"dev/fixtures/#pdm.pytest.IndexMap","title":"<code>IndexMap = Dict[str, Path]</code>  <code>module-attribute</code>","text":"<p>Path some root-relative http paths to some local paths</p>"},{"location":"dev/fixtures/#pdm.pytest.IndexOverrides","title":"<code>IndexOverrides = Dict[str, bytes]</code>  <code>module-attribute</code>","text":"<p>PyPI indexes overrides fixture format</p>"},{"location":"dev/fixtures/#pdm.pytest.IndexesDefinition","title":"<code>IndexesDefinition = Dict[str, Union[Tuple[IndexMap, IndexOverrides, bool], IndexMap]]</code>  <code>module-attribute</code>","text":"<p>Mock PyPI indexes format</p>"},{"location":"dev/fixtures/#pdm.pytest.Distribution","title":"<code>Distribution</code>","text":"<p>A mock Distribution</p>"},{"location":"dev/fixtures/#pdm.pytest.LocalIndexTransport","title":"<code>LocalIndexTransport</code>","text":"<p>         Bases: <code>httpx.BaseTransport</code></p> <p>A local file transport for HTTPX.</p> <p>Allows to mock some HTTP requests with some local files</p>"},{"location":"dev/fixtures/#pdm.pytest.MockWorkingSet","title":"<code>MockWorkingSet</code>","text":"<p>         Bases: <code>collections.abc.MutableMapping</code></p> <p>A mock working set</p>"},{"location":"dev/fixtures/#pdm.pytest.PDMCallable","title":"<code>PDMCallable</code>","text":"<p>         Bases: <code>Protocol</code></p> <p>The PDM fixture callable signature</p>"},{"location":"dev/fixtures/#pdm.pytest.PDMCallable.__call__","title":"<code>__call__(args, strict=False, input=None, obj=None, env=None, cleanup=True, **kwargs)</code>","text":"<p>Parameters:</p> Name Type Description Default <code>args</code> <code>str | list[str]</code> <p>the command arguments as a single lexable string or a strings array</p> required <code>strict</code> <code>bool</code> <p>raise an exception on failure instead of returning if enabled</p> <code>False</code> <code>input</code> <code>str | None</code> <p>an optional string to be submitted too <code>stdin</code></p> <code>None</code> <code>obj</code> <code>Project | None</code> <p>an optional existing <code>Project</code>.</p> <code>None</code> <code>env</code> <code>Mapping[str, str] | None</code> <p>override the environment variables with those</p> <code>None</code> <p>Returns:</p> Type Description <code>RunResult</code> <p>The command result</p>"},{"location":"dev/fixtures/#pdm.pytest.RunResult","title":"<code>RunResult</code>  <code>dataclass</code>","text":"<p>Store a command execution result.</p>"},{"location":"dev/fixtures/#pdm.pytest.RunResult.exception","title":"<code>exception: Exception | None = None</code>  <code>instance-attribute</code> <code>class-attribute</code>","text":"<p>If set, the exception raised on execution</p>"},{"location":"dev/fixtures/#pdm.pytest.RunResult.exit_code","title":"<code>exit_code: int</code>  <code>instance-attribute</code>","text":"<p>The execution exit code</p>"},{"location":"dev/fixtures/#pdm.pytest.RunResult.output","title":"<code>output: str</code>  <code>property</code>","text":"<p>The execution <code>stdout</code> output (<code>stdout</code> alias)</p>"},{"location":"dev/fixtures/#pdm.pytest.RunResult.outputs","title":"<code>outputs: str</code>  <code>property</code>","text":"<p>The execution <code>stdout</code> and <code>stderr</code> outputs concatenated</p>"},{"location":"dev/fixtures/#pdm.pytest.RunResult.stderr","title":"<code>stderr: str</code>  <code>instance-attribute</code>","text":"<p>The execution <code>stderr</code> output</p>"},{"location":"dev/fixtures/#pdm.pytest.RunResult.stdout","title":"<code>stdout: str</code>  <code>instance-attribute</code>","text":"<p>The execution <code>stdout</code> output</p>"},{"location":"dev/fixtures/#pdm.pytest.RunResult.print","title":"<code>print()</code>","text":"<p>A debugging facility</p>"},{"location":"dev/fixtures/#pdm.pytest.TestRepository","title":"<code>TestRepository</code>","text":"<p>         Bases: <code>BaseRepository</code></p> <p>A mock repository to ease testing dependencies</p>"},{"location":"dev/fixtures/#pdm.pytest.build_env","title":"<code>build_env(build_env_wheels, tmp_path_factory)</code>","text":"<p>A fixture build environment</p> <p>Parameters:</p> Name Type Description Default <code>build_env_wheels</code> <code>Iterable[Path]</code> <p>a list of wheel to install in the environment</p> required <p>Returns:</p> Type Description <code>Path</code> <p>The build environment temporary path</p>"},{"location":"dev/fixtures/#pdm.pytest.build_env_wheels","title":"<code>build_env_wheels()</code>","text":"<p>Expose some wheels to be installed in the build environment.</p> <p>Override to provide your owns.</p> <p>Returns:</p> Type Description <code>Iterable[Path]</code> <p>a list of wheels paths to install</p>"},{"location":"dev/fixtures/#pdm.pytest.local_finder_artifacts","title":"<code>local_finder_artifacts()</code>","text":"<p>The local finder search path as a fixture</p> <p>Override to provides your own artifacts.</p> <p>Returns:</p> Type Description <code>Path</code> <p>The path to the artifacts root</p>"},{"location":"dev/fixtures/#pdm.pytest.pdm","title":"<code>pdm(core, monkeypatch)</code>","text":"<p>A fixture allowing to execute PDM commands</p> <p>Returns:</p> Type Description <code>PDMCallable</code> <p>A <code>pdm</code> fixture command.</p>"},{"location":"dev/fixtures/#pdm.pytest.project","title":"<code>project(project_no_init)</code>","text":"<p>A fixture creating an initialized test project for the current test.</p> <p>Returns:</p> Type Description <code>Project</code> <p>The initialized project</p>"},{"location":"dev/fixtures/#pdm.pytest.project_no_init","title":"<code>project_no_init(tmp_path, mocker, core, build_test_session, monkeypatch, build_env)</code>","text":"<p>A fixture creating a non-initialized test project for the current test.</p> <p>Returns:</p> Type Description <code>Project</code> <p>The non-initialized project</p>"},{"location":"dev/fixtures/#pdm.pytest.pypi_indexes","title":"<code>pypi_indexes()</code>","text":"<p>Provides some mocked PyPI entries</p> <p>Returns:</p> Type Description <code>IndexesDefinition</code> <p>a definition of the mocked indexes</p>"},{"location":"dev/fixtures/#pdm.pytest.remove_pep582_path_from_pythonpath","title":"<code>remove_pep582_path_from_pythonpath(pythonpath)</code>","text":"<p>Remove all pep582 paths of PDM from PYTHONPATH</p>"},{"location":"dev/fixtures/#pdm.pytest.repository","title":"<code>repository(core, mocker, repository_pypi_json, local_finder)</code>","text":"<p>A fixture providing a mock PyPI repository</p> <p>Returns:</p> Type Description <code>RepositoryData</code> <p>A mock repository</p>"},{"location":"dev/fixtures/#pdm.pytest.repository_pypi_json","title":"<code>repository_pypi_json()</code>","text":"<p>The test repository fake PyPI definition path as a fixture</p> <p>Override to provides your own definition path.</p> <p>Returns:</p> Type Description <code>Path</code> <p>The path to a fake PyPI repository JSON definition</p>"},{"location":"dev/fixtures/#pdm.pytest.venv_backends","title":"<code>venv_backends(project, request)</code>","text":"<p>A fixture iterating over <code>venv</code> backends</p>"},{"location":"dev/fixtures/#pdm.pytest.working_set","title":"<code>working_set(mocker, repository)</code>","text":"<p>a mock working set as a fixture</p> <p>Returns:</p> Type Description <code>MockWorkingSet</code> <p>a mock working set</p>"},{"location":"dev/write/","title":"PDM Plugins","text":"<p>PDM is aiming at being a community driven package manager. It is shipped with a full-featured plug-in system, with which you can:</p> <ul> <li>Develop a new command for PDM</li> <li>Add additional options to existing PDM commands</li> <li>Change PDM's behavior by reading additional config items</li> <li>Control the process of dependency resolution or installation</li> </ul>"},{"location":"dev/write/#what-should-a-plugin-do","title":"What should a plugin do","text":"<p>The core PDM project focuses on dependency management and package publishing. Other functionalities you wish to integrate with PDM are preferred to lie in their own plugins and released as standalone PyPI projects. In case the plugin is considered a good supplement of the core project it may have a chance to be absorbed into PDM.</p>"},{"location":"dev/write/#write-your-own-plugin","title":"Write your own plugin","text":"<p>In the following sections, I will show an example of adding a new command <code>hello</code> which reads the <code>hello.name</code> config.</p>"},{"location":"dev/write/#write-the-command","title":"Write the command","text":"<p>The PDM's CLI module is designed in a way that user can easily \"inherit and modify\". To write a new command:</p> <pre><code>from pdm.cli.commands.base import BaseCommand\n\nclass HelloCommand(BaseCommand):\n    \"\"\"Say hello to the specified person.\n    If none is given, will read from \"hello.name\" config.\n    \"\"\"\n\n    def add_arguments(self, parser):\n        parser.add_argument(\"-n\", \"--name\", help=\"the person's name to whom you greet\")\n\n    def handle(self, project, options):\n        if not options.name:\n            name = project.config[\"hello.name\"]\n        else:\n            name = options.name\n        print(f\"Hello, {name}\")\n</code></pre> <p>First, let's create a new <code>HelloCommand</code> class inheriting from <code>pdm.cli.commands.base.BaseCommand</code>. It has two major functions:</p> <ul> <li><code>add_arguments()</code> to manipulate the argument parser passed as the only argument, where you can add additional command line arguments to it</li> <li><code>handle()</code> to do something when the subcommand is matched, you can do nothing by writing a single <code>pass</code> statement. It accepts two arguments: an <code>pdm.project.Project</code> object as the first one and the parsed <code>argparse.Namespace</code> object as the second.</li> </ul> <p>The document string will serve as the command help text, which will be shown in <code>pdm --help</code>.</p> <p>Besides, PDM's subcommand has two default options: <code>-v/--verbose</code> to change the verbosity level and <code>-g/--global</code> to enable global project. If you don't want these default options, override the <code>arguments</code> class attribute to a list of <code>pdm.cli.options.Option</code> objects, or assign it to an empty list to have no default options:</p> <pre><code>class HelloCommand(BaseCommand):\n\n    arguments = []\n</code></pre> <p>Note</p> <p>The default options are loaded first, then <code>add_arguments()</code> is called.</p>"},{"location":"dev/write/#register-the-command-to-the-core-object","title":"Register the command to the core object","text":"<p>Write a function somewhere in your plugin project. There is no limit on what the name of the function is, but the function should take only one argument -- the PDM core object:</p> <pre><code>def hello_plugin(core):\n    core.register_command(HelloCommand, \"hello\")\n</code></pre> <p>Call <code>core.register_command()</code> to register the command. The second argument as the name of the subcommand is optional. PDM will look for the <code>HelloCommand</code>'s <code>name</code> attribute if the name is not passed.</p>"},{"location":"dev/write/#add-a-new-config-item","title":"Add a new config item","text":"<p>Let's recall the first code snippet, <code>hello.name</code> config key is consulted for the name if not passed via the command line.</p> <pre><code>class HelloCommand(BaseCommand):\n    \"\"\"Say hello to the specified person.\n    If none is given, will read from \"hello.name\" config.\n    \"\"\"\n\n    def add_arguments(self, parser):\n        parser.add_argument(\"-n\", \"--name\", help=\"the person's name to whom you greet\")\n\n    def handle(self, project, options):\n        if not options.name:\n            name = project.config[\"hello.name\"]\n        else:\n            name = options.name\n        print(f\"Hello, {name}\")\n</code></pre> <p>Till now, if you query the config value by <code>pdm config get hello.name</code>, an error will pop up saying it is not a valid config key. You need to register the config item, too:</p> <pre><code>from pdm.project.config import ConfigItem\n\ndef hello_plugin(core):\n    core.register_command(HelloCommand, \"hello\")\n    core.add_config(\"hello.name\", ConfigItem(\"The person's name\", \"John\"))\n</code></pre> <p>where <code>ConfigItem</code> class takes 4 parameters, in the following order:</p> <ul> <li><code>description</code>: a description of the config item</li> <li><code>default</code>: default value of the config item</li> <li><code>global_only</code>: whether the config is allowed to set in home config only</li> <li><code>env_var</code>: the name of environment variable which will be read as the config value</li> </ul>"},{"location":"dev/write/#other-plugin-points","title":"Other plugin points","text":"<p>Besides of commands and configurations, the <code>core</code> object exposes some other methods and attributes to override. PDM also provides some signals you can listen to. Please read the API reference for more details.</p>"},{"location":"dev/write/#tips-about-developing-a-pdm-plugin","title":"Tips about developing a PDM plugin","text":"<p>When developing a plugin, one hopes to activate and plugin in development and get updated when the code changes.</p> <p>You can achieve this by installing the plugin in editable mode. To do this, specify the dependencies in <code>tool.pdm.plugins</code> array:</p> <pre><code>[tool.pdm]\nplugins = [\n    \"-e file:///${PROJECT_ROOT}\"\n]\n</code></pre> <p>Then install it with:</p> <pre><code>pdm install --plugins\n</code></pre> <p>After that, all the dependencies are available in a project plugin library, including the plugin itself, in editable mode. That means any change to the codebase will take effect immediately without re-installation. The <code>pdm</code> executable also uses a Python interpreter under the hood, so if you run <code>pdm</code> from inside the plugin project, the plugin in development will be activated automatically, and you can do some testing to see how it works.</p>"},{"location":"dev/write/#testing-your-plugin","title":"Testing your plugin","text":"<p>PDM exposes some pytest fixtures as a plugin in the <code>pdm.pytest</code> module. To benefit from them, you must add <code>pdm[pytest]</code> as a test dependency.</p> <p>To enable them in your test, add <code>pdm.pytest</code> as a plugin. You can do so by in your root <code>conftest.py</code>:</p> conftest.py<pre><code># single plugin\npytest_plugins = \"pytest.plugin\"\n\n# many plugins\npytest_plugins = [\n    ...\n    \"pdm.pytest\",\n    ...\n]\n</code></pre> <p>You can see some usage examples into PDM own tests, especially the conftest.py file for configuration.</p> <p>See the pytest fixtures documentation for more details.</p>"},{"location":"dev/write/#publish-your-plugin","title":"Publish your plugin","text":"<p>Now you have defined your plugin already, let's distribute it to PyPI. PDM's plugins are discovered by entry point types. Create an <code>pdm</code> entry point and point to your plugin callable (yeah, it doesn't need to be a function, any callable object can work):</p> <p>PEP 621:</p> <pre><code># pyproject.toml\n\n[project.entry-points.pdm]\nhello = \"my_plugin:hello_plugin\"\n</code></pre> <p>setuptools:</p> <pre><code># setup.py\n\nsetup(\n    ...\n    entry_points={\"pdm\": [\"hello = my_plugin:hello_plugin\"]}\n    ...\n)\n</code></pre>"},{"location":"dev/write/#activate-the-plugin","title":"Activate the plugin","text":"<p>As plugins are loaded via entry points, they can be activated with no more steps than just installing the plugin. For convenience, PDM provides a <code>plugin</code> command group to manage plugins.</p> <p>Assume your plugin is published as <code>pdm-hello</code>:</p> <pre><code>pdm self add pdm-hello\n</code></pre> <p>Now type <code>pdm --help</code> in the terminal, you will see the new added <code>hello</code> command and use it:</p> <pre><code>$ pdm hello Jack\nHello, Jack\n</code></pre> <p>See more plugin management subcommands by typing <code>pdm self --help</code> in the terminal.</p>"},{"location":"dev/write/#specify-the-plugins-in-project","title":"Specify the plugins in project","text":"<p>To specify the required plugins for a project, you can use the <code>tool.pdm.plugins</code> config in the <code>pyproject.toml</code> file. These dependencies can be installed into a project plugin library by running <code>pdm install --plugins</code>. The project plugin library will be loaded in subsequent PDM commands.</p> <p>This is useful when you want to share the same plugin set with the contributors.</p> <pre><code># pyproject.toml\n[tool.pdm]\nplugins = [\n    \"pdm-packer\"\n]\n</code></pre> <p>Run <code>pdm install --plugins</code> to install and activate the plugins.</p> <p>Alternatively, you can have project-local plugins that are not published to PyPI, by using editable local dependencies:</p> <pre><code># pyproject.toml\n[tool.pdm]\nplugins = [\n    \"-e file:///${PROJECT_ROOT}/plugins/my_plugin\"\n]\n</code></pre>"},{"location":"reference/api/","title":"API Reference","text":""},{"location":"reference/api/#pdm.core.Core","title":"<code>pdm.core.Core</code>","text":"<p>A high level object that manages all classes and configurations</p>"},{"location":"reference/api/#pdm.core.Core.add_config","title":"<code>add_config(name, config_item)</code>  <code>staticmethod</code>","text":"<p>Add a config item to the configuration class.</p> <p>Parameters:</p> Name Type Description Default <code>name</code> <code>str</code> <p>The name of the config item</p> required <code>config_item</code> <code>pdm.project.config.ConfigItem</code> <p>The config item to add</p> required"},{"location":"reference/api/#pdm.core.Core.create_project","title":"<code>create_project(root_path=None, is_global=False, global_config=None)</code>","text":"<p>Create a new project object</p> <p>Parameters:</p> Name Type Description Default <code>root_path</code> <code>PathLike</code> <p>The path to the project root directory</p> <code>None</code> <code>is_global</code> <code>bool</code> <p>Whether the project is a global project</p> <code>False</code> <code>global_config</code> <code>str</code> <p>The path to the global config file</p> <code>None</code> <p>Returns:</p> Type Description <code>Project</code> <p>The project object</p>"},{"location":"reference/api/#pdm.core.Core.get_command","title":"<code>get_command(args)</code>  <code>staticmethod</code>","text":"<p>Get the command name from the arguments</p>"},{"location":"reference/api/#pdm.core.Core.handle","title":"<code>handle(project, options)</code>","text":"<p>Called before command invocation</p>"},{"location":"reference/api/#pdm.core.Core.load_plugins","title":"<code>load_plugins()</code>","text":"<p>Import and load plugins under <code>pdm.plugin</code> namespace A plugin is a callable that accepts the core object as the only argument.</p> Example <pre><code>def my_plugin(core: pdm.core.Core) -&gt; None:\n    ...\n</code></pre>"},{"location":"reference/api/#pdm.core.Core.main","title":"<code>main(args=None, prog_name=None, obj=None, **extra)</code>","text":"<p>The main entry function</p>"},{"location":"reference/api/#pdm.core.Core.register_command","title":"<code>register_command(command, name=None)</code>","text":"<p>Register a subcommand to the subparsers, with an optional name of the subcommand.</p> <p>Parameters:</p> Name Type Description Default <code>command</code> <code>Type[pdm.cli.commands.base.BaseCommand]</code> <p>The command class to register</p> required <code>name</code> <code>str</code> <p>The name of the subcommand, if not given, <code>command.name</code> is used</p> <code>None</code>"},{"location":"reference/api/#pdm.core.Project","title":"<code>pdm.core.Project</code>","text":"<p>Core project class.</p> <p>Parameters:</p> Name Type Description Default <code>core</code> <code>Core</code> <p>The core instance.</p> required <code>root_path</code> <code>str | Path | None</code> <p>The root path of the project.</p> required <code>is_global</code> <code>bool</code> <p>Whether the project is global.</p> <code>False</code> <code>global_config</code> <code>str | Path | None</code> <p>The path to the global config file.</p> <code>None</code>"},{"location":"reference/api/#pdm.project.core.Project.config","title":"<code>config: Mapping[str, Any]</code>  <code>cached</code> <code>property</code>","text":"<p>A read-only dict configuration</p>"},{"location":"reference/api/#pdm.project.core.Project.default_source","title":"<code>default_source: RepositoryConfig</code>  <code>property</code>","text":"<p>Get the default source from the pypi setting</p>"},{"location":"reference/api/#pdm.project.core.Project.project_config","title":"<code>project_config: Config</code>  <code>cached</code> <code>property</code>","text":"<p>Read-and-writable configuration dict for project settings</p>"},{"location":"reference/api/#pdm.project.core.Project.add_dependencies","title":"<code>add_dependencies(requirements, to_group='default', dev=False, show_message=True, write=True)</code>","text":"<p>Add requirements to the given group, and return the requirements of that group.</p>"},{"location":"reference/api/#pdm.project.core.Project.env_or_setting","title":"<code>env_or_setting(var, key)</code>","text":"<p>Get a value from environment variable and fallback on a given setting.</p> <p>Returns <code>None</code> if both the environment variable and the key does not exists.</p>"},{"location":"reference/api/#pdm.project.core.Project.find_interpreters","title":"<code>find_interpreters(python_spec=None, search_venv=None)</code>","text":"<p>Return an iterable of interpreter paths that matches the given specifier,</p> which can be <ol> <li>a version specifier like 3.7</li> <li>an absolute path</li> <li>a short name like python3</li> <li>None that returns all possible interpreters</li> </ol>"},{"location":"reference/api/#pdm.project.core.Project.get_best_matching_cpython_version","title":"<code>get_best_matching_cpython_version(use_minimum=False)</code>","text":"<p>Returns the best matching cPython version that fits requires-python, this platform and arch. If no best match could be found, return None.</p> <p>Default for best match strategy is \"highest\" possible interpreter version. If \"minimum\" shall be used, set <code>use_minimum</code> to True.</p>"},{"location":"reference/api/#pdm.project.core.Project.get_provider","title":"<code>get_provider(strategy='all', tracked_names=None, for_install=False, ignore_compatibility=NotSet, direct_minimal_versions=False, env_spec=None, locked_repository=None)</code>","text":"<p>Build a provider class for resolver.</p> <p>:param strategy: the resolve strategy :param tracked_names: the names of packages that needs to update :param for_install: if the provider is for install :param ignore_compatibility: if the provider should ignore the compatibility when evaluating candidates :param direct_minimal_versions: if the provider should prefer minimal versions instead of latest :returns: The provider object</p>"},{"location":"reference/api/#pdm.project.core.Project.get_reporter","title":"<code>get_reporter(requirements, tracked_names=None)</code>","text":"<p>Return the reporter object to construct a resolver.</p> <p>:param requirements: requirements to resolve :param tracked_names: the names of packages that needs to update :param spinner: optional spinner object :returns: a reporter</p>"},{"location":"reference/api/#pdm.project.core.Project.get_repository","title":"<code>get_repository(cls=None, ignore_compatibility=NotSet, env_spec=None)</code>","text":"<p>Get the repository object</p>"},{"location":"reference/api/#pdm.project.core.Project.get_resolver","title":"<code>get_resolver()</code>","text":"<p>Get the resolver class to use for the project.</p>"},{"location":"reference/api/#pdm.project.core.Project.get_setting","title":"<code>get_setting(key)</code>","text":"<p>Get a setting from its dotted key (without the <code>tool.pdm</code> prefix).</p> <p>Returns <code>None</code> if the key does not exists.</p>"},{"location":"reference/api/#pdm.project.core.Project.get_synchronizer","title":"<code>get_synchronizer(quiet=False)</code>","text":"<p>Get the synchronizer class to use for the project.</p>"},{"location":"reference/api/#pdm.project.core.Project.iter_interpreters","title":"<code>iter_interpreters(python_spec=None, search_venv=None, filter_func=None)</code>","text":"<p>Iterate over all interpreters that matches the given specifier. And optionally install the interpreter if not found.</p>"},{"location":"reference/api/#pdm.project.core.Project.resolve_interpreter","title":"<code>resolve_interpreter()</code>","text":"<p>Get the Python interpreter path.</p>"},{"location":"reference/api/#pdm.project.core.Project.use_pyproject_dependencies","title":"<code>use_pyproject_dependencies(group, dev=False)</code>","text":"<p>Get the dependencies array and setter in the pyproject.toml Return a tuple of two elements, the first is the dependencies array, and the second value is a callable to set the dependencies array back.</p>"},{"location":"reference/api/#pdm.project.core.Project.write_lockfile","title":"<code>write_lockfile(toml_data, show_message=True, write=True, **_kwds)</code>","text":"<p>Write the lock file to disk.</p>"},{"location":"reference/api/#signals","title":"Signals","text":"<p>Added in version 1.12.0</p> <p>The signal definition for PDM.</p> Example <pre><code>from pdm.signals import post_init, post_install\n\ndef on_post_init(project):\n    project.core.ui.echo(\"Project initialized\")\n# Connect to the signal\npost_init.connect(on_post_init)\n# Or use as a decorator\n@post_install.connect\ndef on_post_install(project, candidates, dry_run):\n    project.core.ui.echo(\"Project install succeeded\")\n</code></pre>"},{"location":"reference/api/#pdm.signals.post_build","title":"<code>post_build: NamedSignal = pdm_signals.signal('post_build')</code>  <code>module-attribute</code>","text":"<p>Called after a project is built.</p> <p>Parameters:</p> Name Type Description Default <code>project</code> <code>Project</code> <p>The project object</p> required <code>artifacts</code> <code>Sequence[str]</code> <p>The locations of built artifacts</p> required <code>config_settings</code> <code>dict[str, str] | None</code> <p>Additional config settings passed via args</p> required"},{"location":"reference/api/#pdm.signals.post_init","title":"<code>post_init: NamedSignal = pdm_signals.signal('post_init')</code>  <code>module-attribute</code>","text":"<p>Called after a project is initialized.</p> <p>Parameters:</p> Name Type Description Default <code>project</code> <code>Project</code> <p>The project object</p> required"},{"location":"reference/api/#pdm.signals.post_install","title":"<code>post_install: NamedSignal = pdm_signals.signal('post_install')</code>  <code>module-attribute</code>","text":"<p>Called after a project is installed.</p> <p>Parameters:</p> Name Type Description Default <code>project</code> <code>Project</code> <p>The project object</p> required <code>packages</code> <code>list[Package]</code> <p>The packages installed</p> required <code>dry_run</code> <code>bool</code> <p>If true, won't perform any actions</p> required"},{"location":"reference/api/#pdm.signals.post_lock","title":"<code>post_lock: NamedSignal = pdm_signals.signal('post_lock')</code>  <code>module-attribute</code>","text":"<p>Called after a project is locked.</p> <p>Parameters:</p> Name Type Description Default <code>project</code> <code>Project</code> <p>The project object</p> required <code>resolution</code> <code>dict[str, list[Candidate]]</code> <p>The resolved candidates</p> required <code>dry_run</code> <code>bool</code> <p>If true, won't perform any actions</p> required"},{"location":"reference/api/#pdm.signals.post_publish","title":"<code>post_publish: NamedSignal = pdm_signals.signal('post_publish')</code>  <code>module-attribute</code>","text":"<p>Called after a project is published.</p> <p>Parameters:</p> Name Type Description Default <code>project</code> <code>Project</code> <p>The project object</p> required"},{"location":"reference/api/#pdm.signals.post_run","title":"<code>post_run: NamedSignal = pdm_signals.signal('post_run')</code>  <code>module-attribute</code>","text":"<p>Called after any run.</p> <p>Parameters:</p> Name Type Description Default <code>project</code> <code>Project</code> <p>The project object</p> required <code>script</code> <code>str</code> <p>the script name</p> required <code>args</code> <code>Sequence[str]</code> <p>the command line provided arguments</p> required"},{"location":"reference/api/#pdm.signals.post_script","title":"<code>post_script: NamedSignal = pdm_signals.signal('post_script')</code>  <code>module-attribute</code>","text":"<p>Called after any script.</p> <p>Parameters:</p> Name Type Description Default <code>project</code> <code>Project</code> <p>The project object</p> required <code>script</code> <code>str</code> <p>the script name</p> required <code>args</code> <code>Sequence[str]</code> <p>the command line provided arguments</p> required"},{"location":"reference/api/#pdm.signals.post_use","title":"<code>post_use: NamedSignal = pdm_signals.signal('post_use')</code>  <code>module-attribute</code>","text":"<p>Called after use switched to a new Python version.</p> <p>Parameters:</p> Name Type Description Default <code>project</code> <code>Project</code> <p>The project object</p> required <code>python</code> <code>PythonInfo</code> <p>Information about the new Python interpreter</p> required"},{"location":"reference/api/#pdm.signals.pre_build","title":"<code>pre_build: NamedSignal = pdm_signals.signal('pre_build')</code>  <code>module-attribute</code>","text":"<p>Called before a project is built.</p> <p>Parameters:</p> Name Type Description Default <code>project</code> <code>Project</code> <p>The project object</p> required <code>dest</code> <code>str</code> <p>The destination location</p> required <code>config_settings</code> <code>dict[str, str] | None</code> <p>Additional config settings passed via args</p> required"},{"location":"reference/api/#pdm.signals.pre_install","title":"<code>pre_install: NamedSignal = pdm_signals.signal('pre_install')</code>  <code>module-attribute</code>","text":"<p>Called before a project is installed.</p> <p>Parameters:</p> Name Type Description Default <code>project</code> <code>Project</code> <p>The project object</p> required <code>packages</code> <code>list[Package]</code> <p>The packages to install</p> required <code>dry_run</code> <code>bool</code> <p>If true, won't perform any actions</p> required"},{"location":"reference/api/#pdm.signals.pre_invoke","title":"<code>pre_invoke: NamedSignal = pdm_signals.signal('pre_invoke')</code>  <code>module-attribute</code>","text":"<p>Called before any command is invoked.</p> <p>Parameters:</p> Name Type Description Default <code>project</code> <code>Project</code> <p>The project object</p> required <code>command</code> <code>str | None</code> <p>the command name</p> required <code>options</code> <code>Namespace</code> <p>the parsed arguments</p> required"},{"location":"reference/api/#pdm.signals.pre_lock","title":"<code>pre_lock: NamedSignal = pdm_signals.signal('pre_lock')</code>  <code>module-attribute</code>","text":"<p>Called before a project is locked.</p> <p>Parameters:</p> Name Type Description Default <code>project</code> <code>Project</code> <p>The project object</p> required <code>requirements</code> <code>list[Requirement]</code> <p>The requirements to lock</p> required <code>dry_run</code> <code>bool</code> <p>If true, won't perform any actions</p> required"},{"location":"reference/api/#pdm.signals.pre_publish","title":"<code>pre_publish: NamedSignal = pdm_signals.signal('pre_publish')</code>  <code>module-attribute</code>","text":"<p>Called before a project is published.</p> <p>Parameters:</p> Name Type Description Default <code>project</code> <code>Project</code> <p>The project object</p> required"},{"location":"reference/api/#pdm.signals.pre_run","title":"<code>pre_run: NamedSignal = pdm_signals.signal('pre_run')</code>  <code>module-attribute</code>","text":"<p>Called before any run.</p> <p>Parameters:</p> Name Type Description Default <code>project</code> <code>Project</code> <p>The project object</p> required <code>script</code> <code>str</code> <p>the script name</p> required <code>args</code> <code>Sequence[str]</code> <p>the command line provided arguments</p> required"},{"location":"reference/api/#pdm.signals.pre_script","title":"<code>pre_script: NamedSignal = pdm_signals.signal('pre_script')</code>  <code>module-attribute</code>","text":"<p>Called before any script.</p> <p>Parameters:</p> Name Type Description Default <code>project</code> <code>Project</code> <p>The project object</p> required <code>script</code> <code>str</code> <p>the script name</p> required <code>args</code> <code>Sequence[str]</code> <p>the command line provided arguments</p> required"},{"location":"reference/build/","title":"Build Configuration","text":"<p><code>pdm</code> uses the PEP 517 to build the package. It acts as a build frontend that calls the build backend to build the package.</p> <p>A build backend is what drives the build system to build source distributions and wheels from arbitrary source trees.</p> <p>If you run <code>pdm init</code>, PDM will let you choose the build backend to use. Unlike other package managers, PDM does not force you to use a specific build backend. You can choose the one you like. Here is a list of build backends and corresponding configurations initially supported by PDM:</p> pdm-backendsetuptoolsflithatchlingmaturin <p><code>pyproject.toml</code> configuration:</p> <pre><code>[build-system]\nrequires = [\"pdm-backend\"]\nbuild-backend = \"pdm.backend\"\n</code></pre> <p> Read the docs</p> <p><code>pyproject.toml</code> configuration:</p> <pre><code>[build-system]\nrequires = [\"setuptools\", \"wheel\"]\nbuild-backend = \"setuptools.build_meta\"\n</code></pre> <p> Read the docs</p> <p><code>pyproject.toml</code> configuration:</p> <pre><code>[build-system]\nrequires = [\"flit_core &gt;=3.2,&lt;4\"]\nbuild-backend = \"flit_core.buildapi\"\n</code></pre> <p> Read the docs</p> <p><code>pyproject.toml</code> configuration:</p> <pre><code>[build-system]\nrequires = [\"hatchling\"]\nbuild-backend = \"hatchling.build\"\n</code></pre> <p> Read the docs</p> <p><code>pyproject.toml</code> configuration:</p> <pre><code>[build-system]\nrequires = [\"maturin&gt;=1.4,&lt;2.0\"]\nbuild-backend = \"maturin\"\n</code></pre> <p> Read the docs</p> <p>Apart from the above mentioned backends, you can also use any other backend that supports PEP 621, however, poetry-core is not supported because it does not support reading PEP 621 metadata.</p> <p>Info</p> <p>If you are using a custom build backend that is not in the above list, PDM will handle the relative paths as PDM-style(<code>${PROJECT_ROOT}</code> variable).</p>"},{"location":"reference/cli/","title":"CLI Reference","text":""},{"location":"reference/cli/#pdm","title":"pdm","text":"<p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-V</code>, <code>--version</code>: Show the version and exit</li> <li><code>-c</code>, <code>--config</code>: Specify another config file path [env var: <code>PDM_CONFIG_FILE</code>] </li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> <li><code>--no-cache</code>: Disable the cache for the current command. [env var: <code>PDM_NO_CACHE</code>]</li> <li><code>-I</code>, <code>--ignore-python</code>: Ignore the Python path saved in<code>.pdm-python</code>. [env var: <code>PDM_IGNORE_SAVED_PYTHON</code>]</li> <li><code>--pep582</code> <code>SHELL</code>: Print the command line to be eval'd by the shell for PEP 582</li> <li><code>-n</code>, <code>--non-interactive</code>: Don't show interactive prompts but use defaults. [env var: <code>PDM_NON_INTERACTIVE</code>]</li> </ul> <p>Commands:</p>"},{"location":"reference/cli/#add","title":"add","text":"<p>Add package(s) to pyproject.toml and install them</p> <p>Update Strategy:</p> <ul> <li><code>--update-reuse</code>: Reuse pinned versions already present in lock file if possible</li> <li><code>--update-eager</code>: Try to update the packages and their dependencies recursively</li> <li><code>--update-all</code>: Update all dependencies and sub-dependencies</li> <li><code>--update-reuse-installed</code>: Reuse installed packages if possible</li> </ul> <p>Save Strategy:</p> <ul> <li><code>--save-compatible</code>: Save compatible version specifiers</li> <li><code>--save-wildcard</code>: Save wildcard version specifiers</li> <li><code>--save-exact</code>: Save exact version specifiers</li> <li><code>--save-minimum</code>: Save minimum version specifiers</li> </ul> <p>Package Arguments:</p> <ul> <li><code>-e</code>, <code>--editable</code>: Specify editable packages</li> <li><code>packages</code>: Specify packages</li> </ul> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> <li><code>-g</code>, <code>--global</code>: Use the global project, supply the project root with <code>-p</code> option</li> <li><code>-p</code>, <code>--project</code>: Specify another path as the project root, which changes the base of<code>pyproject.toml</code> and <code>__pypackages__</code> [env var: <code>PDM_PROJECT</code>]</li> <li><code>-L</code>, <code>--lockfile</code>: Specify another lockfile path. Default:<code>pdm.lock</code>. [env var: <code>PDM_LOCKFILE</code>]</li> <li><code>--frozen-lockfile</code>, <code>--no-lock</code>: Don't try to create or update the lockfile. [env var: <code>PDM_FROZEN_LOCKFILE</code>]</li> <li><code>--override</code>: Use the constraint file in pip-requirements format for overriding. [env var: <code>PDM_OVERRIDE</code>] This option can be used multiple times. See https://pip.pypa.io/en/stable/user_guide/#constraints-files</li> <li><code>--pre</code>, <code>--prerelease</code>: Allow prereleases to be pinned</li> <li><code>--stable</code>: Only allow stable versions to be pinned (default: <code>True</code>)</li> <li><code>-u</code>, <code>--unconstrained</code>: Ignore the version constraints in<code>pyproject.toml</code> and overwrite with new ones from the resolution result</li> <li><code>--dry-run</code>: Show the difference only and don't perform any action</li> <li><code>--venv</code> <code>NAME</code>: Run the command in the virtual environment with the given key. [env var: <code>PDM_IN_VENV</code>]</li> <li><code>-k</code>, <code>--skip</code>: Skip some tasks and/or hooks by their comma-separated names. Can be supplied multiple times. Use<code>:all</code> to skip all hooks. Use<code>:pre</code> and<code>:post</code> to skip all pre or post hooks.</li> <li><code>-d</code>, <code>--dev</code>: Add packages into dev dependencies</li> <li><code>-G</code>, <code>--group</code>: Specify the target dependency group to add into</li> <li><code>--no-sync</code>: Only write<code>pyproject.toml</code> and do not sync the working set (default: <code>False</code>)</li> </ul> <p>Install Options:</p> <ul> <li><code>--no-editable</code>: Install non-editable versions for all packages. [env var: <code>PDM_NO_EDITABLE</code>]</li> <li><code>--no-self</code>: Don't install the project itself. [env var: <code>PDM_NO_SELF</code>]</li> <li><code>--fail-fast</code>, <code>-x</code>: Abort on first installation error</li> <li><code>--no-isolation</code>: Disable isolation when building a source distribution that follows PEP 517, as in: build dependencies specified by PEP 518 must be already installed if this option is used.</li> <li><code>--config-setting</code>, <code>-C</code>: Pass options to the builder. options with a value must be specified after \"=\": <code>--config-setting=key(=value)</code> or <code>-Ckey(=value)</code></li> </ul>"},{"location":"reference/cli/#build","title":"build","text":"<p>Build artifacts for distribution</p> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> <li><code>-p</code>, <code>--project</code>: Specify another path as the project root, which changes the base of<code>pyproject.toml</code> and <code>__pypackages__</code> [env var: <code>PDM_PROJECT</code>]</li> <li><code>--no-isolation</code>: Disable isolation when building a source distribution that follows PEP 517, as in: build dependencies specified by PEP 518 must be already installed if this option is used.</li> <li><code>-k</code>, <code>--skip</code>: Skip some tasks and/or hooks by their comma-separated names. Can be supplied multiple times. Use<code>:all</code> to skip all hooks. Use<code>:pre</code> and<code>:post</code> to skip all pre or post hooks.</li> <li><code>--config-setting</code>, <code>-C</code>: Pass options to the builder. options with a value must be specified after \"=\": <code>--config-setting=key(=value)</code> or <code>-Ckey(=value)</code></li> <li><code>--no-sdist</code>: Don't build source tarballs (default: <code>False</code>)</li> <li><code>--no-wheel</code>: Don't build wheels (default: <code>False</code>)</li> <li><code>-d</code>, <code>--dest</code>: Target directory to put artifacts (default: <code>dist</code>)</li> <li><code>--no-clean</code>: Do not clean the target directory (default: <code>False</code>)</li> </ul>"},{"location":"reference/cli/#cache","title":"cache","text":"<p>Control the caches of PDM</p> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> </ul> <p>Commands:</p>"},{"location":"reference/cli/#clear","title":"clear","text":"<p>Clean all the files under cache directory</p> <p>Positional Arguments:</p> <ul> <li><code>type</code>: Clear the given type of caches</li> </ul> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> </ul>"},{"location":"reference/cli/#remove","title":"remove","text":"<p>Remove files matching the given pattern</p> <p>Positional Arguments:</p> <ul> <li><code>pattern</code>: The pattern to remove</li> </ul> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> </ul>"},{"location":"reference/cli/#list","title":"list","text":"<p>List the built wheels stored in the cache</p> <p>Positional Arguments:</p> <ul> <li><code>pattern</code>: The pattern to list (default: <code>*</code>)</li> </ul> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> </ul>"},{"location":"reference/cli/#info","title":"info","text":"<p>Show the info and current size of caches</p> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> </ul>"},{"location":"reference/cli/#completion","title":"completion","text":"<p>Generate completion scripts for the given shell</p> <p>Positional Arguments:</p> <ul> <li><code>shell</code>: The shell to generate the scripts for. If not given, PDM will properly guess from <code>SHELL</code> env var.</li> </ul> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> </ul>"},{"location":"reference/cli/#config","title":"config","text":"<p>Display the current configuration</p> <p>Positional Arguments:</p> <ul> <li><code>key</code>: Config key</li> <li><code>value</code>: Config value</li> </ul> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> <li><code>-g</code>, <code>--global</code>: Use the global project, supply the project root with <code>-p</code> option</li> <li><code>-p</code>, <code>--project</code>: Specify another path as the project root, which changes the base of<code>pyproject.toml</code> and <code>__pypackages__</code> [env var: <code>PDM_PROJECT</code>]</li> <li><code>-l</code>, <code>--local</code>: Set config in the project's local configuration file</li> <li><code>-d</code>, <code>--delete</code>: Unset a configuration key</li> <li><code>-e</code>, <code>--edit</code>: Edit the configuration file in the default editor(defined by EDITOR env var)</li> </ul>"},{"location":"reference/cli/#export","title":"export","text":"<p>Export the locked packages set to other formats</p> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> <li><code>-g</code>, <code>--global</code>: Use the global project, supply the project root with <code>-p</code> option</li> <li><code>-p</code>, <code>--project</code>: Specify another path as the project root, which changes the base of<code>pyproject.toml</code> and <code>__pypackages__</code> [env var: <code>PDM_PROJECT</code>]</li> <li><code>-L</code>, <code>--lockfile</code>: Specify another lockfile path. Default:<code>pdm.lock</code>. [env var: <code>PDM_LOCKFILE</code>]</li> <li><code>-f</code>, <code>--format</code>: Only requirements.txt is supported for now. (default: <code>requirements</code>)</li> <li><code>--no-hashes</code>, <code>--without-hashes</code>: Don't include artifact hashes (default: <code>False</code>)</li> <li><code>--no-markers</code>: (DEPRECATED)Don't include platform markers (default: <code>False</code>)</li> <li><code>--no-extras</code>: Strip extras from the requirements (default: <code>False</code>)</li> <li><code>-o</code>, <code>--output</code>: Write output to the given file, or print to stdout if not given</li> <li><code>--pyproject</code>: Read the list of packages from<code>pyproject.toml</code></li> <li><code>--expandvars</code>: Expand environment variables in requirements</li> <li><code>--self</code>: Include the project itself</li> <li><code>--editable-self</code>: Include the project itself as an editable dependency</li> </ul> <p>Dependencies Selection:</p> <ul> <li><code>-G</code>, <code>--group</code>, <code>--with</code> <code>GROUP</code>: Select group of optional-dependencies separated by comma or dev-dependencies (with <code>-d</code>). Can be supplied multiple times, use<code>:all</code> to include all groups under the same species.</li> <li><code>--without</code>: Exclude groups of optional-dependencies or dev-dependencies</li> <li><code>--no-default</code>: Don't include dependencies from the default group (default: <code>False</code>)</li> <li><code>-d</code>, <code>--dev</code>: Select dev dependencies</li> <li><code>--prod</code>, <code>--production</code>: Unselect dev dependencies (default: <code>True</code>)</li> </ul>"},{"location":"reference/cli/#fix","title":"fix","text":"<p>Fix the project problems according to the latest version of PDM</p> <p>Positional Arguments:</p> <ul> <li><code>problem</code>: Fix the specific problem, or all if not given</li> </ul> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> <li><code>-g</code>, <code>--global</code>: Use the global project, supply the project root with <code>-p</code> option</li> <li><code>-p</code>, <code>--project</code>: Specify another path as the project root, which changes the base of<code>pyproject.toml</code> and <code>__pypackages__</code> [env var: <code>PDM_PROJECT</code>]</li> <li><code>--dry-run</code>: Only show the problems</li> </ul>"},{"location":"reference/cli/#import","title":"import","text":"<p>Import project metadata from other formats</p> <p>Positional Arguments:</p> <ul> <li><code>filename</code>: The file name</li> </ul> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> <li><code>-g</code>, <code>--global</code>: Use the global project, supply the project root with <code>-p</code> option</li> <li><code>-p</code>, <code>--project</code>: Specify another path as the project root, which changes the base of<code>pyproject.toml</code> and <code>__pypackages__</code> [env var: <code>PDM_PROJECT</code>]</li> <li><code>-d</code>, <code>--dev</code>: import packages into dev dependencies</li> <li><code>-G</code>, <code>--group</code>: Specify the target dependency group to import into</li> <li><code>-f</code>, <code>--format</code>: Specify the file format explicitly</li> </ul>"},{"location":"reference/cli/#info_1","title":"info","text":"<p>Show the project information</p> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> <li><code>-g</code>, <code>--global</code>: Use the global project, supply the project root with <code>-p</code> option</li> <li><code>-p</code>, <code>--project</code>: Specify another path as the project root, which changes the base of<code>pyproject.toml</code> and <code>__pypackages__</code> [env var: <code>PDM_PROJECT</code>]</li> <li><code>--venv</code> <code>NAME</code>: Run the command in the virtual environment with the given key. [env var: <code>PDM_IN_VENV</code>]</li> <li><code>--python</code>: Show the interpreter path</li> <li><code>--where</code>: Show the project root path</li> <li><code>--packages</code>: Show the local packages root</li> <li><code>--env</code>: Show PEP 508 environment markers</li> <li><code>--json</code>: Dump the information in JSON</li> </ul>"},{"location":"reference/cli/#init","title":"init","text":"<p>Initialize a pyproject.toml for PDM</p> <p>Positional Arguments:</p> <ul> <li><code>template</code>: Specify the project template, which can be a local path or a Git URL</li> <li><code>generator_args</code>: Arguments passed to the generator</li> </ul> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> <li><code>-g</code>, <code>--global</code>: Use the global project, supply the project root with <code>-p</code> option</li> <li><code>-p</code>, <code>--project</code>: Specify another path as the project root, which changes the base of<code>pyproject.toml</code> and <code>__pypackages__</code> [env var: <code>PDM_PROJECT</code>]</li> <li><code>-k</code>, <code>--skip</code>: Skip some tasks and/or hooks by their comma-separated names. Can be supplied multiple times. Use<code>:all</code> to skip all hooks. Use<code>:pre</code> and<code>:post</code> to skip all pre or post hooks.</li> <li><code>--copier</code>: Use Copier to generate project [not installed] (default: <code>builtin</code>)</li> <li><code>--cookiecutter</code>: Use Cookiecutter to generate project [not installed] (default: <code>builtin</code>)</li> <li><code>-r</code>, <code>--overwrite</code>: Overwrite existing files</li> </ul> <p>Builtin Generator Options:</p> <ul> <li><code>-n</code>, <code>--non-interactive</code>: Don't ask questions but use default values</li> <li><code>--python</code>: Specify the Python version/path to use</li> <li><code>--dist</code>, <code>--lib</code>: Create a package for distribution</li> <li><code>--backend</code>: Specify the build backend, which implies --dist</li> <li><code>--license</code>: Specify the license (SPDX name)</li> <li><code>--project-version</code>: Specify the project's version</li> </ul>"},{"location":"reference/cli/#install","title":"install","text":"<p>Install dependencies from lock file</p> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> <li><code>-g</code>, <code>--global</code>: Use the global project, supply the project root with <code>-p</code> option</li> <li><code>-p</code>, <code>--project</code>: Specify another path as the project root, which changes the base of<code>pyproject.toml</code> and <code>__pypackages__</code> [env var: <code>PDM_PROJECT</code>]</li> <li><code>--override</code>: Use the constraint file in pip-requirements format for overriding. [env var: <code>PDM_OVERRIDE</code>] This option can be used multiple times. See https://pip.pypa.io/en/stable/user_guide/#constraints-files</li> <li><code>--dry-run</code>: Show the difference only and don't perform any action</li> <li><code>-L</code>, <code>--lockfile</code>: Specify another lockfile path. Default:<code>pdm.lock</code>. [env var: <code>PDM_LOCKFILE</code>]</li> <li><code>--frozen-lockfile</code>, <code>--no-lock</code>: Don't try to create or update the lockfile. [env var: <code>PDM_FROZEN_LOCKFILE</code>]</li> <li><code>-k</code>, <code>--skip</code>: Skip some tasks and/or hooks by their comma-separated names. Can be supplied multiple times. Use<code>:all</code> to skip all hooks. Use<code>:pre</code> and<code>:post</code> to skip all pre or post hooks.</li> <li><code>--venv</code> <code>NAME</code>: Run the command in the virtual environment with the given key. [env var: <code>PDM_IN_VENV</code>]</li> <li><code>--check</code>: Check if the lock file is up to date and fail otherwise</li> <li><code>--plugins</code>: Install the plugins specified in<code>pyproject.toml</code></li> </ul> <p>Install Options:</p> <ul> <li><code>--no-editable</code>: Install non-editable versions for all packages. [env var: <code>PDM_NO_EDITABLE</code>]</li> <li><code>--no-self</code>: Don't install the project itself. [env var: <code>PDM_NO_SELF</code>]</li> <li><code>--fail-fast</code>, <code>-x</code>: Abort on first installation error</li> <li><code>--no-isolation</code>: Disable isolation when building a source distribution that follows PEP 517, as in: build dependencies specified by PEP 518 must be already installed if this option is used.</li> <li><code>--config-setting</code>, <code>-C</code>: Pass options to the builder. options with a value must be specified after \"=\": <code>--config-setting=key(=value)</code> or <code>-Ckey(=value)</code></li> </ul> <p>Dependencies Selection:</p> <ul> <li><code>-G</code>, <code>--group</code>, <code>--with</code> <code>GROUP</code>: Select group of optional-dependencies separated by comma or dev-dependencies (with <code>-d</code>). Can be supplied multiple times, use<code>:all</code> to include all groups under the same species.</li> <li><code>--without</code>: Exclude groups of optional-dependencies or dev-dependencies</li> <li><code>--no-default</code>: Don't include dependencies from the default group (default: <code>False</code>)</li> <li><code>-d</code>, <code>--dev</code>: Select dev dependencies</li> <li><code>--prod</code>, <code>--production</code>: Unselect dev dependencies (default: <code>True</code>)</li> </ul>"},{"location":"reference/cli/#list_1","title":"list","text":"<p>List packages installed in the current working set</p> <p>Positional Arguments:</p> <ul> <li><code>patterns</code>: Filter packages by patterns. e.g. pdm list requests- flask-. In --tree mode, only show the subtree of the matched packages.</li> </ul> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> <li><code>-g</code>, <code>--global</code>: Use the global project, supply the project root with <code>-p</code> option</li> <li><code>-p</code>, <code>--project</code>: Specify another path as the project root, which changes the base of<code>pyproject.toml</code> and <code>__pypackages__</code> [env var: <code>PDM_PROJECT</code>]</li> <li><code>--venv</code> <code>NAME</code>: Run the command in the virtual environment with the given key. [env var: <code>PDM_IN_VENV</code>]</li> <li><code>--freeze</code>: Show the installed dependencies in pip's requirements.txt format</li> <li><code>--tree</code>, <code>--graph</code>: Display a tree of dependencies</li> <li><code>-r</code>, <code>--reverse</code>: Reverse the dependency tree</li> <li><code>--resolve</code>: Resolve all requirements to output licenses (instead of just showing those currently installed)</li> <li><code>--fields</code>: Select information to output as a comma separated string. All fields: groups,homepage,licenses,location,name,version. (default: <code>name,version,location</code>)</li> <li><code>--sort</code>: Sort the output using a given field name. If nothing is set, no sort is applied. Multiple fields can be combined with ','.</li> <li><code>--csv</code>: Output dependencies in CSV document format</li> <li><code>--json</code>: Output dependencies in JSON document format</li> <li><code>--markdown</code>: Output dependencies and legal notices in markdown document format - best effort basis</li> <li><code>--include</code>: Dependency groups to include in the output. By default all are included</li> <li><code>--exclude</code>: Exclude dependency groups from the output</li> </ul>"},{"location":"reference/cli/#lock","title":"lock","text":"<p>Resolve and lock dependencies</p> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> <li><code>-g</code>, <code>--global</code>: Use the global project, supply the project root with <code>-p</code> option</li> <li><code>-p</code>, <code>--project</code>: Specify another path as the project root, which changes the base of<code>pyproject.toml</code> and <code>__pypackages__</code> [env var: <code>PDM_PROJECT</code>]</li> <li><code>-L</code>, <code>--lockfile</code>: Specify another lockfile path. Default:<code>pdm.lock</code>. [env var: <code>PDM_LOCKFILE</code>]</li> <li><code>--no-isolation</code>: Disable isolation when building a source distribution that follows PEP 517, as in: build dependencies specified by PEP 518 must be already installed if this option is used.</li> <li><code>--config-setting</code>, <code>-C</code>: Pass options to the builder. options with a value must be specified after \"=\": <code>--config-setting=key(=value)</code> or <code>-Ckey(=value)</code></li> <li><code>--override</code>: Use the constraint file in pip-requirements format for overriding. [env var: <code>PDM_OVERRIDE</code>] This option can be used multiple times. See https://pip.pypa.io/en/stable/user_guide/#constraints-files</li> <li><code>-k</code>, <code>--skip</code>: Skip some tasks and/or hooks by their comma-separated names. Can be supplied multiple times. Use<code>:all</code> to skip all hooks. Use<code>:pre</code> and<code>:post</code> to skip all pre or post hooks.</li> <li><code>--refresh</code>: Refresh the content hash and file hashes in the lock file</li> <li><code>--check</code>: Check if the lock file is up to date and quit</li> <li><code>--update-reuse</code>: Reuse pinned versions already present in lock file if possible (default: <code>all</code>)</li> <li><code>--update-reuse-installed</code>: Reuse installed packages if possible</li> <li><code>--exclude-newer</code>: Exclude packages newer than the given UTC date in format <code>YYYY-MM-DD[THH:MM:SSZ]</code></li> </ul> <p>Lock Target:</p> <ul> <li><code>--python</code>: The Python range to lock for. E.g. <code>&gt;=3.9</code>, <code>==3.12.*</code></li> <li><code>--platform</code>: The platform to lock for. E.g. <code>windows</code>, <code>linux</code>, <code>macos</code>, <code>manylinux_2_17_x86_64</code>. See docs for available choices: http://pdm-project.org/en/latest/usage/lock-targets/</li> <li><code>--implementation</code>: The Python implementation to lock for. E.g. <code>cpython</code>, <code>pypy</code>, <code>pyston</code></li> <li><code>--append</code>: Append the result to the current lock file</li> </ul> <p>Lock Strategy:</p> <ul> <li><code>--strategy</code>, <code>-S</code> <code>STRATEGY</code>: Specify lock strategy (cross_platform, static_urls, direct_minimal_versions, inherit_metadata). Add 'no_' prefix to disable. Can be supplied multiple times or split by comma.</li> <li><code>--no-cross-platform</code>: [DEPRECATED] Only lock packages for the current platform</li> <li><code>--static-urls</code>: [DEPRECATED] Store static file URLs in the lockfile</li> <li><code>--no-static-urls</code>: [DEPRECATED] Do not store static file URLs in the lockfile</li> </ul> <p>Dependencies Selection:</p> <ul> <li><code>-G</code>, <code>--group</code>, <code>--with</code> <code>GROUP</code>: Select group of optional-dependencies separated by comma or dev-dependencies (with <code>-d</code>). Can be supplied multiple times, use<code>:all</code> to include all groups under the same species.</li> <li><code>--without</code>: Exclude groups of optional-dependencies or dev-dependencies</li> <li><code>--no-default</code>: Don't include dependencies from the default group (default: <code>False</code>)</li> <li><code>-d</code>, <code>--dev</code>: Select dev dependencies</li> <li><code>--prod</code>, <code>--production</code>: Unselect dev dependencies (default: <code>True</code>)</li> </ul>"},{"location":"reference/cli/#outdated","title":"outdated","text":"<p>Check for outdated packages and list the latest versions on indexes.</p> <p>Positional Arguments:</p> <ul> <li><code>patterns</code>: The packages to check</li> </ul> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> <li><code>-g</code>, <code>--global</code>: Use the global project, supply the project root with <code>-p</code> option</li> <li><code>-p</code>, <code>--project</code>: Specify another path as the project root, which changes the base of<code>pyproject.toml</code> and <code>__pypackages__</code> [env var: <code>PDM_PROJECT</code>]</li> <li><code>--json</code>: Output in JSON format (default: <code>table</code>)</li> <li><code>--include-sub</code>: Include sub-dependencies</li> </ul>"},{"location":"reference/cli/#publish","title":"publish","text":"<p>Build and publish the project to PyPI</p> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> <li><code>-p</code>, <code>--project</code>: Specify another path as the project root, which changes the base of<code>pyproject.toml</code> and <code>__pypackages__</code> [env var: <code>PDM_PROJECT</code>]</li> <li><code>-k</code>, <code>--skip</code>: Skip some tasks and/or hooks by their comma-separated names. Can be supplied multiple times. Use<code>:all</code> to skip all hooks. Use<code>:pre</code> and<code>:post</code> to skip all pre or post hooks.</li> <li><code>-r</code>, <code>--repository</code>: The repository name or url to publish the package to [env var: <code>PDM_PUBLISH_REPO</code>]</li> <li><code>-u</code>, <code>--username</code>: The username to access the repository [env var: <code>PDM_PUBLISH_USERNAME</code>]</li> <li><code>-P</code>, <code>--password</code>: The password to access the repository [env var: <code>PDM_PUBLISH_PASSWORD</code>]</li> <li><code>-S</code>, <code>--sign</code>: Upload the package with PGP signature</li> <li><code>-i</code>, <code>--identity</code>: GPG identity used to sign files.</li> <li><code>-c</code>, <code>--comment</code>: The comment to include with the distribution file.</li> <li><code>--no-build</code>: Don't build the package before publishing (default: <code>False</code>)</li> <li><code>-d</code>, <code>--dest</code>: The directory to upload the package from (default: <code>dist</code>)</li> <li><code>--skip-existing</code>: Skip uploading files that already exist. This may not work with some repository implementations.</li> <li><code>--no-very-ssl</code>: Disable SSL verification</li> <li><code>--ca-certs</code>: The path to a PEM-encoded Certificate Authority bundle to use for publish server validation [env var: <code>PDM_PUBLISH_CA_CERTS</code>]</li> </ul>"},{"location":"reference/cli/#python","title":"python","text":"<p>Manage installed Python interpreters</p> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> </ul> <p>Commands:</p>"},{"location":"reference/cli/#list_2","title":"list","text":"<p>List all Python interpreters installed with PDM</p> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> </ul>"},{"location":"reference/cli/#remove_1","title":"remove","text":"<p>Remove a Python interpreter installed with PDM</p> <p>Positional Arguments:</p> <ul> <li><code>version</code>: The Python version to remove. E.g. cpython@3.10.3</li> </ul> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> </ul>"},{"location":"reference/cli/#install_1","title":"install","text":"<p>Install a Python interpreter with PDM</p> <p>Positional Arguments:</p> <ul> <li><code>version</code>: The Python version to install (e.g. cpython@3.10.3). If left empty, highest cPython version that matches this platform/arch is installed. If<code>pyproject.toml</code> with requires-python is available, this is considered as well.</li> </ul> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> <li><code>--list</code>, <code>-l</code>: List all available Python versions</li> <li><code>--min</code>: Use minimum instead of highest version for installation if <code>version</code> is left empty</li> </ul>"},{"location":"reference/cli/#link","title":"link","text":"<p>Link an external Python interpreter to PDM</p> <p>Positional Arguments:</p> <ul> <li><code>interpreter</code>: The path to the Python interpreter to link</li> </ul> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> <li><code>--name</code>: The name of the link</li> </ul>"},{"location":"reference/cli/#py","title":"py","text":"<p>Manage installed Python interpreters</p> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> </ul> <p>Commands:</p>"},{"location":"reference/cli/#list_3","title":"list","text":"<p>List all Python interpreters installed with PDM</p> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> </ul>"},{"location":"reference/cli/#remove_2","title":"remove","text":"<p>Remove a Python interpreter installed with PDM</p> <p>Positional Arguments:</p> <ul> <li><code>version</code>: The Python version to remove. E.g. cpython@3.10.3</li> </ul> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> </ul>"},{"location":"reference/cli/#install_2","title":"install","text":"<p>Install a Python interpreter with PDM</p> <p>Positional Arguments:</p> <ul> <li><code>version</code>: The Python version to install (e.g. cpython@3.10.3). If left empty, highest cPython version that matches this platform/arch is installed. If<code>pyproject.toml</code> with requires-python is available, this is considered as well.</li> </ul> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> <li><code>--list</code>, <code>-l</code>: List all available Python versions</li> <li><code>--min</code>: Use minimum instead of highest version for installation if <code>version</code> is left empty</li> </ul>"},{"location":"reference/cli/#link_1","title":"link","text":"<p>Link an external Python interpreter to PDM</p> <p>Positional Arguments:</p> <ul> <li><code>interpreter</code>: The path to the Python interpreter to link</li> </ul> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> <li><code>--name</code>: The name of the link</li> </ul>"},{"location":"reference/cli/#remove_3","title":"remove","text":"<p>Remove packages from pyproject.toml</p> <p>Positional Arguments:</p> <ul> <li><code>packages</code>: Specify the packages to remove</li> </ul> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> <li><code>-g</code>, <code>--global</code>: Use the global project, supply the project root with <code>-p</code> option</li> <li><code>-p</code>, <code>--project</code>: Specify another path as the project root, which changes the base of<code>pyproject.toml</code> and <code>__pypackages__</code> [env var: <code>PDM_PROJECT</code>]</li> <li><code>--dry-run</code>: Show the difference only and don't perform any action</li> <li><code>-L</code>, <code>--lockfile</code>: Specify another lockfile path. Default:<code>pdm.lock</code>. [env var: <code>PDM_LOCKFILE</code>]</li> <li><code>--override</code>: Use the constraint file in pip-requirements format for overriding. [env var: <code>PDM_OVERRIDE</code>] This option can be used multiple times. See https://pip.pypa.io/en/stable/user_guide/#constraints-files</li> <li><code>--frozen-lockfile</code>, <code>--no-lock</code>: Don't try to create or update the lockfile. [env var: <code>PDM_FROZEN_LOCKFILE</code>]</li> <li><code>-k</code>, <code>--skip</code>: Skip some tasks and/or hooks by their comma-separated names. Can be supplied multiple times. Use<code>:all</code> to skip all hooks. Use<code>:pre</code> and<code>:post</code> to skip all pre or post hooks.</li> <li><code>--venv</code> <code>NAME</code>: Run the command in the virtual environment with the given key. [env var: <code>PDM_IN_VENV</code>]</li> <li><code>-d</code>, <code>--dev</code>: Remove packages from dev dependencies</li> <li><code>-G</code>, <code>--group</code>: Specify the target dependency group to remove from</li> <li><code>--no-sync</code>: Only write<code>pyproject.toml</code> and do not uninstall packages (default: <code>False</code>)</li> </ul> <p>Install Options:</p> <ul> <li><code>--no-editable</code>: Install non-editable versions for all packages. [env var: <code>PDM_NO_EDITABLE</code>]</li> <li><code>--no-self</code>: Don't install the project itself. [env var: <code>PDM_NO_SELF</code>]</li> <li><code>--fail-fast</code>, <code>-x</code>: Abort on first installation error</li> <li><code>--no-isolation</code>: Disable isolation when building a source distribution that follows PEP 517, as in: build dependencies specified by PEP 518 must be already installed if this option is used.</li> <li><code>--config-setting</code>, <code>-C</code>: Pass options to the builder. options with a value must be specified after \"=\": <code>--config-setting=key(=value)</code> or <code>-Ckey(=value)</code></li> </ul>"},{"location":"reference/cli/#run","title":"run","text":"<p>Run commands or scripts with local packages loaded</p> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> <li><code>-g</code>, <code>--global</code>: Use the global project, supply the project root with <code>-p</code> option</li> <li><code>-p</code>, <code>--project</code>: Specify another path as the project root, which changes the base of<code>pyproject.toml</code> and <code>__pypackages__</code> [env var: <code>PDM_PROJECT</code>]</li> <li><code>-k</code>, <code>--skip</code>: Skip some tasks and/or hooks by their comma-separated names. Can be supplied multiple times. Use<code>:all</code> to skip all hooks. Use<code>:pre</code> and<code>:post</code> to skip all pre or post hooks.</li> <li><code>--venv</code> <code>NAME</code>: Run the command in the virtual environment with the given key. [env var: <code>PDM_IN_VENV</code>]</li> <li><code>-l</code>, <code>--list</code>: Show all available scripts defined in<code>pyproject.toml</code></li> <li><code>-j</code>, <code>--json</code>: Output all scripts infos in JSON</li> </ul> <p>Execution Parameters:</p> <ul> <li><code>-s</code>, <code>--site-packages</code>: Load site-packages from the selected interpreter</li> <li><code>--recreate</code>: Recreate the script environment for self-contained scripts</li> <li><code>script</code>: The command to run</li> <li><code>args</code>: Arguments that will be passed to the command</li> </ul>"},{"location":"reference/cli/#search","title":"search","text":"<p>Search for PyPI packages</p> <p>Positional Arguments:</p> <ul> <li><code>query</code>: Query string to search</li> </ul> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> </ul>"},{"location":"reference/cli/#self","title":"self","text":"<p>Manage the PDM program itself (previously known as plugin)</p> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> </ul> <p>Commands:</p>"},{"location":"reference/cli/#list_4","title":"list","text":"<p>List all packages installed with PDM</p> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> <li><code>--plugins</code>: List plugins only</li> </ul>"},{"location":"reference/cli/#add_1","title":"add","text":"<p>Install packages to the PDM's environment</p> <p>Positional Arguments:</p> <ul> <li><code>packages</code>: Specify one or many package names, each package can have a version specifier</li> </ul> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> <li><code>--pip-args</code>: Arguments that will be passed to pip install</li> </ul>"},{"location":"reference/cli/#remove_4","title":"remove","text":"<p>Remove packages from PDM's environment</p> <p>Positional Arguments:</p> <ul> <li><code>packages</code>: Specify one or many package names</li> </ul> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> <li><code>--pip-args</code>: Arguments that will be passed to pip uninstall</li> <li><code>-y</code>, <code>--yes</code>: Answer yes on the question</li> </ul>"},{"location":"reference/cli/#update","title":"update","text":"<p>Update PDM itself</p> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> <li><code>--head</code>: Update to the latest commit on the main branch</li> <li><code>--pre</code>: Update to the latest prerelease version</li> <li><code>--no-frozen-deps</code>: Do not install frozen dependency versions (default: <code>False</code>)</li> <li><code>--pip-args</code>: Additional arguments that will be passed to pip install</li> </ul>"},{"location":"reference/cli/#plugin","title":"plugin","text":"<p>Manage the PDM program itself (previously known as plugin)</p> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> </ul> <p>Commands:</p>"},{"location":"reference/cli/#list_5","title":"list","text":"<p>List all packages installed with PDM</p> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> <li><code>--plugins</code>: List plugins only</li> </ul>"},{"location":"reference/cli/#add_2","title":"add","text":"<p>Install packages to the PDM's environment</p> <p>Positional Arguments:</p> <ul> <li><code>packages</code>: Specify one or many package names, each package can have a version specifier</li> </ul> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> <li><code>--pip-args</code>: Arguments that will be passed to pip install</li> </ul>"},{"location":"reference/cli/#remove_5","title":"remove","text":"<p>Remove packages from PDM's environment</p> <p>Positional Arguments:</p> <ul> <li><code>packages</code>: Specify one or many package names</li> </ul> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> <li><code>--pip-args</code>: Arguments that will be passed to pip uninstall</li> <li><code>-y</code>, <code>--yes</code>: Answer yes on the question</li> </ul>"},{"location":"reference/cli/#update_1","title":"update","text":"<p>Update PDM itself</p> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> <li><code>--head</code>: Update to the latest commit on the main branch</li> <li><code>--pre</code>: Update to the latest prerelease version</li> <li><code>--no-frozen-deps</code>: Do not install frozen dependency versions (default: <code>False</code>)</li> <li><code>--pip-args</code>: Additional arguments that will be passed to pip install</li> </ul>"},{"location":"reference/cli/#show","title":"show","text":"<p>Show the package information</p> <p>Positional Arguments:</p> <ul> <li><code>package</code>: Specify the package name, or show this package if not given</li> </ul> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> <li><code>-g</code>, <code>--global</code>: Use the global project, supply the project root with <code>-p</code> option</li> <li><code>-p</code>, <code>--project</code>: Specify another path as the project root, which changes the base of<code>pyproject.toml</code> and <code>__pypackages__</code> [env var: <code>PDM_PROJECT</code>]</li> <li><code>--venv</code> <code>NAME</code>: Run the command in the virtual environment with the given key. [env var: <code>PDM_IN_VENV</code>]</li> <li><code>--name</code>: Show name</li> <li><code>--version</code>: Show version</li> <li><code>--summary</code>: Show summary</li> <li><code>--license</code>: Show license</li> <li><code>--platform</code>: Show platform</li> <li><code>--keywords</code>: Show keywords</li> </ul>"},{"location":"reference/cli/#sync","title":"sync","text":"<p>Synchronize the current working set with lock file</p> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> <li><code>-g</code>, <code>--global</code>: Use the global project, supply the project root with <code>-p</code> option</li> <li><code>-p</code>, <code>--project</code>: Specify another path as the project root, which changes the base of<code>pyproject.toml</code> and <code>__pypackages__</code> [env var: <code>PDM_PROJECT</code>]</li> <li><code>--dry-run</code>: Show the difference only and don't perform any action</li> <li><code>-L</code>, <code>--lockfile</code>: Specify another lockfile path. Default:<code>pdm.lock</code>. [env var: <code>PDM_LOCKFILE</code>]</li> <li><code>-k</code>, <code>--skip</code>: Skip some tasks and/or hooks by their comma-separated names. Can be supplied multiple times. Use<code>:all</code> to skip all hooks. Use<code>:pre</code> and<code>:post</code> to skip all pre or post hooks.</li> <li><code>--clean</code>: Clean packages not in the lockfile</li> <li><code>--only-keep</code>, <code>--clean-unselected</code>: Only keep the selected packages</li> <li><code>--venv</code> <code>NAME</code>: Run the command in the virtual environment with the given key. [env var: <code>PDM_IN_VENV</code>]</li> <li><code>-r</code>, <code>--reinstall</code>: Force reinstall existing dependencies</li> </ul> <p>Install Options:</p> <ul> <li><code>--no-editable</code>: Install non-editable versions for all packages. [env var: <code>PDM_NO_EDITABLE</code>]</li> <li><code>--no-self</code>: Don't install the project itself. [env var: <code>PDM_NO_SELF</code>]</li> <li><code>--fail-fast</code>, <code>-x</code>: Abort on first installation error</li> <li><code>--no-isolation</code>: Disable isolation when building a source distribution that follows PEP 517, as in: build dependencies specified by PEP 518 must be already installed if this option is used.</li> <li><code>--config-setting</code>, <code>-C</code>: Pass options to the builder. options with a value must be specified after \"=\": <code>--config-setting=key(=value)</code> or <code>-Ckey(=value)</code></li> </ul> <p>Dependencies Selection:</p> <ul> <li><code>-G</code>, <code>--group</code>, <code>--with</code> <code>GROUP</code>: Select group of optional-dependencies separated by comma or dev-dependencies (with <code>-d</code>). Can be supplied multiple times, use<code>:all</code> to include all groups under the same species.</li> <li><code>--without</code>: Exclude groups of optional-dependencies or dev-dependencies</li> <li><code>--no-default</code>: Don't include dependencies from the default group (default: <code>False</code>)</li> <li><code>-d</code>, <code>--dev</code>: Select dev dependencies</li> <li><code>--prod</code>, <code>--production</code>: Unselect dev dependencies (default: <code>True</code>)</li> </ul>"},{"location":"reference/cli/#update_2","title":"update","text":"<p>Update package(s) in pyproject.toml</p> <p>Update Strategy:</p> <ul> <li><code>--update-reuse</code>: Reuse pinned versions already present in lock file if possible</li> <li><code>--update-eager</code>: Try to update the packages and their dependencies recursively</li> <li><code>--update-all</code>: Update all dependencies and sub-dependencies</li> <li><code>--update-reuse-installed</code>: Reuse installed packages if possible</li> </ul> <p>Save Strategy:</p> <ul> <li><code>--save-compatible</code>: Save compatible version specifiers</li> <li><code>--save-wildcard</code>: Save wildcard version specifiers</li> <li><code>--save-exact</code>: Save exact version specifiers</li> <li><code>--save-minimum</code>: Save minimum version specifiers</li> </ul> <p>Positional Arguments:</p> <ul> <li><code>packages</code>: If packages are given, only update them</li> </ul> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> <li><code>-g</code>, <code>--global</code>: Use the global project, supply the project root with <code>-p</code> option</li> <li><code>-p</code>, <code>--project</code>: Specify another path as the project root, which changes the base of<code>pyproject.toml</code> and <code>__pypackages__</code> [env var: <code>PDM_PROJECT</code>]</li> <li><code>-L</code>, <code>--lockfile</code>: Specify another lockfile path. Default:<code>pdm.lock</code>. [env var: <code>PDM_LOCKFILE</code>]</li> <li><code>--frozen-lockfile</code>, <code>--no-lock</code>: Don't try to create or update the lockfile. [env var: <code>PDM_FROZEN_LOCKFILE</code>]</li> <li><code>--override</code>: Use the constraint file in pip-requirements format for overriding. [env var: <code>PDM_OVERRIDE</code>] This option can be used multiple times. See https://pip.pypa.io/en/stable/user_guide/#constraints-files</li> <li><code>--pre</code>, <code>--prerelease</code>: Allow prereleases to be pinned</li> <li><code>--stable</code>: Only allow stable versions to be pinned (default: <code>True</code>)</li> <li><code>-u</code>, <code>--unconstrained</code>: Ignore the version constraints in<code>pyproject.toml</code> and overwrite with new ones from the resolution result</li> <li><code>-k</code>, <code>--skip</code>: Skip some tasks and/or hooks by their comma-separated names. Can be supplied multiple times. Use<code>:all</code> to skip all hooks. Use<code>:pre</code> and<code>:post</code> to skip all pre or post hooks.</li> <li><code>--venv</code> <code>NAME</code>: Run the command in the virtual environment with the given key. [env var: <code>PDM_IN_VENV</code>]</li> <li><code>-t</code>, <code>--top</code>: Only update those listed in<code>pyproject.toml</code></li> <li><code>--dry-run</code>, <code>--outdated</code>: Show the difference only without modifying the lockfile content</li> <li><code>--no-sync</code>: Only update lock file but do not sync packages (default: <code>False</code>)</li> </ul> <p>Install Options:</p> <ul> <li><code>--no-editable</code>: Install non-editable versions for all packages. [env var: <code>PDM_NO_EDITABLE</code>]</li> <li><code>--no-self</code>: Don't install the project itself. [env var: <code>PDM_NO_SELF</code>]</li> <li><code>--fail-fast</code>, <code>-x</code>: Abort on first installation error</li> <li><code>--no-isolation</code>: Disable isolation when building a source distribution that follows PEP 517, as in: build dependencies specified by PEP 518 must be already installed if this option is used.</li> <li><code>--config-setting</code>, <code>-C</code>: Pass options to the builder. options with a value must be specified after \"=\": <code>--config-setting=key(=value)</code> or <code>-Ckey(=value)</code></li> </ul> <p>Dependencies Selection:</p> <ul> <li><code>-G</code>, <code>--group</code>, <code>--with</code> <code>GROUP</code>: Select group of optional-dependencies separated by comma or dev-dependencies (with <code>-d</code>). Can be supplied multiple times, use<code>:all</code> to include all groups under the same species.</li> <li><code>--without</code>: Exclude groups of optional-dependencies or dev-dependencies</li> <li><code>--no-default</code>: Don't include dependencies from the default group (default: <code>False</code>)</li> <li><code>-d</code>, <code>--dev</code>: Select dev dependencies</li> <li><code>--prod</code>, <code>--production</code>: Unselect dev dependencies</li> </ul>"},{"location":"reference/cli/#use","title":"use","text":"<p>Use the given python version or path as base interpreter. If not found, PDM will try to install one.</p> <p>Positional Arguments:</p> <ul> <li><code>python</code>: Specify the Python version or path</li> </ul> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> <li><code>-g</code>, <code>--global</code>: Use the global project, supply the project root with <code>-p</code> option</li> <li><code>-p</code>, <code>--project</code>: Specify another path as the project root, which changes the base of<code>pyproject.toml</code> and <code>__pypackages__</code> [env var: <code>PDM_PROJECT</code>]</li> <li><code>-k</code>, <code>--skip</code>: Skip some tasks and/or hooks by their comma-separated names. Can be supplied multiple times. Use<code>:all</code> to skip all hooks. Use<code>:pre</code> and<code>:post</code> to skip all pre or post hooks.</li> <li><code>-f</code>, <code>--first</code>: Select the first matched interpreter - no auto install</li> <li><code>--auto-install-min</code>: If <code>python</code> argument not given, auto install minimal best match - otherwise has no effect</li> <li><code>--auto-install-max</code>: If <code>python</code> argument not given, auto install maximum best match - otherwise has no effect</li> <li><code>-i</code>, <code>--ignore-remembered</code>: Ignore the remembered selection</li> <li><code>--venv</code>: Use the interpreter in the virtual environment with the given name</li> </ul>"},{"location":"reference/cli/#venv","title":"venv","text":"<p>Virtualenv management</p> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-p</code>, <code>--project</code>: Specify another path as the project root, which changes the base of<code>pyproject.toml</code> and <code>__pypackages__</code> [env var: <code>PDM_PROJECT</code>]</li> <li><code>--path</code>: Show the path to the given virtualenv</li> <li><code>--python</code>: Show the python interpreter path for the given virtualenv</li> </ul> <p>Commands:</p>"},{"location":"reference/cli/#create","title":"create","text":"<p>Create a virtualenv</p> <p>Positional Arguments:</p> <ul> <li><code>python</code>: Specify which python should be used to create the virtualenv</li> <li><code>venv_args</code>: Additional arguments that will be passed to the backend</li> </ul> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> <li><code>-w</code>, <code>--with</code>: Specify the backend to create the virtualenv</li> <li><code>-f</code>, <code>--force</code>: Recreate if the virtualenv already exists</li> <li><code>-n</code>, <code>--name</code>: Specify the name of the virtualenv</li> <li><code>--with-pip</code>: Install pip with the virtualenv</li> </ul>"},{"location":"reference/cli/#list_6","title":"list","text":"<p>List all virtualenvs associated with this project</p> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> </ul>"},{"location":"reference/cli/#remove_6","title":"remove","text":"<p>Remove the virtualenv with the given name</p> <p>Positional Arguments:</p> <ul> <li><code>env</code>: The key of the virtualenv</li> </ul> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> <li><code>-y</code>, <code>--yes</code>: Answer yes on the following question</li> </ul>"},{"location":"reference/cli/#activate","title":"activate","text":"<p>Print the command to activate the virtualenv with the given name</p> <p>Positional Arguments:</p> <ul> <li><code>env</code>: The key of the virtualenv</li> </ul> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> </ul>"},{"location":"reference/cli/#purge","title":"purge","text":"<p>Purge selected/all created Virtualenvs</p> <p>Options:</p> <ul> <li><code>-h</code>, <code>--help</code>: Show this help message and exit.</li> <li><code>-v</code>, <code>--verbose</code>: Use <code>-v</code> for detailed output and <code>-vv</code> for more detailed</li> <li><code>-q</code>, <code>--quiet</code>: Suppress output</li> <li><code>-f</code>, <code>--force</code>: Force purging without prompting for confirmation</li> <li><code>-i</code>, <code>--interactive</code>: Interactively purge selected Virtualenvs</li> </ul>"},{"location":"reference/configuration/","title":"Configurations","text":""},{"location":"reference/configuration/#color-theme","title":"Color Theme","text":"<p>The default theme used by PDM is as follows:</p> Key Default Style <code>primary</code> cyan <code>success</code> green <code>warning</code> yellow <code>error</code> red <code>info</code> blue <code>req</code> bold green <p>You can change the theme colors with <code>pdm config</code> command. For example, to change the <code>primary</code> color to <code>magenta</code>:</p> <pre><code>pdm config theme.primary magenta\n</code></pre> <p>Or use a hex color code:</p> <pre><code>pdm config theme.success '#51c7bd'\n</code></pre>"},{"location":"reference/configuration/#available-configurations","title":"Available Configurations","text":"<p>The following configuration items can be retrieved and modified by <code>pdm config</code> command.</p> <p>Environment Variable Overrides</p> <p>If the corresponding env var is set, the value will take precedence over what is saved in the config file.</p> Config Item Description Default Value Available in Project Env var <code>cache_dir</code> The root directory of cached files <code>/home/runner/.cache/pdm</code> No <code>PDM_CACHE_DIR</code> <code>log_dir</code> The root directory of log files <code>/home/runner/.local/state/pdm/log</code> No <code>PDM_LOG_DIR</code> <code>check_update</code> Check if there is any newer version available <code>True</code> No <code>PDM_CHECK_UPDATE</code> <code>build_isolation</code> Isolate build environment from the project environment <code>True</code> Yes <code>PDM_BUILD_ISOLATION</code> <code>request_timeout</code> The timeout for network requests in seconds <code>15</code> No <code>PDM_REQUEST_TIMEOUT</code> <code>use_uv</code> Use uv for faster resolution and installation <code>False</code> Yes <code>PDM_USE_UV</code> <code>global_project.fallback</code> Use the global project implicitly if no local project is found <code>False</code> No <code>global_project.fallback_verbose</code> If True show message when global project is used implicitly <code>True</code> No <code>global_project.path</code> The path to the global project <code>/home/runner/.config/pdm/global-project</code> No <code>global_project.user_site</code> Whether to install to user site <code>False</code> No <code>strategy.update</code> The default strategy for updating packages <code>reuse</code> Yes <code>strategy.save</code> Specify how to save versions when a package is added <code>minimum</code> Yes <code>strategy.resolve_max_rounds</code> Specify the max rounds of resolution process <code>10000</code> Yes <code>PDM_RESOLVE_MAX_ROUNDS</code> <code>strategy.inherit_metadata</code> Inherit the groups and markers from parents for each package <code>True</code> Yes <code>install.parallel</code> Whether to perform installation and uninstallation in parallel <code>True</code> Yes <code>PDM_INSTALL_PARALLEL</code> <code>install.cache</code> Cache wheel installation and only put symlinks in the library root <code>False</code> Yes <code>install.cache_method</code> Specify how to create links to the caches(<code>symlink/hardlink</code>) <code>symlink</code> Yes <code>python.providers</code> List of python provider names for findpython <code>[]</code> Yes <code>python.use_pyenv</code> Use the pyenv interpreter <code>True</code> Yes <code>python.use_venv</code> Use virtual environments when available <code>True</code> Yes <code>PDM_USE_VENV</code> <code>python.install_root</code> The root directory to install python interpreters <code>/home/runner/.local/share/pdm/python</code> No <code>pypi.url</code> The URL of PyPI mirror, defaults to https://pypi.org/simple <code>https://pypi.org/simple</code> Yes <code>PDM_PYPI_URL</code> <code>pypi.verify_ssl</code> Verify SSL certificate when query PyPI <code>True</code> Yes <code>PDM_PYPI_VERIFY_SSL</code> <code>pypi.username</code> The username to access PyPI Yes <code>PDM_PYPI_USERNAME</code> <code>pypi.password</code> The password to access PyPI Yes <code>PDM_PYPI_PASSWORD</code> <code>pypi.ca_certs</code> Path to a CA certificate bundle used for verifying the identity of the PyPI server No <code>pypi.ignore_stored_index</code> Don't add the indexes from the config that is not listed in project <code>False</code> Yes <code>PDM_IGNORE_STORED_INDEX</code> <code>pypi.client_cert</code> Path to client certificate file, or combined cert/key file No <code>pypi.client_key</code> Path to client cert keyfile, if not in pypi.client_cert No <code>pypi.json_api</code> Consult PyPI's JSON API for package metadata <code>False</code> Yes <code>PDM_PYPI_JSON_API</code> <code>venv.location</code> Parent directory for virtualenvs <code>/home/runner/.local/share/pdm/venvs</code> No <code>venv.backend</code> Default backend to create virtualenv <code>virtualenv</code> Yes <code>PDM_VENV_BACKEND</code> <code>venv.in_project</code> Create virtualenv in <code>.venv</code> under project root <code>True</code> Yes <code>PDM_VENV_IN_PROJECT</code> <code>venv.prompt</code> Define a custom template to be displayed in the prompt when virtualenv isactive. Variables <code>project_name</code> and <code>python_version</code> are available forformatting <code>{project_name}-{python_version}</code> Yes <code>PDM_VENV_PROMPT</code> <code>venv.with_pip</code> Install pip when creating a new venv <code>False</code> Yes <code>PDM_VENV_WITH_PIP</code> <code>theme.primary</code> Theme color for primary <code>cyan</code> No <code>theme.success</code> Theme color for success <code>green</code> No <code>theme.warning</code> Theme color for warning <code>yellow</code> No <code>theme.error</code> Theme color for error <code>red</code> No <code>theme.info</code> Theme color for info <code>blue</code> No <code>theme.req</code> Theme color for req <code>bold green</code> No <code>pypi.&lt;name&gt;.url</code> The URL of custom package source <code>https://pypi.org/simple</code> Yes <code>pypi.&lt;name&gt;.username</code> The username to access custom source Yes <code>pypi.&lt;name&gt;.password</code> The password to access custom source Yes <code>pypi.&lt;name&gt;.type</code> <code>index</code> or <code>find_links</code> <code>index</code> Yes <code>pypi.&lt;name&gt;.verify_ssl</code> Verify SSL certificate when query custom source <code>True</code> Yes <code>repository.&lt;name&gt;.url</code> The URL of custom package source <code>https://pypi.org/simple</code> Yes <code>repository.&lt;name&gt;.username</code> The username to access custom repository Yes <code>repository.&lt;name&gt;.password</code> The password to access custom repository Yes <code>repository.&lt;name&gt;.ca_certs</code> Path to a PEM-encoded CA cert bundle (used for server cert verification) The CA certificates from certifi Yes <code>repository.&lt;name&gt;.verify_ssl</code> Verify SSL certificate when uploading to repository <code>True</code> Yes"},{"location":"reference/pep621/","title":"PEP 621 Metadata","text":"<p>The project metadata are stored in the <code>pyproject.toml</code>. The specifications are defined by PEP 621, PEP 631 and PEP 639. Read the detailed specifications in the PEPs.</p> <p>In the following part of this document, metadata should be written under <code>[project]</code> table if not given explicitly.</p>"},{"location":"reference/pep621/#multiline-description","title":"Multiline description","text":"<p>You can split a long description onto multiple lines, thanks to TOML support for multiline strings. Just remember to escape new lines, so the final description appears on one line only in your package metadata. Indentation will be removed as well when escaping new lines:</p> <pre><code>description = \"\"\"\\\n    Lorem ipsum dolor sit amet, consectetur adipiscing elit, \\\n    sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. \\\n    Ut enim ad minim veniam, quis nostrud exercitation ullamco \\\n    laboris nisi ut aliquip ex ea commodo consequat.\\\n\"\"\"\n</code></pre> <p>See TOML's specification on strings.</p>"},{"location":"reference/pep621/#package-version","title":"Package version","text":"StaticDynamic <pre><code>[project]\nversion = \"1.0.0\"\n</code></pre> <pre><code>[project]\n...\ndynamic = [\"version\"]\n\n[tool.pdm]\nversion = { source = \"file\", path = \"mypackage/__version__.py\" }\n</code></pre> <p>The version will be read from the <code>mypackage/__version__.py</code> file searching for the pattern: <code>__version__ = \"{version}\"</code>.</p> <p>Read more information about other configurations in dynamic project version from the <code>pdm-backend</code> documentation.</p>"},{"location":"reference/pep621/#python-version","title":"Python version","text":"<p>The required version of Python is specified as the string <code>requires-python</code>:</p> <pre><code>requires-python = \"&gt;=3.9\"\nclassifiers = [\n    \"Programming Language :: Python :: 3\",\n    \"Programming Language :: Python :: 3.9\",\n    \"Programming Language :: Python :: 3.10\",\n    \"Programming Language :: Python :: 3.11\",\n    ...\n]\n</code></pre> <p>Note: As per PEP 621, PDM is not permitted to dynamically update the <code>classifiers</code> section like some other non-compliant tools. Thus, you should also include the appropriate trove classifiers as shown above if you plan on publishing your package on PyPI.</p>"},{"location":"reference/pep621/#license","title":"License","text":"<p>The license is specified as the string <code>license</code>:</p> <pre><code>license = {text = \"BSD-2-Clause\"}\nclassifiers = [\n    \"License :: OSI Approved :: BSD License\",\n    ...\n]\n</code></pre> <p>Note: As per PEP 621, PDM is not permitted to dynamically update the <code>classifiers</code> section like some other non-compliant tools. Thus, you should also include the appropriate trove classifiers as shown above if you plan on publishing your package on PyPI.</p>"},{"location":"reference/pep621/#dependency-specification","title":"Dependency specification","text":"<p>The <code>project.dependencies</code> is an array of dependency specification strings following the PEP 440 and PEP 508.</p> <p>Examples:</p> <pre><code>[project]\n...\ndependencies = [\n    # Named requirement\n    \"requests\",\n    # Named requirement with version specifier\n    \"flask &gt;= 1.1.0\",\n    # Requirement with environment marker\n    \"pywin32; sys_platform == 'win32'\",\n    # URL requirement\n    \"pip @ git+https://github.com/pypa/pip.git@20.3.1\"\n]\n</code></pre>"},{"location":"reference/pep621/#optional-dependencies","title":"Optional dependencies","text":"<p>You can have some requirements optional, which is similar to <code>setuptools</code>' <code>extras_require</code> parameter.</p> <pre><code>[project.optional-dependencies]\nsocks = [ 'PySocks &gt;= 1.5.6, != 1.5.7, &lt; 2' ]\ntests = [\n  'ddt &gt;= 1.2.2, &lt; 2',\n  'pytest &lt; 6',\n  'mock &gt;= 1.0.1, &lt; 4; python_version &lt; \"3.4\"',\n]\n</code></pre> <p>To install a group of optional dependencies:</p> <pre><code>pdm install -G socks\n</code></pre> <p><code>-G</code> option can be given multiple times to include more than one group.</p>"},{"location":"reference/pep621/#context-variables-expansion","title":"Context variables expansion","text":"<p>Depending on which build backend you are using, PDM will expand some variables in the dependency strings.</p>"},{"location":"reference/pep621/#environment-variables","title":"Environment variables","text":"pdm-backendhatchling <pre><code>[project]\ndependencies = [\"flask @ https://${USERNAME}:${PASSWORD}/artifacts.io/Flask-1.1.2.tar.gz\"]\n</code></pre> <pre><code>[project]\ndependencies = [\"flask @ https://{env:USERNAME}:{env:PASSWORD}/artifacts.io/Flask-1.1.2.tar.gz\"]\n</code></pre> <p>Find more usages here</p> <p>Don't worry about credential leakage, the environment variables will be expanded when needed and kept untouched in the lock file.</p>"},{"location":"reference/pep621/#relative-paths","title":"Relative paths","text":"<p>When you add a package from a relative path, PDM will automatically save it as a relative path for <code>pdm-backend</code> and <code>hatchling</code>.</p> <p>For example, if you run <code>pdm add ./my-package</code>, it will result in the following line in <code>pyproject.toml</code>.</p> pdm-backendhatchling <pre><code>[project]\ndependencies = [\"my-package @ file:///${PROJECT_ROOT}/my-package\"]\n</code></pre> <pre><code>[project]\ndependencies = [\"my-package @ {root:uri}/my-package\"]\n</code></pre> <p>By default, hatchling doesn't support direct references in the dependency string, you need to turn it on in <code>pyproject.toml</code>:</p> <pre><code>[tool.hatch.metadata]\nallow-direct-references = true\n</code></pre> <p>The relative path will be expanded based on the project root when installing or locking.</p>"},{"location":"reference/pep621/#console-scripts","title":"Console scripts","text":"<p>The following content:</p> <pre><code>[project.scripts]\nmycli = \"mycli.__main__:main\"\n</code></pre> <p>will be translated to <code>setuptools</code> style:</p> <pre><code>entry_points = {\n    'console_scripts': [\n        'mycli=mycli.__main__:main'\n    ]\n}\n</code></pre> <p>Also, <code>[project.gui-scripts]</code> will be translated to <code>gui_scripts</code> entry points group in <code>setuptools</code> style.</p>"},{"location":"reference/pep621/#entry-points","title":"Entry points","text":"<p>Other types of entry points are given by <code>[project.entry-points.&lt;type&gt;]</code> section, with the same format of <code>[project.scripts]</code>:</p> <pre><code>[project.entry-points.pytest11]\nmyplugin = \"mypackage.plugin:pytest_plugin\"\n</code></pre> <p>If the entry point name contains dots or other special characters, wrap it in quotes:</p> <pre><code>[project.entry-points.\"flake8.extension\"]\nmyplugin = \"mypackage.plugin:flake8_plugin\"\n</code></pre>"},{"location":"usage/advanced/","title":"\u9ad8\u5ea6\u306a\u4f7f\u7528\u6cd5","text":""},{"location":"usage/advanced/#_2","title":"\u81ea\u52d5\u30c6\u30b9\u30c8","text":""},{"location":"usage/advanced/#tox","title":"Tox \u3092\u30e9\u30f3\u30ca\u30fc\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b","text":"<p>Tox \u306f\u3001\u8907\u6570\u306e Python \u30d0\u30fc\u30b8\u30e7\u30f3\u3084\u4f9d\u5b58\u95a2\u4fc2\u30bb\u30c3\u30c8\u306b\u5bfe\u3057\u3066\u30c6\u30b9\u30c8\u3092\u884c\u3046\u305f\u3081\u306e\u512a\u308c\u305f\u30c4\u30fc\u30eb\u3067\u3059\u3002 \u6b21\u306e\u3088\u3046\u306b <code>tox.ini</code> \u3092\u69cb\u6210\u3057\u3066\u3001PDM \u3068\u7d71\u5408\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>[tox]\nenv_list = py{36,37,38},lint\n\n[testenv]\nsetenv =\n    PDM_IGNORE_SAVED_PYTHON=\"1\"\ndeps = pdm\ncommands =\n    pdm install --dev\n    pytest tests\n\n[testenv:lint]\ndeps = pdm\ncommands =\n    pdm install -G lint\n    flake8 src/\n</code></pre> <p>Tox \u306b\u3088\u3063\u3066\u4f5c\u6210\u3055\u308c\u305f\u4eee\u60f3\u74b0\u5883\u3092\u4f7f\u7528\u3059\u308b\u306b\u306f\u3001<code>pdm config python.use_venv true</code> \u3092\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002PDM \u306f\u305d\u306e\u5f8c\u3001<code>pdm lock</code> \u304b\u3089\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u4eee\u60f3\u74b0\u5883\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\u5c02\u7528\u306e venv \u3067\u306f\u3001<code>pytest tests/</code> \u306e\u3088\u3046\u306b <code>pdm run pytest tests/</code> \u306e\u4ee3\u308f\u308a\u306b\u30c4\u30fc\u30eb\u3092\u76f4\u63a5\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002</p> <p>\u30c6\u30b9\u30c8\u30b3\u30de\u30f3\u30c9\u3067 <code>pdm add/pdm remove/pdm update/pdm lock</code> \u3092\u5b9f\u884c\u3057\u306a\u3044\u3088\u3046\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u3046\u3057\u306a\u3044\u3068\u3001<code>pdm lock</code> \u30d5\u30a1\u30a4\u30eb\u304c\u4e88\u671f\u305b\u305a\u5909\u66f4\u3055\u308c\u307e\u3059\u3002\u8ffd\u52a0\u306e\u4f9d\u5b58\u95a2\u4fc2\u306f <code>deps</code> \u8a2d\u5b9a\u3067\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002\u3055\u3089\u306b\u3001<code>isolated_build</code> \u3068 <code>passenv</code> \u8a2d\u5b9a\u3092\u4e0a\u8a18\u306e\u4f8b\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u3066\u3001PDM \u304c\u6b63\u3057\u304f\u52d5\u4f5c\u3059\u308b\u3088\u3046\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>\u3053\u308c\u3089\u306e\u5236\u7d04\u3092\u53d6\u308a\u9664\u304f\u305f\u3081\u306b\u3001\u4f7f\u7528\u3092\u5bb9\u6613\u306b\u3059\u308b Tox \u30d7\u30e9\u30b0\u30a4\u30f3 tox-pdm \u304c\u3042\u308a\u307e\u3059\u3002\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u307e\u3059\u3002</p> <pre><code>pip install tox-pdm\n</code></pre> <p>\u307e\u305f\u306f\u3001</p> <pre><code>pdm add --dev tox-pdm\n</code></pre> <p>\u305d\u3057\u3066\u3001<code>tox.ini</code> \u3092\u6b21\u306e\u3088\u3046\u306b\u6574\u7406\u3067\u304d\u307e\u3059\u3002</p> <pre><code>[tox]\nenv_list = py{36,37,38},lint\n\n[testenv]\ngroups = dev\ncommands =\n    pytest tests\n\n[testenv:lint]\ngroups = lint\ncommands =\n    flake8 src/\n</code></pre> <p>\u8a73\u7d30\u306a\u30ac\u30a4\u30c0\u30f3\u30b9\u306b\u3064\u3044\u3066\u306f\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e README \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"usage/advanced/#nox","title":"Nox \u3092\u30e9\u30f3\u30ca\u30fc\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b","text":"<p>Nox \u306f\u3001\u3082\u3046\u4e00\u3064\u306e\u512a\u308c\u305f\u81ea\u52d5\u30c6\u30b9\u30c8\u30c4\u30fc\u30eb\u3067\u3059\u3002Tox \u3068\u306f\u7570\u306a\u308a\u3001Nox \u306f\u8a2d\u5b9a\u306b\u6a19\u6e96\u306e Python \u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002</p> <p>Nox \u3067 PDM \u3092\u4f7f\u7528\u3059\u308b\u306e\u306f\u975e\u5e38\u306b\u7c21\u5358\u3067\u3059\u3002\u4ee5\u4e0b\u306f <code>noxfile.py</code> \u306e\u4f8b\u3067\u3059\u3002</p> <pre><code>import os\nimport nox\n\nos.environ.update({\"PDM_IGNORE_SAVED_PYTHON\": \"1\"})\n\n@nox.session\ndef tests(session):\n    session.run_always('pdm', 'install', '-G', 'test', external=True)\n    session.run('pytest')\n\n@nox.session\ndef lint(session):\n    session.run_always('pdm', 'install', '-G', 'lint', external=True)\n    session.run('flake8', '--import-order-style', 'google')\n</code></pre> <p><code>PDM_IGNORE_SAVED_PYTHON</code> \u3092\u8a2d\u5b9a\u3057\u3066\u3001PDM \u304c\u4eee\u60f3\u74b0\u5883\u5185\u306e Python \u3092\u6b63\u3057\u304f\u8a8d\u8b58\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u307e\u305f\u3001<code>pdm</code> \u304c <code>PATH</code> \u306b\u5b58\u5728\u3059\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002 Nox \u3092\u5b9f\u884c\u3059\u308b\u524d\u306b\u3001<code>python.use_venv</code> \u8a2d\u5b9a\u9805\u76ee\u304c true \u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u3001venv \u306e\u518d\u5229\u7528\u3092\u6709\u52b9\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"usage/advanced/#pep-582-__pypackages__","title":"PEP 582 <code>__pypackages__</code> \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3064\u3044\u3066","text":"<p>\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001<code>pdm run</code> \u3092\u4f7f\u7528\u3057\u3066\u30c4\u30fc\u30eb\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001<code>__pypackages__</code> \u304c\u30d7\u30ed\u30b0\u30e9\u30e0\u304a\u3088\u3073\u305d\u308c\u306b\u3088\u3063\u3066\u4f5c\u6210\u3055\u308c\u305f\u3059\u3079\u3066\u306e\u30b5\u30d6\u30d7\u30ed\u30bb\u30b9\u306b\u3088\u3063\u3066\u8a8d\u8b58\u3055\u308c\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u3053\u308c\u3089\u306e\u30c4\u30fc\u30eb\u306b\u3088\u3063\u3066\u4f5c\u6210\u3055\u308c\u305f\u4eee\u60f3\u74b0\u5883\u3082 <code>__pypackages__</code> \u5185\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u8a8d\u8b58\u3059\u308b\u3053\u3068\u3092\u610f\u5473\u3057\u3001\u3044\u304f\u3064\u304b\u306e\u30b1\u30fc\u30b9\u3067\u4e88\u671f\u3057\u306a\u3044\u52d5\u4f5c\u3092\u5f15\u304d\u8d77\u3053\u3057\u307e\u3059\u3002 <code>nox</code> \u3067\u306f\u3001<code>noxfile.py</code> \u306b\u6b21\u306e\u884c\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u3067\u3053\u308c\u3092\u56de\u907f\u3067\u304d\u307e\u3059\u3002</p> <pre><code>os.environ.pop(\"PYTHONPATH\", None)\n</code></pre> <p><code>tox</code> \u3067\u306f\u3001<code>PYTHONPATH</code> \u306f\u30c6\u30b9\u30c8\u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u6e21\u3055\u308c\u306a\u3044\u305f\u3081\u3001\u3053\u308c\u306f\u554f\u984c\u306b\u306a\u308a\u307e\u305b\u3093\u3002\u3055\u3089\u306b\u3001<code>nox</code> \u3068 <code>tox</code> \u3092\u305d\u308c\u305e\u308c\u306e pipx \u74b0\u5883\u306b\u914d\u7f6e\u3057\u3066\u3001\u3059\u3079\u3066\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u306a\u3044\u3088\u3046\u306b\u3059\u308b\u3053\u3068\u3092\u304a\u52e7\u3081\u3057\u307e\u3059\u3002\u3053\u306e\u5834\u5408\u3001PEP 582 \u30d1\u30c3\u30b1\u30fc\u30b8\u3082\u554f\u984c\u306b\u306a\u308a\u307e\u305b\u3093\u3002</p>"},{"location":"usage/advanced/#pdm","title":"\u7d99\u7d9a\u7684\u30a4\u30f3\u30c6\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3067 PDM \u3092\u4f7f\u7528\u3059\u308b","text":"<p>\u899a\u3048\u3066\u304a\u304f\u3079\u304d\u3053\u3068\u306f\u4e00\u3064\u3060\u3051\u3067\u3059 -- PDM \u306f Python &lt; 3.7 \u3067\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u306a\u3044\u305f\u3081\u3001\u3053\u308c\u3089\u306e Python \u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u30c6\u30b9\u30c8\u3059\u308b\u5834\u5408\u306f\u3001\u7279\u5b9a\u306e\u30b8\u30e7\u30d6/\u30bf\u30b9\u30af\u304c\u5b9f\u884c\u3055\u308c\u308b\u30bf\u30fc\u30b2\u30c3\u30c8 Python \u30d0\u30fc\u30b8\u30e7\u30f3\u3068\u306f\u7570\u306a\u308b Python \u30d0\u30fc\u30b8\u30e7\u30f3\u3067 PDM \u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>\u5e78\u3044\u306a\u3053\u3068\u306b\u3001GitHub Action \u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u3001\u3053\u308c\u3092\u7c21\u5358\u306b\u3059\u308b\u305f\u3081\u306e pdm-project/setup-pdm \u304c\u3042\u308a\u307e\u3059\u3002 \u4ee5\u4e0b\u306f GitHub Actions \u306e\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u306e\u4f8b\u3067\u3059\u304c\u3001\u4ed6\u306e CI \u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u306b\u9069\u5fdc\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>Testing:\n  runs-on: ${{ matrix.os }}\n  strategy:\n    matrix:\n      python-version: [3.7, 3.8, 3.9, '3.10', '3.11']\n      os: [ubuntu-latest, macOS-latest, windows-latest]\n\n  steps:\n    - uses: actions/checkout@v4\n    - name: Set up PDM\n      uses: pdm-project/setup-pdm@v4\n      with:\n        python-version: ${{ matrix.python-version }}\n\n    - name: Install dependencies\n      run: |\n        pdm sync -d -G testing\n    - name: Run Tests\n      run: |\n        pdm run -v pytest tests\n</code></pre> <p>TIPS</p> <p>GitHub Action \u30e6\u30fc\u30b6\u30fc\u5411\u3051\u306b\u3001Ubuntu \u4eee\u60f3\u74b0\u5883\u3067\u306e\u65e2\u77e5\u306e\u4e92\u63db\u6027\u306e\u554f\u984c\u304c\u3042\u308a\u307e\u3059\u3002 PDM \u306e\u4e26\u5217\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u305d\u306e\u30de\u30b7\u30f3\u3067\u5931\u6557\u3057\u305f\u5834\u5408\u3001<code>parallel_install</code> \u3092 <code>false</code> \u306b\u8a2d\u5b9a\u3059\u308b\u304b\u3001<code>LD_PRELOAD=/lib/x86_64-linux-gnu/libgcc_s.so.1</code> \u74b0\u5883\u5909\u6570\u3092\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u3053\u308c\u306f <code>pdm-project/setup-pdm</code> \u30a2\u30af\u30b7\u30e7\u30f3\u306b\u3088\u3063\u3066\u65e2\u306b\u51e6\u7406\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p> <p>Note</p> <p>CI \u30b9\u30af\u30ea\u30d7\u30c8\u304c\u9069\u5207\u306a\u30e6\u30fc\u30b6\u30fc\u8a2d\u5b9a\u306a\u3057\u3067\u5b9f\u884c\u3055\u308c\u308b\u5834\u5408\u3001PDM \u304c\u30ad\u30e3\u30c3\u30b7\u30e5\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3088\u3046\u3068\u3059\u308b\u3068\u304d\u306b\u6a29\u9650\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002 \u3053\u308c\u3092\u56de\u907f\u3059\u308b\u306b\u306f\u3001\u66f8\u304d\u8fbc\u307f\u53ef\u80fd\u306a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b HOME \u74b0\u5883\u5909\u6570\u3092\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002\u4f8b\u3048\u3070\uff1a</p> <pre><code>export HOME=/tmp/home\n</code></pre>"},{"location":"usage/advanced/#dockerfile-pdm","title":"\u30de\u30eb\u30c1\u30b9\u30c6\u30fc\u30b8 Dockerfile \u3067 PDM \u3092\u4f7f\u7528\u3059\u308b","text":"<p>PDM \u3092\u30de\u30eb\u30c1\u30b9\u30c6\u30fc\u30b8 Dockerfile \u3067\u4f7f\u7528\u3057\u3066\u3001\u6700\u521d\u306b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3068\u4f9d\u5b58\u95a2\u4fc2\u3092 <code>__pypackages__</code> \u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3001\u6b21\u306b\u3053\u306e\u30d5\u30a9\u30eb\u30c0\u30fc\u3092\u6700\u7d42\u30b9\u30c6\u30fc\u30b8\u306b\u30b3\u30d4\u30fc\u3057\u3001<code>PYTHONPATH</code> \u306b\u8ffd\u52a0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>ARG PYTHON_BASE=3.10-slim\n# build stage\nFROM python:$PYTHON_BASE AS builder\n\n# install PDM\nRUN pip install -U pdm\n# disable update check\nENV PDM_CHECK_UPDATE=false\n# copy files\nCOPY pyproject.toml pdm.lock README.md /project/\nCOPY src/ /project/src\n\n# install dependencies and project into the local packages directory\nWORKDIR /project\nRUN pdm install --check --prod --no-editable\n\n# run stage\nFROM python:$PYTHON_BASE\n\n# retrieve packages from build stage\nCOPY --from=builder /project/.venv/ /project/.venv\nENV PATH=\"/project/.venv/bin:$PATH\"\n# set command/entrypoint, adapt to fit your needs\nCOPY src /project/src\nCMD [\"python\", \"src/__main__.py\"]\n</code></pre>"},{"location":"usage/advanced/#pdm_1","title":"\u30e2\u30ce\u30ec\u30dd\u3092\u7ba1\u7406\u3059\u308b\u305f\u3081\u306b PDM \u3092\u4f7f\u7528\u3059\u308b","text":"<p>PDM \u3092\u4f7f\u7528\u3059\u308b\u3068\u3001\u5358\u4e00\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u5185\u306b\u8907\u6570\u306e\u30b5\u30d6\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u6301\u3064\u3053\u3068\u304c\u3067\u304d\u3001\u305d\u308c\u305e\u308c\u306b\u72ec\u81ea\u306e <code>pyproject.toml</code> \u30d5\u30a1\u30a4\u30eb\u3092\u6301\u3064\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u3059\u3079\u3066\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u30ed\u30c3\u30af\u3059\u308b\u305f\u3081\u306b 1 \u3064\u306e <code>pdm.lock</code> \u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\u3060\u3051\u3067\u3059\u3002\u30b5\u30d6\u30d1\u30c3\u30b1\u30fc\u30b8\u306f\u304a\u4e92\u3044\u3092\u4f9d\u5b58\u95a2\u4fc2\u3068\u3057\u3066\u6301\u3064\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u3092\u5b9f\u73fe\u3059\u308b\u305f\u3081\u306e\u624b\u9806\u306f\u6b21\u306e\u3068\u304a\u308a\u3067\u3059\u3002</p> <p><code>project/pyproject.toml</code>:</p> <pre><code>[tool.pdm.dev-dependencies]\ndev = [\n    \"-e file:///${PROJECT_ROOT}/packages/foo-core\",\n    \"-e file:///${PROJECT_ROOT}/packages/foo-cli\",\n    \"-e file:///${PROJECT_ROOT}/packages/foo-app\",\n]\n</code></pre> <p><code>packages/foo-cli/pyproject.toml</code>:</p> <pre><code>[project]\ndependencies = [\"foo-core\"]\n</code></pre> <p><code>packages/foo-app/pyproject.toml</code>:</p> <pre><code>[project]\ndependencies = [\"foo-core\"]\n</code></pre> <p>\u6b21\u306b\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30eb\u30fc\u30c8\u3067 <code>pdm install</code> \u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u3059\u3079\u3066\u306e\u4f9d\u5b58\u95a2\u4fc2\u304c\u30ed\u30c3\u30af\u3055\u308c\u305f <code>pdm.lock</code> \u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\u3059\u3079\u3066\u306e\u30b5\u30d6\u30d1\u30c3\u30b1\u30fc\u30b8\u306f\u7de8\u96c6\u53ef\u80fd\u30e2\u30fc\u30c9\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3059\u3002</p> <p>\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3001\ud83d\ude80 \u4f8b\u306e\u30ea\u30dd\u30b8\u30c8\u30ea \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"usage/advanced/#pre-commit","title":"<code>pre-commit</code> \u306e\u30d5\u30c3\u30af","text":"<p><code>pre-commit</code> \u306f\u3001git \u30d5\u30c3\u30af\u3092\u96c6\u4e2d\u7ba1\u7406\u3059\u308b\u305f\u3081\u306e\u5f37\u529b\u306a\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3059\u3002PDM \u306f\u3059\u3067\u306b\u5185\u90e8 QA \u30c1\u30a7\u30c3\u30af\u306e\u305f\u3081\u306b <code>pre-commit</code> \u30d5\u30c3\u30af \u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002PDM \u306f\u30ed\u30fc\u30ab\u30eb\u307e\u305f\u306f CI \u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3067\u5b9f\u884c\u3067\u304d\u308b\u3044\u304f\u3064\u304b\u306e\u30d5\u30c3\u30af\u3082\u516c\u958b\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"usage/advanced/#requirementstxt","title":"<code>requirements.txt</code> \u3092\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3059\u308b","text":"<p>\u3053\u306e\u30d5\u30c3\u30af\u306f\u3001<code>pdm export</code> \u30b3\u30de\u30f3\u30c9\u3068\u4efb\u610f\u306e\u6709\u52b9\u306a\u5f15\u6570\u3092\u30e9\u30c3\u30d7\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u3001<code>pdm lock</code> \u306e\u5b9f\u969b\u306e\u5185\u5bb9\u3092\u53cd\u6620\u3059\u308b <code>requirements.txt</code> \u3092\u30b3\u30fc\u30c9\u30d9\u30fc\u30b9\u306b\u30c1\u30a7\u30c3\u30af\u30a4\u30f3\u3059\u308b\u3053\u3068\u3092\u4fdd\u8a3c\u3059\u308b\u305f\u3081\u306e\u30d5\u30c3\u30af\uff08\u4f8b\uff1aCI\uff09\u3068\u3057\u3066\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002</p> <pre><code># export python requirements\n- repo: https://github.com/pdm-project/pdm\n  rev: 2.x.y # a PDM release exposing the hook\n  hooks:\n    - id: pdm-export\n      # command arguments, e.g.:\n      args: ['-o', 'requirements.txt', '--without-hashes']\n      files: ^pdm.lock$\n</code></pre>"},{"location":"usage/advanced/#pdmlock-pyprojecttoml","title":"<code>pdm.lock</code> \u304c pyproject.toml \u3068\u4e00\u81f4\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b","text":"<p>\u3053\u306e\u30d5\u30c3\u30af\u306f\u3001<code>pdm lock --check</code> \u30b3\u30de\u30f3\u30c9\u3068\u4efb\u610f\u306e\u6709\u52b9\u306a\u5f15\u6570\u3092\u30e9\u30c3\u30d7\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u3001<code>pyproject.toml</code> \u306b\u4f9d\u5b58\u95a2\u4fc2\u304c\u8ffd\u52a0/\u5909\u66f4/\u524a\u9664\u3055\u308c\u305f\u5834\u5408\u306b <code>pdm.lock</code> \u3082\u6700\u65b0\u3067\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u305f\u3081\u306e\u30d5\u30c3\u30af\uff08\u4f8b\uff1aCI\uff09\u3068\u3057\u3066\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002</p> <pre><code>- repo: https://github.com/pdm-project/pdm\n  rev: 2.x.y # a PDM release exposing the hook\n  hooks:\n    - id: pdm-lock-check\n</code></pre>"},{"location":"usage/advanced/#pdmlock","title":"\u73fe\u5728\u306e\u4f5c\u696d\u30bb\u30c3\u30c8\u3092 <code>pdm.lock</code> \u3068\u540c\u671f\u3059\u308b","text":"<p>\u3053\u306e\u30d5\u30c3\u30af\u306f\u3001\u4efb\u610f\u306e\u6709\u52b9\u306a\u5f15\u6570\u3068\u3068\u3082\u306b <code>pdm sync</code> \u30b3\u30de\u30f3\u30c9\u3092\u30e9\u30c3\u30d7\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u30d6\u30e9\u30f3\u30c1\u3092\u30c1\u30a7\u30c3\u30af\u30a2\u30a6\u30c8\u307e\u305f\u306f\u30de\u30fc\u30b8\u3059\u308b\u305f\u3073\u306b\u73fe\u5728\u306e\u4f5c\u696d\u30bb\u30c3\u30c8\u304c <code>pdm.lock</code> \u3068\u540c\u671f\u3055\u308c\u308b\u3053\u3068\u3092\u4fdd\u8a3c\u3059\u308b\u305f\u3081\u306e\u30d5\u30c3\u30af\u3068\u3057\u3066\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002\u30b7\u30b9\u30c6\u30e0\u306e\u8cc7\u683c\u60c5\u5831\u30b9\u30c8\u30a2\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u306f\u3001keyring \u3092 <code>additional_dependencies</code> \u306b\u8ffd\u52a0\u3057\u307e\u3059\u3002</p> <pre><code>- repo: https://github.com/pdm-project/pdm\n  rev: 2.x.y # a PDM release exposing the hook\n  hooks:\n    - id: pdm-sync\n      additional_dependencies:\n        - keyring\n</code></pre>"},{"location":"usage/config/","title":"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u69cb\u6210\u3059\u308b","text":"<p>PDM \u306e <code>config</code> \u30b3\u30de\u30f3\u30c9\u306f <code>git config</code> \u3068\u540c\u69d8\u306b\u6a5f\u80fd\u3057\u307e\u3059\u304c\u3001\u69cb\u6210\u3092\u8868\u793a\u3059\u308b\u305f\u3081\u306b <code>--list</code> \u306f\u5fc5\u8981\u3042\u308a\u307e\u305b\u3093\u3002</p> <p>\u73fe\u5728\u306e\u69cb\u6210\u3092\u8868\u793a\u3057\u307e\u3059:</p> <pre><code>pdm config\n</code></pre> <p>\u5358\u4e00\u306e\u69cb\u6210\u3092\u53d6\u5f97\u3057\u307e\u3059:</p> <pre><code>pdm config pypi.url\n</code></pre> <p>\u69cb\u6210\u5024\u3092\u5909\u66f4\u3057\u3001\u30db\u30fc\u30e0\u69cb\u6210\u306b\u4fdd\u5b58\u3057\u307e\u3059:</p> <pre><code>pdm config pypi.url \"https://test.pypi.org/simple\"\n</code></pre> <p>\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001\u69cb\u6210\u306f\u30b0\u30ed\u30fc\u30d0\u30eb\u306b\u5909\u66f4\u3055\u308c\u307e\u3059\u304c\u3001\u3053\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u306e\u307f\u69cb\u6210\u3092\u8868\u793a\u3059\u308b\u5834\u5408\u306f\u3001<code>--local</code> \u30d5\u30e9\u30b0\u3092\u8ffd\u52a0\u3057\u307e\u3059:</p> <pre><code>pdm config --local pypi.url \"https://test.pypi.org/simple\"\n</code></pre> <p>\u30ed\u30fc\u30ab\u30eb\u69cb\u6210\u306f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e <code>pdm.toml</code> \u306b\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"usage/config/#_2","title":"\u69cb\u6210\u30d5\u30a1\u30a4\u30eb","text":"<p>\u69cb\u6210\u30d5\u30a1\u30a4\u30eb\u306f\u6b21\u306e\u9806\u5e8f\u3067\u691c\u7d22\u3055\u308c\u307e\u3059:</p> <ol> <li><code>&lt;PROJECT_ROOT&gt;/pdm.toml</code> - \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u69cb\u6210</li> <li><code>&lt;CONFIG_ROOT&gt;/config.toml</code> - \u30db\u30fc\u30e0\u69cb\u6210</li> <li><code>&lt;SITE_CONFIG_ROOT&gt;/config.toml</code> - \u30b5\u30a4\u30c8\u69cb\u6210</li> </ol> <p><code>&lt;CONFIG_ROOT&gt;</code> \u306f\u6b21\u306e\u5834\u6240\u3067\u3059:</p> <ul> <li>Linux \u3067\u306f XDG Base Directory Specification \u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u3088\u3046\u306b <code>$XDG_CONFIG_HOME/pdm</code> (<code>\u307b\u3068\u3093\u3069\u306e\u5834\u5408 ~/.config/pdm</code>)</li> <li>macOS \u3067\u306f Apple File System Basics \u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u3088\u3046\u306b <code>~/Library/Application Support/pdm</code></li> <li>Windows \u3067\u306f Known folders \u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u3088\u3046\u306b <code>%USERPROFILE%\\AppData\\Local\\pdm</code></li> </ul> <p><code>&lt;SITE_CONFIG_ROOT&gt;</code> \u306f\u6b21\u306e\u5834\u6240\u3067\u3059:</p> <ul> <li>Linux \u3067\u306f XDG Base Directory Specification \u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u3088\u3046\u306b <code>$XDG_CONFIG_DIRS/pdm</code> (<code>\u307b\u3068\u3093\u3069\u306e\u5834\u5408 /etc/xdg/pdm</code>)</li> <li>macOS \u3067\u306f Apple File System Basics \u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u3088\u3046\u306b <code>/Library/Application Support/pdm</code></li> <li>Windows \u3067\u306f Known folders \u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u3088\u3046\u306b <code>C:\\ProgramData\\pdm\\pdm</code></li> </ul> <p><code>-g/--global</code> \u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u4f7f\u7528\u3055\u308c\u308b\u5834\u5408\u3001\u6700\u521d\u306e\u9805\u76ee\u306f <code>&lt;CONFIG_ROOT&gt;/global-project/pdm.toml</code> \u306b\u7f6e\u304d\u63db\u3048\u3089\u308c\u307e\u3059\u3002</p> <p>\u5229\u7528\u53ef\u80fd\u306a\u3059\u3079\u3066\u306e\u69cb\u6210\u9805\u76ee\u306f \u69cb\u6210\u30da\u30fc\u30b8 \u306b\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"usage/config/#python","title":"Python \u30d5\u30a1\u30a4\u30f3\u30c0\u30fc\u3092\u69cb\u6210\u3059\u308b","text":"<p>\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001PDM \u306f\u6b21\u306e\u30bd\u30fc\u30b9\u3067 Python \u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u30fc\u3092\u691c\u7d22\u3057\u307e\u3059:</p> <ul> <li><code>venv</code>: PDM \u4eee\u60f3\u74b0\u5883\u306e\u5834\u6240</li> <li><code>path</code>: <code>PATH</code> \u74b0\u5883\u5909\u6570</li> <li><code>pyenv</code>: pyenv \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30eb\u30fc\u30c8</li> <li><code>rye</code>: rye \u30c4\u30fc\u30eb\u30c1\u30a7\u30fc\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30eb\u30fc\u30c8</li> <li><code>asdf</code>: asdf python \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30eb\u30fc\u30c8</li> <li><code>winreg</code>: Windows \u30ec\u30b8\u30b9\u30c8\u30ea</li> </ul> <p>\u3044\u304f\u3064\u304b\u306e\u30bd\u30fc\u30b9\u3092\u9078\u629e\u89e3\u9664\u3057\u305f\u308a\u3001\u9806\u5e8f\u3092\u5909\u66f4\u3057\u305f\u308a\u3059\u308b\u306b\u306f\u3001<code>python.providers</code> \u69cb\u6210\u30ad\u30fc\u3092\u8a2d\u5b9a\u3057\u307e\u3059:</p> <pre><code>pdm config python.providers rye   # Rye \u30bd\u30fc\u30b9\u306e\u307f\npdm config python.providers pyenv,asdf  # pyenv \u3068 asdf\n</code></pre>"},{"location":"usage/config/#_3","title":"\u89e3\u6c7a\u7d50\u679c\u306b\u30d7\u30ec\u30ea\u30ea\u30fc\u30b9\u3092\u8a31\u53ef\u3059\u308b","text":"<p>\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001<code>pdm</code> \u306e\u4f9d\u5b58\u95a2\u4fc2\u89e3\u6c7a\u30c4\u30fc\u30eb\u306f\u3001\u4f9d\u5b58\u95a2\u4fc2\u306e\u6307\u5b9a\u3055\u308c\u305f\u30d0\u30fc\u30b8\u30e7\u30f3\u7bc4\u56f2\u306b\u5b89\u5b9a\u7248\u304c\u306a\u3044\u5834\u5408\u3092\u9664\u304d\u3001\u30d7\u30ec\u30ea\u30ea\u30fc\u30b9\u3092\u7121\u8996\u3057\u307e\u3059\u3002\u3053\u306e\u52d5\u4f5c\u306f <code>[tool.pdm.resolution]</code> \u30c6\u30fc\u30d6\u30eb\u3067 <code>allow-prereleases</code> \u3092 <code>true</code> \u306b\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067\u5909\u66f4\u3067\u304d\u307e\u3059:</p> <pre><code>[tool.pdm.resolution]\nallow-prereleases = true\n</code></pre>"},{"location":"usage/config/#_4","title":"\u30d1\u30c3\u30b1\u30fc\u30b8\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u69cb\u6210\u3059\u308b","text":"<p>PDM \u306b\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u898b\u3064\u3051\u308b\u5834\u6240\u3092\u6307\u5b9a\u3059\u308b\u306b\u306f\u3001<code>pyproject.toml</code> \u306b\u30bd\u30fc\u30b9\u3092\u8ffd\u52a0\u3059\u308b\u304b\u3001<code>pypi.*</code> \u69cb\u6210\u3092\u4ecb\u3057\u3066\u884c\u3044\u307e\u3059\u3002</p> <p><code>pyproject.toml</code> \u306b\u30bd\u30fc\u30b9\u3092\u8ffd\u52a0\u3057\u307e\u3059:</p> <pre><code>[[tool.pdm.source]]\nname = \"private\"\nurl = \"https://private.pypi.org/simple\"\nverify_ssl = true\n</code></pre> <p><code>pdm config</code> \u3092\u4ecb\u3057\u3066\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u5909\u66f4\u3057\u307e\u3059:</p> <pre><code>pdm config pypi.url \"https://test.pypi.org/simple\"\n</code></pre> <p><code>pdm config</code> \u3092\u4ecb\u3057\u3066\u8ffd\u52a0\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u8ffd\u52a0\u3057\u307e\u3059:</p> <pre><code>pdm config pypi.extra.url \"https://extra.pypi.org/simple\"\n</code></pre> <p>\u5229\u7528\u53ef\u80fd\u306a\u69cb\u6210\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u6b21\u306e\u3068\u304a\u308a\u3067\u3059:</p> <ul> <li><code>url</code>: \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e URL</li> <li><code>verify_ssl</code>: (\u30aa\u30d7\u30b7\u30e7\u30f3) SSL \u8a3c\u660e\u66f8\u3092\u691c\u8a3c\u3059\u308b\u304b\u3069\u3046\u304b\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u306f true</li> <li><code>username</code>: (\u30aa\u30d7\u30b7\u30e7\u30f3) \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u30e6\u30fc\u30b6\u30fc\u540d</li> <li><code>password</code>: (\u30aa\u30d7\u30b7\u30e7\u30f3) \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u30d1\u30b9\u30ef\u30fc\u30c9</li> <li><code>type</code>: (\u30aa\u30d7\u30b7\u30e7\u30f3) index \u307e\u305f\u306f find_links\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u306f index</li> </ul> \u30bd\u30fc\u30b9\u30bf\u30a4\u30d7\u306b\u3064\u3044\u3066 <p>\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001\u3059\u3079\u3066\u306e\u30bd\u30fc\u30b9\u306f pip \u306e <code>--index-url</code> \u304a\u3088\u3073 <code>--extra-index-url</code> \u306e\u3088\u3046\u306a PEP 503 \u30b9\u30bf\u30a4\u30eb\u306e \"\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\" \u3068\u898b\u306a\u3055\u308c\u307e\u3059\u304c\u3001\u30bf\u30a4\u30d7\u3092 <code>find_links</code> \u306b\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067\u3001\u30d5\u30a1\u30a4\u30eb\u3084\u30ea\u30f3\u30af\u3092\u76f4\u63a5\u691c\u7d22\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u30022 \u3064\u306e\u30bf\u30a4\u30d7\u306e\u9055\u3044\u306b\u3064\u3044\u3066\u306f \u3053\u306e\u56de\u7b54 \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>\u305f\u3068\u3048\u3070\u3001\u30ed\u30fc\u30ab\u30eb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u30bd\u30fc\u30b9\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u306b\u306f:</p> <pre><code>[[tool.pdm.source]]\nname = \"local\"\nurl = \"file:///${PROJECT_ROOT}/packages\"\ntype = \"find_links\"\n</code></pre> <p>\u3053\u308c\u3089\u306e\u69cb\u6210\u306f\u6b21\u306e\u9806\u5e8f\u3067\u8aad\u307f\u53d6\u3089\u308c\u3001\u6700\u7d42\u7684\u306a\u30bd\u30fc\u30b9\u30ea\u30b9\u30c8\u304c\u69cb\u7bc9\u3055\u308c\u307e\u3059:</p> <ul> <li><code>pypi.url</code>\u3001<code>pyproject.toml</code> \u306e <code>name</code> \u30d5\u30a3\u30fc\u30eb\u30c9\u306b <code>pypi</code> \u304c\u8868\u793a\u3055\u308c\u306a\u3044\u5834\u5408</li> <li><code>pyproject.toml</code> \u306e\u30bd\u30fc\u30b9</li> <li>PDM \u69cb\u6210\u306e <code>pypi.&lt;name&gt;.url</code></li> </ul> <p><code>pypi.ignore_stored_index</code> \u3092 <code>true</code> \u306b\u8a2d\u5b9a\u3057\u3066\u3001PDM \u69cb\u6210\u304b\u3089\u306e\u3059\u3079\u3066\u306e\u8ffd\u52a0\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u7121\u52b9\u306b\u3057\u3001<code>pyproject.toml</code> \u306b\u6307\u5b9a\u3055\u308c\u305f\u3082\u306e\u306e\u307f\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u30c7\u30d5\u30a9\u30eb\u30c8\u306e PyPI \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u7121\u52b9\u306b\u3059\u308b</p> <p>\u30c7\u30d5\u30a9\u30eb\u30c8\u306e PyPI \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u7701\u7565\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u30bd\u30fc\u30b9\u540d\u3092 <code>pypi</code> \u306b\u8a2d\u5b9a\u3059\u308b\u3060\u3051\u3067\u3001\u305d\u306e\u30bd\u30fc\u30b9\u304c \u7f6e\u304d\u63db\u3048 \u3089\u308c\u307e\u3059\u3002</p> <pre><code>[[tool.pdm.source]]\nurl = \"https://private.pypi.org/simple\"\nverify_ssl = true\nname = \"pypi\"\n</code></pre> pyproject.toml \u307e\u305f\u306f\u69cb\u6210\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9 <p>\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f7f\u7528\u3059\u308b\u4ed6\u306e\u4eba\u3068\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u5171\u6709\u3057\u305f\u3044\u5834\u5408\u306f\u3001<code>pyproject.toml</code> \u306b\u8ffd\u52a0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u305f\u3068\u3048\u3070\u3001\u3044\u304f\u3064\u304b\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u306f\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306b\u306e\u307f\u5b58\u5728\u3057\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u69cb\u6210\u3057\u306a\u3044\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u307e\u305b\u3093\u3002 \u305d\u308c\u4ee5\u5916\u306e\u5834\u5408\u306f\u3001\u4ed6\u306e\u4eba\u306b\u306f\u8868\u793a\u3055\u308c\u306a\u3044\u30ed\u30fc\u30ab\u30eb\u69cb\u6210\u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002</p>"},{"location":"usage/config/#_5","title":"\u30bd\u30fc\u30b9\u306e\u9806\u5e8f\u3092\u5c0a\u91cd\u3059\u308b","text":"<p>\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001\u3059\u3079\u3066\u306e\u30bd\u30fc\u30b9\u306f\u540c\u7b49\u3068\u898b\u306a\u3055\u308c\u3001\u30d1\u30c3\u30b1\u30fc\u30b8\u306f\u30d0\u30fc\u30b8\u30e7\u30f3\u3068\u30db\u30a4\u30fc\u30eb\u30bf\u30b0\u3067\u30bd\u30fc\u30c8\u3055\u308c\u3001\u6700\u3082\u4e00\u81f4\u3059\u308b\u3082\u306e\u304c\u9078\u629e\u3055\u308c\u307e\u3059\u3002</p> <p>\u5834\u5408\u306b\u3088\u3063\u3066\u306f\u3001\u512a\u5148\u30bd\u30fc\u30b9\u304b\u3089\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u8fd4\u3057\u3001\u4ed6\u306e\u30bd\u30fc\u30b9\u304b\u3089\u898b\u3064\u304b\u3089\u306a\u3044\u5834\u5408\u306b\u691c\u7d22\u3059\u308b\u3053\u3068\u3092\u671b\u3080\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002PDM \u306f <code>respect-source-order</code> \u69cb\u6210\u3092\u8aad\u307f\u53d6\u308b\u3053\u3068\u3067\u3053\u308c\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002\u305f\u3068\u3048\u3070:</p> <pre><code>[tool.pdm.resolution]\nrespect-source-order = true\n\n[[tool.pdm.source]]\nname = \"private\"\nurl = \"https://private.pypi.org/simple\"\n\n[[tool.pdm.source]]\nname = \"pypi\"\nurl = \"https://pypi.org/simple\"\n</code></pre> <p>\u30d1\u30c3\u30b1\u30fc\u30b8\u306f\u6700\u521d\u306b <code>private</code> \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304b\u3089\u691c\u7d22\u3055\u308c\u3001\u4e00\u81f4\u3059\u308b\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u898b\u3064\u304b\u3089\u306a\u3044\u5834\u5408\u306b\u306e\u307f\u3001<code>pypi</code> \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304b\u3089\u691c\u7d22\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"usage/config/#_6","title":"\u500b\u3005\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u6307\u5b9a\u3059\u308b","text":"<p><code>include_packages</code> \u304a\u3088\u3073 <code>exclude_packages</code> \u69cb\u6210\u3092\u4f7f\u7528\u3057\u3066\u3001\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u7279\u5b9a\u306e\u30bd\u30fc\u30b9\u306b\u30d0\u30a4\u30f3\u30c9\u3067\u304d\u307e\u3059\u3002</p> <pre><code>[[tool.pdm.source]]\nname = \"private\"\nurl = \"https://private.pypi.org/simple\"\ninclude_packages = [\"foo\", \"foo-*\"]\nexclude_packages = [\"bar-*\"]\n</code></pre> <p>\u4e0a\u8a18\u306e\u69cb\u6210\u3067\u306f\u3001<code>foo</code> \u307e\u305f\u306f <code>foo-*</code> \u306b\u4e00\u81f4\u3059\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u306f <code>private</code> \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304b\u3089\u306e\u307f\u691c\u7d22\u3055\u308c\u3001<code>bar-*</code> \u306b\u4e00\u81f4\u3059\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u306f <code>private</code> \u3092\u9664\u304f\u3059\u3079\u3066\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304b\u3089\u691c\u7d22\u3055\u308c\u307e\u3059\u3002</p> <p><code>include_packages</code> \u304a\u3088\u3073 <code>exclude_packages</code> \u306f\u3069\u3061\u3089\u3082\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u3042\u308a\u3001\u30b0\u30ed\u30d6\u30d1\u30bf\u30fc\u30f3\u306e\u30ea\u30b9\u30c8\u3092\u53d7\u3051\u5165\u308c\u3001\u30d1\u30bf\u30fc\u30f3\u304c\u4e00\u81f4\u3059\u308b\u5834\u5408\u306b <code>include_packages</code> \u304c\u6392\u4ed6\u7684\u306b\u9069\u7528\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"usage/config/#_7","title":"\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3068\u3068\u3082\u306b\u8cc7\u683c\u60c5\u5831\u3092\u4fdd\u5b58\u3059\u308b","text":"<p><code>${ENV_VAR}</code> \u5909\u6570\u5c55\u958b\u3092\u4f7f\u7528\u3057\u3066 URL \u306b\u8cc7\u683c\u60c5\u5831\u3092\u6307\u5b9a\u3067\u304d\u3001\u3053\u308c\u3089\u306e\u5909\u6570\u306f\u74b0\u5883\u5909\u6570\u304b\u3089\u8aad\u307f\u53d6\u3089\u308c\u307e\u3059:</p> <pre><code>[[tool.pdm.source]]\nname = \"private\"\nurl = \"https://${PRIVATE_PYPI_USERNAME}:${PRIVATE_PYPI_PASSWORD}@private.pypi.org/simple\"\n</code></pre>"},{"location":"usage/config/#https","title":"HTTPS \u8a3c\u660e\u66f8\u3092\u69cb\u6210\u3059\u308b","text":"<p>HTTPS \u30ea\u30af\u30a8\u30b9\u30c8\u7528\u306b\u30ab\u30b9\u30bf\u30e0 CA \u30d0\u30f3\u30c9\u30eb\u307e\u305f\u306f\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\uff08\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u7528\uff09\u3068\u30ea\u30dd\u30b8\u30c8\u30ea\uff08\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u7528\uff09\u306e\u4e21\u65b9\u306b\u69cb\u6210\u3067\u304d\u307e\u3059:</p> <pre><code>pdm config pypi.ca_certs /path/to/ca_bundle.pem\npdm config repository.pypi.ca_certs /path/to/ca_bundle.pem\n</code></pre> <p>\u3055\u3089\u306b\u3001\u6a19\u6e96\u306e certifi \u8a3c\u660e\u66f8\u306e\u4ee3\u308f\u308a\u306b\u30b7\u30b9\u30c6\u30e0\u306e\u4fe1\u983c\u30b9\u30c8\u30a2\u3092\u4f7f\u7528\u3057\u3066 HTTPS \u8a3c\u660e\u66f8\u3092\u691c\u8a3c\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002\u3053\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u306f\u3001\u8ffd\u52a0\u306e\u69cb\u6210\u306a\u3057\u3067\u4f01\u696d\u30d7\u30ed\u30ad\u30b7\u8a3c\u660e\u66f8\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u3053\u3068\u304c\u4e00\u822c\u7684\u3067\u3059\u3002</p> <p><code>truststore</code> \u3092\u4f7f\u7528\u3059\u308b\u306b\u306f\u3001Python 3.10 \u4ee5\u964d\u304c\u5fc5\u8981\u3067\u3042\u308a\u3001<code>truststore</code> \u3092 PDM \u3068\u540c\u3058\u74b0\u5883\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059:</p> <pre><code>pdm self add truststore\n</code></pre> <p>\u3055\u3089\u306b\u3001<code>REQUESTS_CA_BUNDLE</code> \u304a\u3088\u3073 <code>CURL_CA_BUNDLE</code> \u74b0\u5883\u5909\u6570\u3067\u6307\u5b9a\u3055\u308c\u305f CA \u8a3c\u660e\u66f8\u3082\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"usage/config/#_8","title":"\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u69cb\u6210\u306e\u30de\u30fc\u30b8","text":"<p>\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u69cb\u6210\u306f <code>[[tool.pdm.source]]</code> \u30c6\u30fc\u30d6\u30eb\u306e <code>name</code> \u30d5\u30a3\u30fc\u30eb\u30c9\u307e\u305f\u306f\u69cb\u6210\u30d5\u30a1\u30a4\u30eb\u306e <code>pypi.&lt;name&gt;</code> \u30ad\u30fc\u3067\u30de\u30fc\u30b8\u3055\u308c\u307e\u3059\u3002 \u3053\u308c\u306b\u3088\u308a\u3001URL \u3068\u8cc7\u683c\u60c5\u5831\u3092\u5225\u3005\u306b\u4fdd\u5b58\u3057\u3066\u3001\u30bd\u30fc\u30b9\u7ba1\u7406\u3067\u79d8\u5bc6\u304c\u516c\u958b\u3055\u308c\u306a\u3044\u3088\u3046\u306b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u305f\u3068\u3048\u3070\u3001\u6b21\u306e\u69cb\u6210\u304c\u3042\u308b\u5834\u5408:</p> <pre><code>[[tool.pdm.source]]\nname = \"private\"\nurl = \"https://private.pypi.org/simple\"\n</code></pre> <p>\u69cb\u6210\u30d5\u30a1\u30a4\u30eb\u306b\u8cc7\u683c\u60c5\u5831\u3092\u4fdd\u5b58\u3067\u304d\u307e\u3059:</p> <pre><code>pdm config pypi.private.username \"foo\"\npdm config pypi.private.password \"bar\"\n</code></pre> <p>PDM \u306f <code>private</code> \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u69cb\u6210\u3092\u4e21\u65b9\u306e\u5834\u6240\u304b\u3089\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002</p> <p>\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306b\u30e6\u30fc\u30b6\u30fc\u540d\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u5fc5\u8981\u3067\u3059\u304c\u3001\u74b0\u5883\u5909\u6570\u3084\u69cb\u6210\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u898b\u3064\u304b\u3089\u306a\u3044\u5834\u5408\u3001PDM \u306f\u5165\u529b\u3092\u6c42\u3081\u307e\u3059\u3002\u307e\u305f\u3001<code>keyring</code> \u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u8cc7\u683c\u60c5\u5831\u30b9\u30c8\u30a2\u3068\u3057\u3066\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002PDM \u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305f\u30d1\u30c3\u30b1\u30fc\u30b8\u307e\u305f\u306f CLI \u304b\u3089\u306e <code>keyring</code> \u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"usage/config/#_9","title":"\u4e2d\u592e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30ad\u30e3\u30c3\u30b7\u30e5","text":"<p>\u30b7\u30b9\u30c6\u30e0\u4e0a\u306e\u591a\u304f\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u5fc5\u8981\u306a\u5834\u5408\u3001\u5404\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306f\u72ec\u81ea\u306e\u30b3\u30d4\u30fc\u3092\u4fdd\u6301\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u7279\u306b\u30c7\u30fc\u30bf\u30b5\u30a4\u30a8\u30f3\u30b9\u3084\u6a5f\u68b0\u5b66\u7fd2\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u306f\u3001\u30c7\u30a3\u30b9\u30af\u30b9\u30da\u30fc\u30b9\u306e\u7121\u99c4\u306b\u306a\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>PDM \u306f\u3001\u4e2d\u592e\u30d1\u30c3\u30b1\u30fc\u30b8\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3001\u7570\u306a\u308b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u305d\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u30ea\u30f3\u30af\u3059\u308b\u3053\u3068\u306b\u3088\u308a\u3001\u540c\u3058\u30db\u30a4\u30fc\u30eb\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u30ad\u30e3\u30c3\u30b7\u30e5\u3059\u308b\u3053\u3068\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002\u6709\u52b9\u306b\u3059\u308b\u306b\u306f\u3001\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059:</p> <pre><code>pdm config install.cache on\n</code></pre> <p>\u30b3\u30de\u30f3\u30c9\u306b <code>--local</code> \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u3067\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3054\u3068\u306b\u6709\u52b9\u306b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u30ad\u30e3\u30c3\u30b7\u30e5\u306f <code>$(pdm config cache_dir)/packages</code> \u306b\u3042\u308a\u307e\u3059\u3002<code>pdm cache info</code> \u3092\u4f7f\u7528\u3057\u3066\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u4f7f\u7528\u72b6\u6cc1\u3092\u8868\u793a\u3067\u304d\u307e\u3059\u3002\u30ad\u30e3\u30c3\u30b7\u30e5\u3055\u308c\u305f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u81ea\u52d5\u7684\u306b\u7ba1\u7406\u3055\u308c\u308b\u305f\u3081\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u30ea\u30f3\u30af\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u524a\u9664\u3055\u308c\u308b\u3053\u3068\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u30c7\u30a3\u30b9\u30af\u304b\u3089\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u624b\u52d5\u3067\u524a\u9664\u3059\u308b\u3068\u3001\u30b7\u30b9\u30c6\u30e0\u4e0a\u306e\u4e00\u90e8\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c\u58ca\u308c\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>\u3055\u3089\u306b\u3001\u3044\u304f\u3064\u304b\u306e\u7570\u306a\u308b\u30ea\u30f3\u30af\u65b9\u6cd5\u304c\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u3059:</p> <ul> <li><code>symlink</code>\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\uff09\u3001\u30d1\u30c3\u30b1\u30fc\u30b8\u30d5\u30a1\u30a4\u30eb\u3078\u306e\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002</li> <li><code>hardlink</code>\u3001\u30ad\u30e3\u30c3\u30b7\u30e5\u30a8\u30f3\u30c8\u30ea\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u30d5\u30a1\u30a4\u30eb\u3078\u306e\u30cf\u30fc\u30c9\u30ea\u30f3\u30af\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002</li> </ul> <p>\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u3001\u30ea\u30f3\u30af\u65b9\u6cd5\u3092\u5207\u308a\u66ff\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059: <code>pdm config [--local] install.cache_method &lt;method&gt;</code>\u3002</p> <p>Note</p> <p>\u30d1\u30c3\u30b1\u30fc\u30b8\u30bd\u30fc\u30b9\u306e\u3044\u305a\u308c\u304b\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305f\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u307f\u304c\u30ad\u30e3\u30c3\u30b7\u30e5\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"usage/config/#_10","title":"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u7528\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u69cb\u6210\u3059\u308b","text":"<p><code>pdm publish</code> \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u3001\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u79d8\u5bc6\u306f \u30b0\u30ed\u30fc\u30d0\u30eb \u69cb\u6210\u30d5\u30a1\u30a4\u30eb (<code>&lt;CONFIG_ROOT&gt;/config.toml</code>) \u304b\u3089\u8aad\u307f\u53d6\u3089\u308c\u307e\u3059\u3002\u69cb\u6210\u30d5\u30a1\u30a4\u30eb\u306e\u5185\u5bb9\u306f\u6b21\u306e\u3068\u304a\u308a\u3067\u3059:</p> <pre><code>[repository.pypi]\nusername = \"frostming\"\npassword = \"&lt;secret&gt;\"\n\n[repository.company]\nurl = \"https://pypi.company.org/legacy/\"\nusername = \"frostming\"\npassword = \"&lt;secret&gt;\"\nca_certs = \"/path/to/custom-cacerts.pem\"\n</code></pre> <p>\u307e\u305f\u306f\u3001\u3053\u308c\u3089\u306e\u8cc7\u683c\u60c5\u5831\u3092\u74b0\u5883\u5909\u6570\u3067\u63d0\u4f9b\u3067\u304d\u307e\u3059:</p> <pre><code>export PDM_PUBLISH_REPO=...\nexport PDM_PUBLISH_USERNAME=...\nexport PDM_PUBLISH_PASSWORD=...\nexport PDM_PUBLISH_CA_CERTS=...\n</code></pre> <p>PEM \u30a8\u30f3\u30b3\u30fc\u30c9\u3055\u308c\u305f\u8a3c\u660e\u66f8\u8a8d\u8a3c\u5c40\u30d0\u30f3\u30c9\u30eb (<code>ca_certs</code>) \u306f\u3001\u30b5\u30fc\u30d0\u30fc\u8a3c\u660e\u66f8\u304c\u6a19\u6e96\u306e certifi CA \u30d0\u30f3\u30c9\u30eb\u306b\u3088\u3063\u3066\u7f72\u540d\u3055\u308c\u3066\u3044\u306a\u3044\u30ed\u30fc\u30ab\u30eb/\u30ab\u30b9\u30bf\u30e0 PyPI \u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002</p> <p>Note</p> <p>\u30ea\u30dd\u30b8\u30c8\u30ea\u306f\u524d\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3068\u306f\u7570\u306a\u308a\u307e\u3059\u3002\u30ea\u30dd\u30b8\u30c8\u30ea\u306f\u516c\u958b\u7528\u3067\u3042\u308a\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306f\u30ed\u30c3\u30af\u304a\u3088\u3073\u89e3\u6c7a\u7528\u3067\u3059\u3002\u3053\u308c\u3089\u306f\u69cb\u6210\u3092\u5171\u6709\u3057\u307e\u305b\u3093\u3002</p> <p>Tip</p> <p><code>pypi</code> \u304a\u3088\u3073 <code>testpypi</code> \u30ea\u30dd\u30b8\u30c8\u30ea\u306e <code>url</code> \u3092\u69cb\u6210\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u3067\u57cb\u3081\u3089\u308c\u307e\u3059\u3002 \u30e6\u30fc\u30b6\u30fc\u540d\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u3001\u304a\u3088\u3073\u8a3c\u660e\u66f8\u8a8d\u8a3c\u5c40\u30d0\u30f3\u30c9\u30eb\u306f\u3001\u305d\u308c\u305e\u308c <code>--username</code>\u3001<code>--password</code>\u3001\u304a\u3088\u3073 <code>--ca-certs</code> \u3092\u4ecb\u3057\u3066 <code>pdm publish</code> \u306e\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089\u30ea\u30dd\u30b8\u30c8\u30ea\u69cb\u6210\u3092\u5909\u66f4\u3059\u308b\u306b\u306f\u3001<code>pdm config</code> \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u307e\u3059:</p> <pre><code>pdm config repository.pypi.username \"__token__\"\npdm config repository.pypi.password \"my-pypi-token\"\n\npdm config repository.company.url \"https://pypi.company.org/legacy/\"\npdm config repository.company.ca_certs \"/path/to/custom-cacerts.pem\"\n</code></pre>"},{"location":"usage/config/#keyring","title":"keyring \u3092\u4f7f\u7528\u3057\u305f\u30d1\u30b9\u30ef\u30fc\u30c9\u7ba1\u7406","text":"<p>keyring \u304c\u5229\u7528\u53ef\u80fd\u3067\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u306f\u69cb\u6210\u30d5\u30a1\u30a4\u30eb\u306b\u66f8\u304d\u8fbc\u3080\u4ee3\u308f\u308a\u306b keyring \u306b\u4fdd\u5b58\u304a\u3088\u3073\u53d6\u5f97\u3055\u308c\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3068\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u4e21\u65b9\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002\u30b5\u30fc\u30d3\u30b9\u540d\u306f\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u5834\u5408\u306f <code>pdm-pypi-&lt;name&gt;</code>\u3001\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u5834\u5408\u306f <code>pdm-repository-&lt;name&gt;</code> \u306b\u306a\u308a\u307e\u3059\u3002</p> <p>keyring \u3092\u6709\u52b9\u306b\u3059\u308b\u306b\u306f\u3001PDM \u3068\u540c\u3058\u74b0\u5883\u306b <code>keyring</code> \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u304b\u3001\u30b0\u30ed\u30fc\u30d0\u30eb\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002PDM \u74b0\u5883\u306b keyring \u3092\u8ffd\u52a0\u3059\u308b\u306b\u306f:</p> <pre><code>pdm self add keyring\n</code></pre> <p>\u307e\u305f\u306f\u3001keyring \u3092\u30b0\u30ed\u30fc\u30d0\u30eb\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001CLI \u304c <code>PATH</code> \u74b0\u5883\u5909\u6570\u306b\u516c\u958b\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u3001PDM \u306b\u3088\u3063\u3066\u691c\u51fa\u53ef\u80fd\u306b\u3057\u307e\u3059:</p> <pre><code>export PATH=$PATH:path/to/keyring/bin\n</code></pre>"},{"location":"usage/config/#azure-artifacts-keyring","title":"Azure Artifacts \u7528\u306e keyring \u3092\u4f7f\u7528\u3057\u305f\u30d1\u30b9\u30ef\u30fc\u30c9\u7ba1\u7406","text":"<p>Azure Artifacts \u306b\u5bfe\u3057\u3066\u8a8d\u8a3c\u3092\u8a66\u307f\u308b\u5834\u5408\u3001AD \u30b0\u30eb\u30fc\u30d7\u3092\u4f7f\u7528\u3057\u3066\u8a8d\u8a3c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059: <code>pdm self add keyring artifacts-keyring</code> \u3092\u5b9f\u884c\u3057\u3066\u3001\u8a8d\u8a3c\u306b artifacts-keyring \u304c\u4f7f\u7528\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</p> <p>\u6b21\u306b\u3001\u30a2\u30fc\u30c6\u30a3\u30d5\u30a1\u30af\u30c8\u306e URL \u3092 <code>pyproject.toml</code> \u306b\u8ffd\u52a0\u3057\u307e\u3059</p> <pre><code>[[tool.pdm.source]]\nname = \"NameOfFeed\"\nurl = \"https://pkgs.dev.azure.com/[org name]/_packaging/[feed name]/pypi/simple/\"\n</code></pre>"},{"location":"usage/config/#_11","title":"\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u7279\u5b9a\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u305d\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u9664\u5916\u3059\u308b","text":"<p>Added in version 2.12.0</p> <p>\u30b3\u30fc\u30c9\u304c\u4f7f\u7528\u3057\u306a\u3044\u3053\u3068\u304c\u78ba\u5b9f\u306a\u7279\u5b9a\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u306b\u542b\u3081\u305f\u304f\u306a\u3044\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u5834\u5408\u3001\u4f9d\u5b58\u95a2\u4fc2\u306e\u89e3\u6c7a\u4e2d\u306b\u305d\u308c\u3089\u3092\u5b8c\u5168\u306b\u30b9\u30ad\u30c3\u30d7\u3067\u304d\u307e\u3059:</p> <pre><code>[tool.pdm.resolution]\nexcludes = [\"requests\"]\n</code></pre> <p>\u3053\u306e\u69cb\u6210\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001<code>requests</code> \u306f\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u306b\u30ed\u30c3\u30af\u3055\u308c\u305a\u3001\u4ed6\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u3088\u3063\u3066\u4f9d\u5b58\u3055\u308c\u3066\u3044\u306a\u3044\u9650\u308a\u3001\u305d\u306e\u4f9d\u5b58\u95a2\u4fc2\uff08<code>urllib3</code> \u3084 <code>idna</code> \u306a\u3069\uff09\u3082\u89e3\u6c7a\u7d50\u679c\u306b\u8868\u793a\u3055\u308c\u307e\u305b\u3093\u3002\u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u30fc\u306f\u305d\u308c\u3089\u3092\u30d4\u30c3\u30af\u30a2\u30c3\u30d7\u3067\u304d\u307e\u305b\u3093\u3002</p>"},{"location":"usage/config/#pdm","title":"\u3059\u3079\u3066\u306e pdm \u547c\u3073\u51fa\u3057\u306b\u5b9a\u6570\u5f15\u6570\u3092\u6e21\u3059","text":"<p>Added in version 2.7.0</p> <p>\u500b\u3005\u306e pdm \u30b3\u30de\u30f3\u30c9\u306b\u6e21\u3055\u308c\u308b\u8ffd\u52a0\u30aa\u30d7\u30b7\u30e7\u30f3\u3092 <code>tool.pdm.options</code> \u69cb\u6210\u3067\u8ffd\u52a0\u3067\u304d\u307e\u3059:</p> <pre><code>[tool.pdm.options]\nadd = [\"--no-isolation\", \"--no-self\"]\ninstall = [\"--no-self\"]\nlock = [\"--no-cross-platform\"]\n</code></pre> <p>\u3053\u308c\u3089\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u30b3\u30de\u30f3\u30c9\u540d\u306e\u76f4\u5f8c\u306b\u8ffd\u52a0\u3055\u308c\u307e\u3059\u3002\u305f\u3068\u3048\u3070\u3001\u4e0a\u8a18\u306e\u69cb\u6210\u306b\u57fa\u3065\u3044\u3066\u3001 <code>pdm add requests</code> \u306f <code>pdm add --no-isolation --no-self requests</code> \u3068\u540c\u7b49\u3067\u3059\u3002</p>"},{"location":"usage/config/#_12","title":"\u30d1\u30c3\u30b1\u30fc\u30b8\u8b66\u544a\u3092\u7121\u8996\u3059\u308b","text":"<p>Added in version 2.10.0</p> <p>\u4f9d\u5b58\u95a2\u4fc2\u3092\u89e3\u6c7a\u3059\u308b\u3068\u304d\u306b\u6b21\u306e\u3088\u3046\u306a\u8b66\u544a\u304c\u8868\u793a\u3055\u308c\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059:</p> <pre><code>PackageWarning: Skipping scipy@1.10.0 because it requires Python\n&lt;3.12,&gt;=3.8 but the project claims to work with Python&gt;=3.9.\nNarrow down the `requires-python` range to include this version. For example, \"&gt;=3.9,&lt;3.12\" should work.\n  warnings.warn(record.message, PackageWarning, stacklevel=1)\nUse `-q/--quiet` to suppress these warnings, or ignore them per-package with `ignore_package_warnings` config in [tool.pdm] table.\n</code></pre> <p>\u3053\u308c\u306f\u3001\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b Python \u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u7bc4\u56f2\u304c <code>pyproject.toml</code> \u306b\u6307\u5b9a\u3055\u308c\u305f <code>requires-python</code> \u5024\u3092\u30ab\u30d0\u30fc\u3057\u3066\u3044\u306a\u3044\u305f\u3081\u3067\u3059\u3002 \u3053\u308c\u3089\u306e\u8b66\u544a\u3092\u30d1\u30c3\u30b1\u30fc\u30b8\u3054\u3068\u306b\u7121\u8996\u3059\u308b\u306b\u306f\u3001\u6b21\u306e\u69cb\u6210\u3092\u8ffd\u52a0\u3057\u307e\u3059:</p> <pre><code>[tool.pdm]\nignore_package_warnings = [\"scipy\", \"tensorflow-*\"]\n</code></pre> <p>\u5404\u9805\u76ee\u306f\u30d1\u30c3\u30b1\u30fc\u30b8\u540d\u306b\u4e00\u81f4\u3059\u308b\u5927\u6587\u5b57\u5c0f\u6587\u5b57\u3092\u533a\u5225\u3057\u306a\u3044\u30b0\u30ed\u30d6\u30d1\u30bf\u30fc\u30f3\u3067\u3059\u3002</p>"},{"location":"usage/dependency/","title":"\u4f9d\u5b58\u95a2\u4fc2\u3092\u7ba1\u7406\u3059\u308b","text":"<p>PDM \u306f\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3068\u4f9d\u5b58\u95a2\u4fc2\u3092\u7ba1\u7406\u3059\u308b\u305f\u3081\u306e\u4fbf\u5229\u306a\u30b3\u30de\u30f3\u30c9\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002 \u4ee5\u4e0b\u306e\u4f8b\u306f Ubuntu 18.04 \u3067\u5b9f\u884c\u3055\u308c\u3066\u304a\u308a\u3001Windows \u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u3044\u304f\u3064\u304b\u306e\u5909\u66f4\u304c\u5fc5\u8981\u3067\u3059\u3002</p>"},{"location":"usage/dependency/#_2","title":"\u4f9d\u5b58\u95a2\u4fc2\u3092\u8ffd\u52a0\u3059\u308b","text":"<p><code>pdm add</code> \u306f\u30011 \u3064\u307e\u305f\u306f\u8907\u6570\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u3001\u4f9d\u5b58\u95a2\u4fc2\u306e\u6307\u5b9a\u306f PEP 508 \u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p> <p>\u4f8b:</p> <pre><code>pdm add requests   # requests \u3092\u8ffd\u52a0\npdm add requests==2.25.1   # \u30d0\u30fc\u30b8\u30e7\u30f3\u5236\u7d04\u4ed8\u304d\u3067 requests \u3092\u8ffd\u52a0\npdm add requests[socks]   # \u8ffd\u52a0\u306e\u4f9d\u5b58\u95a2\u4fc2\u4ed8\u304d\u3067 requests \u3092\u8ffd\u52a0\npdm add \"flask&gt;=1.0\" flask-sqlalchemy   # \u7570\u306a\u308b\u6307\u5b9a\u5b50\u3092\u6301\u3064\u8907\u6570\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u8ffd\u52a0\n</code></pre> <p>PDM \u306f\u3001<code>-G/--group &lt;name&gt;</code> \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u63d0\u4f9b\u3057\u3066\u3001\u8ffd\u52a0\u306e\u4f9d\u5b58\u95a2\u4fc2\u30b0\u30eb\u30fc\u30d7\u3092\u8a31\u53ef\u3057\u3001\u305d\u308c\u3089\u306e\u4f9d\u5b58\u95a2\u4fc2\u306f\u305d\u308c\u305e\u308c\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30d5\u30a1\u30a4\u30eb\u306e <code>[project.optional-dependencies.&lt;name&gt;]</code> \u30c6\u30fc\u30d6\u30eb\u306b\u79fb\u52d5\u3057\u307e\u3059\u3002</p> <p>\u4ed6\u306e\u30aa\u30d7\u30b7\u30e7\u30ca\u30eb\u30b0\u30eb\u30fc\u30d7\u3092 <code>optional-dependencies</code> \u3067\u53c2\u7167\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3055\u308c\u308b\u524d\u3067\u3082\u53ef\u80fd\u3067\u3059:</p> <pre><code>[project]\nname = \"foo\"\nversion = \"0.1.0\"\n\n[project.optional-dependencies]\nsocks = [\"pysocks\"]\njwt = [\"pyjwt\"]\nall = [\"foo[socks,jwt]\"]\n</code></pre> <p>\u305d\u306e\u5f8c\u3001\u4f9d\u5b58\u95a2\u4fc2\u3068\u30b5\u30d6\u4f9d\u5b58\u95a2\u4fc2\u304c\u9069\u5207\u306b\u89e3\u6c7a\u3055\u308c\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3059\u3002\u89e3\u6c7a\u3055\u308c\u305f\u3059\u3079\u3066\u306e\u4f9d\u5b58\u95a2\u4fc2\u306e\u7d50\u679c\u3092\u78ba\u8a8d\u3059\u308b\u306b\u306f\u3001<code>pdm.lock</code> \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"usage/dependency/#_3","title":"\u30ed\u30fc\u30ab\u30eb\u4f9d\u5b58\u95a2\u4fc2","text":"<p>\u30ed\u30fc\u30ab\u30eb\u30d1\u30c3\u30b1\u30fc\u30b8\u306f\u3001\u305d\u306e\u30d1\u30b9\u3092\u6307\u5b9a\u3057\u3066\u8ffd\u52a0\u3067\u304d\u307e\u3059\u3002\u30d1\u30b9\u306f\u30d5\u30a1\u30a4\u30eb\u307e\u305f\u306f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059:</p> <pre><code>pdm add ./sub-package\npdm add ./first-1.0.0-py2.py3-none-any.whl\n</code></pre> <p>\u30d1\u30b9\u306f <code>.</code> \u3067\u59cb\u307e\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u3046\u3067\u306a\u3044\u5834\u5408\u306f\u3001\u901a\u5e38\u306e\u540d\u524d\u4ed8\u304d\u8981\u4ef6\u3068\u3057\u3066\u8a8d\u8b58\u3055\u308c\u307e\u3059\u3002\u30ed\u30fc\u30ab\u30eb\u4f9d\u5b58\u95a2\u4fc2\u306f\u3001URL \u5f62\u5f0f\u3067 <code>pyproject.toml</code> \u30d5\u30a1\u30a4\u30eb\u306b\u66f8\u304d\u8fbc\u307e\u308c\u307e\u3059:</p> <pre><code>[project]\ndependencies = [\n    \"sub-package @ file:///${PROJECT_ROOT}/sub-package\",\n    \"first @ file:///${PROJECT_ROOT}/first-1.0.0-py2.py3-none-any.whl\",\n]\n</code></pre> \u4ed6\u306e\u30d3\u30eb\u30c9\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3092\u4f7f\u7528\u3059\u308b <p><code>hatchling</code> \u3092 pdm \u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306e\u4ee3\u308f\u308a\u306b\u4f7f\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u3001URL \u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059:</p> <p><pre><code>sub-package @ {root:uri}/sub-package\nfirst @ {root:uri}/first-1.0.0-py2.py3-none-any.whl\n</code></pre> \u4ed6\u306e\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306f\u3001URL \u5185\u306e\u76f8\u5bfe\u30d1\u30b9\u306e\u30a8\u30f3\u30b3\u30fc\u30c9\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u304a\u3089\u305a\u3001\u4ee3\u308f\u308a\u306b\u7d76\u5bfe\u30d1\u30b9\u3092\u66f8\u304d\u8fbc\u307f\u307e\u3059\u3002</p>"},{"location":"usage/dependency/#url","title":"URL \u4f9d\u5b58\u95a2\u4fc2","text":"<p>PDM \u306f\u3001Web \u30a2\u30c9\u30ec\u30b9\u304b\u3089\u76f4\u63a5\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3053\u3068\u3082\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002</p> <p>\u4f8b:</p> <pre><code># \u30d7\u30ec\u30fc\u30f3 URL \u304b\u3089 gzipped \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\npdm add \"https://github.com/numpy/numpy/releases/download/v1.20.0/numpy-1.20.0.tar.gz\"\n# \u30d7\u30ec\u30fc\u30f3 URL \u304b\u3089\u30db\u30a4\u30fc\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\npdm add \"https://github.com/explosion/spacy-models/releases/download/en_core_web_trf-3.5.0/en_core_web_trf-3.5.0-py3-none-any.whl\"\n</code></pre>"},{"location":"usage/dependency/#vcs","title":"VCS \u4f9d\u5b58\u95a2\u4fc2","text":"<p>Git \u30ea\u30dd\u30b8\u30c8\u30ea URL \u3084\u4ed6\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u7ba1\u7406\u30b7\u30b9\u30c6\u30e0\u304b\u3089\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u307e\u3059\u3002\u4ee5\u4e0b\u304c\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u3059:</p> <ul> <li>Git: <code>git</code></li> <li>Mercurial: <code>hg</code></li> <li>Subversion: <code>svn</code></li> <li>Bazaar: <code>bzr</code></li> </ul> <p>URL \u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059: <code>{vcs}+{url}@{rev}</code></p> <p>\u4f8b:</p> <pre><code># \u30bf\u30b0 `22.0` \u306e pip \u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\npdm add \"git+https://github.com/pypa/pip.git@22.0\"\n# URL \u306b\u8cc7\u683c\u60c5\u5831\u3092\u63d0\u4f9b\npdm add \"git+https://username:password@github.com/username/private-repo.git@master\"\n# \u4f9d\u5b58\u95a2\u4fc2\u306b\u540d\u524d\u3092\u4ed8\u3051\u308b\npdm add \"pip @ git+https://github.com/pypa/pip.git@22.0\"\n# \u307e\u305f\u306f #egg \u30d5\u30e9\u30b0\u30e1\u30f3\u30c8\u3092\u4f7f\u7528\npdm add \"git+https://github.com/pypa/pip.git@22.0#egg=pip\"\n# \u30b5\u30d6\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\npdm add \"git+https://github.com/owner/repo.git@master#egg=pkg&amp;subdirectory=subpackage\"\n</code></pre> <p>git \u306b\u5bfe\u3057\u3066 ssh \u30b9\u30ad\u30fc\u30e0\u3092\u4f7f\u7528\u3059\u308b\u306b\u306f\u3001<code>https://</code> \u3092 <code>ssh://git@</code> \u306b\u7f6e\u304d\u63db\u3048\u307e\u3059\u3002</p> <p>\u4f8b:</p> <pre><code>pdm add \"wheel @ git+ssh://git@github.com/pypa/wheel.git@main\"\n</code></pre>"},{"location":"usage/dependency/#url_1","title":"URL \u5185\u306e\u8cc7\u683c\u60c5\u5831\u3092\u96a0\u3059","text":"<p><code>${ENV_VAR}</code> \u5909\u6570\u69cb\u6587\u3092\u4f7f\u7528\u3057\u3066\u3001URL \u5185\u306e\u8cc7\u683c\u60c5\u5831\u3092\u96a0\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059:</p> <pre><code>[project]\ndependencies = [\n  \"mypackage @ git+http://${VCS_USER}:${VCS_PASSWD}@test.git.com/test/mypackage.git@master\"\n]\n</code></pre> <p>\u3053\u308c\u3089\u306e\u5909\u6570\u306f\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u969b\u306b\u74b0\u5883\u5909\u6570\u304b\u3089\u8aad\u307f\u53d6\u3089\u308c\u307e\u3059\u3002</p>"},{"location":"usage/dependency/#_4","title":"\u958b\u767a\u5c02\u7528\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u8ffd\u52a0\u3059\u308b","text":"<p>Added in version 1.5.0</p> <p>PDM \u306f\u3001\u30c6\u30b9\u30c8\u7528\u3084\u30ea\u30f3\u30c8\u7528\u306a\u3069\u3001\u958b\u767a\u306b\u5f79\u7acb\u3064\u4f9d\u5b58\u95a2\u4fc2\u306e\u30b0\u30eb\u30fc\u30d7\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u3082\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u4f9d\u5b58\u95a2\u4fc2\u306f\u3001\u914d\u5e03\u7269\u306e\u30e1\u30bf\u30c7\u30fc\u30bf\u306b\u8868\u793a\u3055\u308c\u308b\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093\u306e\u3067\u3001<code>optional-dependencies</code> \u3092\u4f7f\u7528\u3059\u308b\u306e\u306f\u304a\u305d\u3089\u304f\u826f\u3044\u30a2\u30a4\u30c7\u30a2\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u958b\u767a\u4f9d\u5b58\u95a2\u4fc2\u3068\u3057\u3066\u5b9a\u7fa9\u3067\u304d\u307e\u3059:</p> <pre><code>pdm add -dG test pytest\n</code></pre> <p>\u3053\u308c\u306b\u3088\u308a\u3001\u6b21\u306e\u3088\u3046\u306a <code>pyproject.toml</code> \u304c\u751f\u6210\u3055\u308c\u307e\u3059:</p> <pre><code>[tool.pdm.dev-dependencies]\ntest = [\"pytest\"]\n</code></pre> <p>\u958b\u767a\u5c02\u7528\u306e\u4f9d\u5b58\u95a2\u4fc2\u30b0\u30eb\u30fc\u30d7\u3092\u3044\u304f\u3064\u304b\u6301\u3064\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002<code>optional-dependencies</code> \u3068\u306f\u7570\u306a\u308a\u3001\u3053\u308c\u3089\u306f <code>PKG-INFO</code> \u3084 <code>METADATA</code> \u306a\u3069\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u914d\u5e03\u30e1\u30bf\u30c7\u30fc\u30bf\u306b\u306f\u8868\u793a\u3055\u308c\u307e\u305b\u3093\u3002 \u30d1\u30c3\u30b1\u30fc\u30b8\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306f\u3053\u308c\u3089\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u8a8d\u8b58\u3057\u307e\u305b\u3093\u3002\u30b9\u30ad\u30fc\u30de\u306f <code>optional-dependencies</code> \u3068\u4f3c\u3066\u3044\u307e\u3059\u304c\u3001<code>tool.pdm</code> \u30c6\u30fc\u30d6\u30eb\u306b\u3042\u308a\u307e\u3059\u3002</p> <pre><code>[tool.pdm.dev-dependencies]\nlint = [\n    \"flake8\",\n    \"black\"\n]\ntest = [\"pytest\", \"pytest-cov\"]\ndoc = [\"mkdocs\"]\n</code></pre> <p>\u5f8c\u65b9\u4e92\u63db\u6027\u306e\u305f\u3081\u306b\u3001<code>-d</code> \u307e\u305f\u306f <code>--dev</code> \u306e\u307f\u304c\u6307\u5b9a\u3055\u308c\u305f\u5834\u5408\u3001\u4f9d\u5b58\u95a2\u4fc2\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067 <code>[tool.pdm.dev-dependencies]</code> \u306e <code>dev</code> \u30b0\u30eb\u30fc\u30d7\u306b\u79fb\u52d5\u3057\u307e\u3059\u3002</p> <p>Note</p> <p>\u540c\u3058\u30b0\u30eb\u30fc\u30d7\u540d\u306f\u3001<code>[tool.pdm.dev-dependencies]</code> \u3068 <code>[project.optional-dependencies]</code> \u306e\u4e21\u65b9\u306b\u8868\u793a\u3055\u308c\u3066\u306f\u306a\u308a\u307e\u305b\u3093\u3002</p>"},{"location":"usage/dependency/#_5","title":"\u7de8\u96c6\u53ef\u80fd\u306a\u4f9d\u5b58\u95a2\u4fc2","text":"<p>\u30ed\u30fc\u30ab\u30eb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea \u304a\u3088\u3073 VCS \u4f9d\u5b58\u95a2\u4fc2 \u306f\u3001\u7de8\u96c6\u53ef\u80fd\u30e2\u30fc\u30c9 \u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u307e\u3059\u3002<code>pip install -e &lt;package&gt;</code> \u306e\u3088\u3046\u306b\u52d5\u4f5c\u3057\u307e\u3059\u3002\u7de8\u96c6\u53ef\u80fd\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u306f\u958b\u767a\u4f9d\u5b58\u95a2\u4fc2\u3067\u306e\u307f\u8a31\u53ef\u3055\u308c\u307e\u3059:</p> <p>Note</p> <p>\u7de8\u96c6\u53ef\u80fd\u306a\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u3001<code>dev</code> \u4f9d\u5b58\u95a2\u4fc2\u30b0\u30eb\u30fc\u30d7\u3067\u306e\u307f\u8a31\u53ef\u3055\u308c\u307e\u3059\u3002\u4ed6\u306e\u30b0\u30eb\u30fc\u30d7\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u3092\u542b\u3080\uff09\u306f <code>[PdmUsageError]</code> \u3067\u5931\u6557\u3057\u307e\u3059\u3002</p> <pre><code># \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3078\u306e\u76f8\u5bfe\u30d1\u30b9\npdm add -e ./sub-package --dev\n# \u30ed\u30fc\u30ab\u30eb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3078\u306e\u30d5\u30a1\u30a4\u30eb URL\npdm add -e file:///path/to/sub-package --dev\n# VCS URL\npdm add -e git+https://github.com/pallets/click.git@main#egg=click --dev\n</code></pre>"},{"location":"usage/dependency/#_6","title":"\u30d0\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a\u5b50\u3092\u4fdd\u5b58\u3059\u308b","text":"<p>\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u30d0\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a\u5b50\u306a\u3057\u3067\u6307\u5b9a\u3055\u308c\u305f\u5834\u5408\uff08\u4f8b: <code>pdm add requests</code>\uff09\u3002 PDM \u306f\u3001\u4f9d\u5b58\u95a2\u4fc2\u306b\u5bfe\u3057\u3066\u4fdd\u5b58\u3055\u308c\u308b\u30d0\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a\u5b50\u306e\u7570\u306a\u308b\u52d5\u4f5c\u3092 3 \u3064\u63d0\u4f9b\u3057\u307e\u3059\u3002 <code>--save-&lt;strategy&gt;</code> \u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u6307\u5b9a\u3057\u307e\u3059\uff08\u4f9d\u5b58\u95a2\u4fc2\u306e\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u304c <code>2.21.0</code> \u3067\u3042\u308b\u3068\u4eee\u5b9a\u3057\u307e\u3059\uff09:</p> <ul> <li><code>minimum</code>: \u6700\u5c0f\u30d0\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a\u5b50\u3092\u4fdd\u5b58\u3057\u307e\u3059: <code>&gt;=2.21.0</code>\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\uff09\u3002</li> <li><code>compatible</code>: \u4e92\u63db\u6027\u306e\u3042\u308b\u30d0\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a\u5b50\u3092\u4fdd\u5b58\u3057\u307e\u3059: <code>&gt;=2.21.0,&lt;3.0.0</code>\u3002</li> <li><code>exact</code>: \u6b63\u78ba\u306a\u30d0\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a\u5b50\u3092\u4fdd\u5b58\u3057\u307e\u3059: <code>==2.21.0</code>\u3002</li> <li><code>wildcard</code>: \u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u5236\u7d04\u305b\u305a\u3001\u6307\u5b9a\u5b50\u3092\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u306b\u3057\u307e\u3059: <code>*</code>\u3002</li> </ul>"},{"location":"usage/dependency/#_7","title":"\u30d7\u30ec\u30ea\u30ea\u30fc\u30b9\u3092\u8ffd\u52a0\u3059\u308b","text":"<p><code>pdm add</code> \u306b <code>--pre/--prerelease</code> \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001\u6307\u5b9a\u3055\u308c\u305f\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u5bfe\u3057\u3066\u30d7\u30ec\u30ea\u30ea\u30fc\u30b9\u304c\u8a31\u53ef\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"usage/dependency/#_8","title":"\u65e2\u5b58\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u66f4\u65b0\u3059\u308b","text":"<p>\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u5185\u306e\u3059\u3079\u3066\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u66f4\u65b0\u3059\u308b\u306b\u306f:</p> <pre><code>pdm update\n</code></pre> <p>\u6307\u5b9a\u3055\u308c\u305f\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u66f4\u65b0\u3059\u308b\u306b\u306f:</p> <pre><code>pdm update requests\n</code></pre> <p>\u8907\u6570\u306e\u4f9d\u5b58\u95a2\u4fc2\u30b0\u30eb\u30fc\u30d7\u3092\u66f4\u65b0\u3059\u308b\u306b\u306f:</p> <pre><code>pdm update -G security -G http\n</code></pre> <p>\u307e\u305f\u306f\u3001\u30ab\u30f3\u30de\u533a\u5207\u308a\u306e\u30ea\u30b9\u30c8\u3092\u4f7f\u7528\u3057\u307e\u3059:</p> <pre><code>pdm update -G \"security,http\"\n</code></pre> <p>\u6307\u5b9a\u3055\u308c\u305f\u30b0\u30eb\u30fc\u30d7\u5185\u306e\u7279\u5b9a\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u66f4\u65b0\u3059\u308b\u306b\u306f:</p> <pre><code>pdm update -G security cryptography\n</code></pre> <p>\u30b0\u30eb\u30fc\u30d7\u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u3001PDM \u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u4f9d\u5b58\u95a2\u4fc2\u30bb\u30c3\u30c8\u3067\u8981\u4ef6\u3092\u691c\u7d22\u3057\u3001\u898b\u3064\u304b\u3089\u306a\u3044\u5834\u5408\u306f\u30a8\u30e9\u30fc\u3092\u767a\u751f\u3055\u305b\u307e\u3059\u3002</p> <p>\u958b\u767a\u4f9d\u5b58\u95a2\u4fc2\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u66f4\u65b0\u3059\u308b\u306b\u306f:</p> <pre><code># \u3059\u3079\u3066\u306e\u30c7\u30d5\u30a9\u30eb\u30c8 + \u958b\u767a\u4f9d\u5b58\u95a2\u4fc2\u3092\u66f4\u65b0\npdm update -d\n# \u6307\u5b9a\u3055\u308c\u305f\u30b0\u30eb\u30fc\u30d7\u306e\u958b\u767a\u4f9d\u5b58\u95a2\u4fc2\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u66f4\u65b0\npdm update -dG test pytest\n</code></pre>"},{"location":"usage/dependency/#_9","title":"\u66f4\u65b0\u6226\u7565\u306b\u3064\u3044\u3066","text":"<p>\u540c\u69d8\u306b\u3001PDM \u306f\u4f9d\u5b58\u95a2\u4fc2\u3068\u30b5\u30d6\u4f9d\u5b58\u95a2\u4fc2\u306e\u66f4\u65b0\u306b\u5bfe\u3057\u3066 3 \u3064\u306e\u7570\u306a\u308b\u52d5\u4f5c\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002 <code>--update-&lt;strategy&gt;</code> \u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u6307\u5b9a\u3057\u307e\u3059:</p> <ul> <li><code>reuse</code>: \u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3067\u6307\u5b9a\u3055\u308c\u305f\u3082\u306e\u3092\u9664\u3044\u3066\u3001\u3059\u3079\u3066\u306e\u30ed\u30c3\u30af\u3055\u308c\u305f\u4f9d\u5b58\u95a2\u4fc2\u3092\u4fdd\u6301\u3057\u307e\u3059\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\uff09\u3002</li> <li><code>reuse-installed</code>: \u4f5c\u696d\u30bb\u30c3\u30c8\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u518d\u5229\u7528\u3057\u3088\u3046\u3068\u3057\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3067\u8981\u6c42\u3055\u308c\u305f\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u3082\u5f71\u97ff\u3057\u307e\u3059\u3002</li> <li><code>eager</code>: \u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3067\u6307\u5b9a\u3055\u308c\u305f\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u305d\u306e\u518d\u5e30\u7684\u306a\u30b5\u30d6\u4f9d\u5b58\u95a2\u4fc2\u306e\u65b0\u3057\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u30ed\u30c3\u30af\u3057\u3088\u3046\u3068\u3057\u3001\u4ed6\u306e\u4f9d\u5b58\u95a2\u4fc2\u306f\u305d\u306e\u307e\u307e\u306b\u3057\u307e\u3059\u3002</li> <li><code>all</code>: \u3059\u3079\u3066\u306e\u4f9d\u5b58\u95a2\u4fc2\u3068\u30b5\u30d6\u4f9d\u5b58\u95a2\u4fc2\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002</li> </ul>"},{"location":"usage/dependency/#_10","title":"\u30d0\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a\u5b50\u3092\u7834\u308b\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u66f4\u65b0\u3059\u308b","text":"<p><code>-u/--unconstrained</code> \u3092\u6307\u5b9a\u3059\u308b\u3068\u3001<code>pyproject.toml</code> \u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a\u5b50\u3092\u7121\u8996\u3059\u308b\u3088\u3046\u306b PDM \u306b\u6307\u793a\u3067\u304d\u307e\u3059\u3002 \u3053\u308c\u306f <code>yarn upgrade -L/--latest</code> \u30b3\u30de\u30f3\u30c9\u3068\u540c\u69d8\u306b\u52d5\u4f5c\u3057\u307e\u3059\u3002\u3055\u3089\u306b\u3001 <code>pdm update</code> \u306f <code>--pre/--prerelease</code> \u30aa\u30d7\u30b7\u30e7\u30f3\u3082\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"usage/dependency/#_11","title":"\u65e2\u5b58\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u524a\u9664\u3059\u308b","text":"<p>\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30d5\u30a1\u30a4\u30eb\u3068\u30e9\u30a4\u30d6\u30e9\u30ea\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304b\u3089\u65e2\u5b58\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u524a\u9664\u3059\u308b\u306b\u306f:</p> <pre><code># \u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u4f9d\u5b58\u95a2\u4fc2\u304b\u3089 requests \u3092\u524a\u9664\npdm remove requests\n# \u30aa\u30d7\u30b7\u30e7\u30ca\u30eb\u4f9d\u5b58\u95a2\u4fc2\u306e 'web' \u30b0\u30eb\u30fc\u30d7\u304b\u3089 h11 \u3092\u524a\u9664\npdm remove -G web h11\n# `test` \u30b0\u30eb\u30fc\u30d7\u306e\u958b\u767a\u4f9d\u5b58\u95a2\u4fc2\u304b\u3089 pytest-cov \u3092\u524a\u9664\npdm remove -dG test pytest-cov\n</code></pre>"},{"location":"usage/dependency/#_12","title":"\u53e4\u3044\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u4e00\u89a7\u8868\u793a\u3059\u308b","text":"<p>Added in version 2.13.0</p> <p>\u53e4\u3044\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u4e00\u89a7\u8868\u793a\u3059\u308b\u306b\u306f:</p> <pre><code>pdm outdated\n</code></pre> <p>\u8868\u793a\u3059\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u3059\u308b\u305f\u3081\u306b\u30b0\u30ed\u30d6\u30d1\u30bf\u30fc\u30f3\u3092\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059:</p> <pre><code>pdm outdated requests* flask*\n</code></pre>"},{"location":"usage/dependency/#_13","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u4f9d\u5b58\u95a2\u4fc2\u30b0\u30eb\u30fc\u30d7\u306e\u30b5\u30d6\u30bb\u30c3\u30c8\u3092\u9078\u629e\u3059\u308b","text":"<p>\u6b21\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u6301\u3064\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c\u3042\u308b\u3068\u3057\u307e\u3059:</p> <pre><code>[project]  # \u3053\u308c\u306f\u30d7\u30ed\u30c0\u30af\u30b7\u30e7\u30f3\u4f9d\u5b58\u95a2\u4fc2\u3067\u3059\ndependencies = [\"requests\"]\n\n[project.optional-dependencies]  # \u3053\u308c\u306f\u30aa\u30d7\u30b7\u30e7\u30ca\u30eb\u4f9d\u5b58\u95a2\u4fc2\u3067\u3059\nextra1 = [\"flask\"]\nextra2 = [\"django\"]\n\n[tool.pdm.dev-dependencies]  # \u3053\u308c\u306f\u958b\u767a\u4f9d\u5b58\u95a2\u4fc2\u3067\u3059\ndev1 = [\"pytest\"]\ndev2 = [\"mkdocs\"]\n</code></pre> \u30b3\u30de\u30f3\u30c9 \u305d\u306e\u52d5\u4f5c \u30b3\u30e1\u30f3\u30c8 <code>pdm install</code> \u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u306b\u30ed\u30c3\u30af\u3055\u308c\u305f\u3059\u3079\u3066\u306e\u30b0\u30eb\u30fc\u30d7\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb <code>pdm install -G extra1</code> \u30d7\u30ed\u30c0\u30af\u30b7\u30e7\u30f3\u4f9d\u5b58\u95a2\u4fc2\u3001\u958b\u767a\u4f9d\u5b58\u95a2\u4fc2\u3001\u304a\u3088\u3073 \"extra1\" \u30aa\u30d7\u30b7\u30e7\u30ca\u30eb\u30b0\u30eb\u30fc\u30d7\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb <code>pdm install -G dev1</code> \u30d7\u30ed\u30c0\u30af\u30b7\u30e7\u30f3\u4f9d\u5b58\u95a2\u4fc2\u3068 \"dev1\" \u958b\u767a\u30b0\u30eb\u30fc\u30d7\u306e\u307f\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb <code>pdm install -G:all</code> \u30d7\u30ed\u30c0\u30af\u30b7\u30e7\u30f3\u4f9d\u5b58\u95a2\u4fc2\u3001\u958b\u767a\u4f9d\u5b58\u95a2\u4fc2\u3001\u304a\u3088\u3073 \"extra1\"\u3001\"extra2\" \u30aa\u30d7\u30b7\u30e7\u30ca\u30eb\u30b0\u30eb\u30fc\u30d7\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb <code>pdm install -G extra1 -G dev1</code> \u30d7\u30ed\u30c0\u30af\u30b7\u30e7\u30f3\u4f9d\u5b58\u95a2\u4fc2\u3001\"extra1\" \u30aa\u30d7\u30b7\u30e7\u30ca\u30eb\u30b0\u30eb\u30fc\u30d7\u3001\u304a\u3088\u3073 \"dev1\" \u958b\u767a\u30b0\u30eb\u30fc\u30d7\u306e\u307f\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb <code>pdm install --prod</code> \u30d7\u30ed\u30c0\u30af\u30b7\u30e7\u30f3\u4f9d\u5b58\u95a2\u4fc2\u306e\u307f\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb <code>pdm install --prod -G extra1</code> \u30d7\u30ed\u30c0\u30af\u30b7\u30e7\u30f3\u4f9d\u5b58\u95a2\u4fc2\u3068 \"extra1\" \u30aa\u30d7\u30b7\u30e7\u30ca\u30eb\u30b0\u30eb\u30fc\u30d7\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb <code>pdm install --prod -G dev1</code> \u5931\u6557\u3001<code>--prod</code> \u306f\u958b\u767a\u4f9d\u5b58\u95a2\u4fc2\u3068\u4e00\u7dd2\u306b\u6307\u5b9a\u3067\u304d\u307e\u305b\u3093 <code>--prod</code> \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u7701\u7565\u3057\u307e\u3059 <p>\u3059\u3079\u3066\u306e \u958b\u767a\u4f9d\u5b58\u95a2\u4fc2\u306f\u3001<code>--prod</code> \u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044\u9650\u308a\u3001<code>-G</code> \u304c\u958b\u767a\u30b0\u30eb\u30fc\u30d7\u3092\u6307\u5b9a\u3057\u306a\u3044\u9650\u308a\u542b\u307e\u308c\u307e\u3059\u3002</p> <p>\u3055\u3089\u306b\u3001\u30eb\u30fc\u30c8\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u304f\u306a\u3044\u5834\u5408\u306f\u3001<code>--no-self</code> \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0\u3057\u3001\u3059\u3079\u3066\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u975e\u7de8\u96c6\u53ef\u80fd\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3044\u5834\u5408\u306f <code>--no-editable</code> \u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002</p> <p>\u3053\u308c\u3089\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u3066\u3001pdm lock \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u3066\u3001\u6307\u5b9a\u3055\u308c\u305f\u30b0\u30eb\u30fc\u30d7\u306e\u307f\u3092\u30ed\u30c3\u30af\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u3089\u306f\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u306e <code>[metadata]</code> \u30c6\u30fc\u30d6\u30eb\u306b\u8a18\u9332\u3055\u308c\u307e\u3059\u3002<code>--group/--prod/--dev/--no-default</code> \u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u3001<code>pdm sync</code> \u304a\u3088\u3073 <code>pdm update</code> \u306f\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u5185\u306e\u30b0\u30eb\u30fc\u30d7\u3092\u4f7f\u7528\u3057\u3066\u64cd\u4f5c\u3092\u884c\u3044\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u306b\u542b\u307e\u308c\u3066\u3044\u306a\u3044\u30b0\u30eb\u30fc\u30d7\u304c\u30b3\u30de\u30f3\u30c9\u306e\u5f15\u6570\u3068\u3057\u3066\u6307\u5b9a\u3055\u308c\u305f\u5834\u5408\u3001PDM \u306f\u30a8\u30e9\u30fc\u3092\u767a\u751f\u3055\u305b\u307e\u3059\u3002</p>"},{"location":"usage/dependency/#_14","title":"\u4f9d\u5b58\u95a2\u4fc2\u306e\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9","text":"<p>\u7279\u5b9a\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u3059\u3079\u3066\u306e\u5236\u7d04\u3092\u6e80\u305f\u3055\u306a\u3044\u5834\u5408\u3001\u89e3\u6c7a\u306f\u5931\u6557\u3057\u307e\u3059\u3002\u3053\u306e\u5834\u5408\u3001\u4f9d\u5b58\u95a2\u4fc2\u306e\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u3092\u4f7f\u7528\u3057\u3066\u3001\u7279\u5b9a\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u4f7f\u7528\u3059\u308b\u3088\u3046\u306b\u30ea\u30be\u30eb\u30d0\u306b\u6307\u793a\u3067\u304d\u307e\u3059\u3002</p> <p>\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u306f\u3001\u30e6\u30fc\u30b6\u30fc\u304c\u4f9d\u5b58\u95a2\u4fc2\u304c\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u5ba3\u8a00\u3059\u308b\u3088\u308a\u3082\u65b0\u3057\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u3068\u4e92\u63db\u6027\u304c\u3042\u308b\u3053\u3068\u3092\u77e5\u3063\u3066\u3044\u308b\u304c\u3001\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u305d\u306e\u4e92\u63db\u6027\u3092\u5ba3\u8a00\u3059\u308b\u305f\u3081\u306b\u307e\u3060\u66f4\u65b0\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306b\u5f79\u7acb\u3064\u6700\u5f8c\u306e\u624b\u6bb5\u3067\u3059\u3002</p> <p>\u305f\u3068\u3048\u3070\u3001\u30c8\u30e9\u30f3\u30b8\u30c6\u30a3\u30d6\u4f9d\u5b58\u95a2\u4fc2\u304c <code>pydantic&gt;=1.0,&lt;2.0</code> \u3092\u5ba3\u8a00\u3057\u3066\u3044\u308b\u304c\u3001\u30e6\u30fc\u30b6\u30fc\u304c\u30d1\u30c3\u30b1\u30fc\u30b8\u304c <code>pydantic&gt;=2.0</code> \u3068\u4e92\u63db\u6027\u304c\u3042\u308b\u3053\u3068\u3092\u77e5\u3063\u3066\u3044\u308b\u5834\u5408\u3001\u30e6\u30fc\u30b6\u30fc\u306f <code>pydantic&gt;=2.0,&lt;3</code> \u3067\u5ba3\u8a00\u3055\u308c\u305f\u4f9d\u5b58\u95a2\u4fc2\u3092\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u3057\u3066\u3001\u30ea\u30be\u30eb\u30d0\u304c\u7d9a\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002</p> <p>PDM \u3067\u306f\u3001\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u3092\u6307\u5b9a\u3059\u308b\u65b9\u6cd5\u304c 2 \u3064\u3042\u308a\u307e\u3059:</p>"},{"location":"usage/dependency/#_15","title":"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30d5\u30a1\u30a4\u30eb\u5185","text":"<p>Added in version 1.12.0</p> <p><code>pyproject.toml</code> \u30d5\u30a1\u30a4\u30eb\u306e <code>[tool.pdm.resolution.overrides]</code> \u30c6\u30fc\u30d6\u30eb\u306e\u4e0b\u306b\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059:</p> <pre><code>[tool.pdm.resolution.overrides]\nasgiref = \"3.2.10\"  # \u6b63\u78ba\u306a\u30d0\u30fc\u30b8\u30e7\u30f3\nurllib3 = \"&gt;=1.26.2\"  # \u30d0\u30fc\u30b8\u30e7\u30f3\u7bc4\u56f2\npytz = \"https://mypypi.org/packages/pytz-2020.9-py3-none-any.whl\"  # \u7d76\u5bfe URL\n</code></pre> <p>\u30c6\u30fc\u30d6\u30eb\u5185\u306e\u5404\u30a8\u30f3\u30c8\u30ea\u306f\u3001\u30d1\u30c3\u30b1\u30fc\u30b8\u540d\u3068\u30d0\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a\u5b50\u3067\u3059\u3002\u30d0\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a\u5b50\u306f\u3001\u30d0\u30fc\u30b8\u30e7\u30f3\u7bc4\u56f2\u3001\u6b63\u78ba\u306a\u30d0\u30fc\u30b8\u30e7\u30f3\u3001\u307e\u305f\u306f\u7d76\u5bfe URL \u3067\u3042\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"usage/dependency/#cli","title":"CLI \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4ecb\u3057\u3066","text":"<p>Added in version 2.17.0</p> <p>PDM \u306f\u3001\u4f9d\u5b58\u95a2\u4fc2\u306e\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u3092\u8981\u4ef6\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u8aad\u307f\u53d6\u308b\u3053\u3068\u3082\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306f\u3001pip \u306e\u5236\u7d04\u30d5\u30a1\u30a4\u30eb\uff08<code>--constraint constraints.txt</code>\uff09\u3068\u540c\u69d8\u306b\u6a5f\u80fd\u3057\u3001\u69cb\u6587\u306f\u8981\u4ef6\u30d5\u30a1\u30a4\u30eb\u3068\u540c\u3058\u3067\u3059:</p> <pre><code>requests==2.20.0\ndjango==1.11.8\ncertifi==2018.11.17\nchardet==3.0.4\nidna==2.7\npytz==2019.3\nurllib3==1.23\n</code></pre> <p>\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u30d5\u30a1\u30a4\u30eb\u306f\u3001\u7d44\u7e54\u5185\u306e\u8907\u6570\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u5171\u6709\u3067\u304d\u308b\u96c6\u4e2d\u7ba1\u7406\u3055\u308c\u305f\u5834\u6240\u306b\u4f9d\u5b58\u95a2\u4fc2\u3092\u4fdd\u5b58\u3059\u308b\u305f\u3081\u306e\u4fbf\u5229\u306a\u65b9\u6cd5\u3067\u3059\u3002</p> <p>\u4f9d\u5b58\u95a2\u4fc2\u306e\u89e3\u6c7a\u3092\u884c\u3046\u3055\u307e\u3056\u307e\u306a PDM \u30b3\u30de\u30f3\u30c9\u306b\u5236\u7d04\u30d5\u30a1\u30a4\u30eb\u3092\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u305f\u3068\u3048\u3070\u3001<code>pdm install</code>\u3001<code>pdm lock</code>\u3001<code>pdm add</code> \u306a\u3069\u3067\u3059\u3002</p> <pre><code>pdm lock --override constraints.txt\n</code></pre> <p>\u3053\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u8907\u6570\u56de\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002</p> <p>\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u30d5\u30a1\u30a4\u30eb\u306f\u3001URL \u3092\u4ecb\u3057\u3066\u3082\u63d0\u4f9b\u3067\u304d\u307e\u3059\u3002\u305f\u3068\u3048\u3070\u3001<code>--override http://example.com/constraints.txt</code> \u306e\u3088\u3046\u306b\u3001\u7d44\u7e54\u304c\u30ea\u30e2\u30fc\u30c8\u30b5\u30fc\u30d0\u30fc\u3067\u305d\u308c\u3089\u3092\u4fdd\u5b58\u304a\u3088\u3073\u63d0\u4f9b\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002</p>"},{"location":"usage/dependency/#_16","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u8868\u793a\u3059\u308b","text":"<p><code>pip list</code> \u3068\u540c\u69d8\u306b\u3001\u30d1\u30c3\u30b1\u30fc\u30b8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u3059\u3079\u3066\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u4e00\u89a7\u8868\u793a\u3067\u304d\u307e\u3059:</p> <pre><code>pdm list\n</code></pre>"},{"location":"usage/dependency/#_17","title":"\u30b0\u30eb\u30fc\u30d7\u3092\u542b\u3081\u305f\u308a\u9664\u5916\u3057\u305f\u308a\u3059\u308b","text":"<p>\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001\u4f5c\u696d\u30bb\u30c3\u30c8\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u3059\u3079\u3066\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u4e00\u89a7\u8868\u793a\u3055\u308c\u307e\u3059\u3002\u8868\u793a\u3059\u308b\u30b0\u30eb\u30fc\u30d7\u3092 <code>--include/--exclude</code> \u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002 <code>include</code> \u306f <code>exclude</code> \u3088\u308a\u3082\u512a\u5148\u3055\u308c\u307e\u3059\u3002</p> <pre><code>pdm list --include dev\npdm list --exclude test\n</code></pre> <p>\u7279\u5225\u306a\u30b0\u30eb\u30fc\u30d7 <code>:sub</code> \u304c\u3042\u308a\u3001\u542b\u307e\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u3059\u3079\u3066\u306e\u30c8\u30e9\u30f3\u30b8\u30c6\u30a3\u30d6\u4f9d\u5b58\u95a2\u4fc2\u3082\u8868\u793a\u3055\u308c\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002</p> <p><code>pdm list</code> \u306b <code>--resolve</code> \u3092\u6e21\u3059\u3068\u3001\u4f5c\u696d\u30bb\u30c3\u30c8\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u3067\u306f\u306a\u304f\u3001<code>pdm.lock</code> \u306b\u89e3\u6c7a\u3055\u308c\u305f\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"usage/dependency/#_18","title":"\u51fa\u529b\u30d5\u30a3\u30fc\u30eb\u30c9\u3068\u5f62\u5f0f\u3092\u5909\u66f4\u3059\u308b","text":"<p>\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001\u540d\u524d\u3001\u30d0\u30fc\u30b8\u30e7\u30f3\u3001\u304a\u3088\u3073\u5834\u6240\u304c\u30ea\u30b9\u30c8\u51fa\u529b\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u3002<code>--fields</code> \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u3066\u3001\u8868\u793a\u3059\u308b\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u6307\u5b9a\u3057\u305f\u308a\u3001\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u9806\u5e8f\u3092\u6307\u5b9a\u3057\u305f\u308a\u3067\u304d\u307e\u3059:</p> <pre><code>pdm list --fields name,licenses,version\n</code></pre> <p>\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\u3059\u3079\u3066\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u3064\u3044\u3066\u306f\u3001CLI \u30ea\u30d5\u30a1\u30ec\u30f3\u30b9 \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>\u307e\u305f\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30c6\u30fc\u30d6\u30eb\u51fa\u529b\u4ee5\u5916\u306e\u51fa\u529b\u5f62\u5f0f\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\u5f62\u5f0f\u3068\u30aa\u30d7\u30b7\u30e7\u30f3\u306f <code>--csv</code>\u3001<code>--json</code>\u3001<code>--markdown</code>\u3001\u304a\u3088\u3073 <code>--freeze</code> \u3067\u3059\u3002</p>"},{"location":"usage/dependency/#_19","title":"\u4f9d\u5b58\u95a2\u4fc2\u30c4\u30ea\u30fc\u3092\u8868\u793a\u3059\u308b","text":"<p>\u307e\u305f\u306f\u3001\u4f9d\u5b58\u95a2\u4fc2\u30c4\u30ea\u30fc\u3092\u8868\u793a\u3059\u308b\u306b\u306f:</p> <pre><code>$ pdm list --tree\ntempenv 0.0.0\n\u2514\u2500\u2500 click 7.0 [ required: &lt;7.0.0,&gt;=6.7 ]\nblack 19.10b0\n\u251c\u2500\u2500 appdirs 1.4.3 [ required: Any ]\n\u251c\u2500\u2500 attrs 19.3.0 [ required: &gt;=18.1.0 ]\n\u251c\u2500\u2500 click 7.0 [ required: &gt;=6.5 ]\n\u251c\u2500\u2500 pathspec 0.7.0 [ required: &lt;1,&gt;=0.6 ]\n\u251c\u2500\u2500 regex 2020.2.20 [ required: Any ]\n\u251c\u2500\u2500 toml 0.10.0 [ required: &gt;=0.9.4 ]\n\u2514\u2500\u2500 typed-ast 1.4.1 [ required: &gt;=1.4.0 ]\nbump2version 1.0.0\n</code></pre> <p><code>--tree</code> \u30e2\u30fc\u30c9\u3067\u306f\u3001\u4e00\u81f4\u3059\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30b5\u30d6\u30c4\u30ea\u30fc\u306e\u307f\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u7279\u5b9a\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u5fc5\u8981\u306a\u7406\u7531\u3092\u793a\u3059\u305f\u3081\u306b <code>pnpm why</code> \u3068\u540c\u3058\u76ee\u7684\u3092\u9054\u6210\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"usage/dependency/#_20","title":"\u30d1\u30bf\u30fc\u30f3\u3067\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u3059\u308b","text":"<p>\u307e\u305f\u3001<code>pdm list</code> \u306b\u30d1\u30bf\u30fc\u30f3\u3092\u6e21\u3059\u3053\u3068\u3067\u3001\u8868\u793a\u3059\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5236\u9650\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059:</p> <pre><code>pdm list flask-* requests-*\n</code></pre> \u30b7\u30a7\u30eb\u5c55\u958b\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044 <p>\u307b\u3068\u3093\u3069\u306e\u30b7\u30a7\u30eb\u3067\u306f\u3001\u73fe\u5728\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u4e00\u81f4\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308b\u5834\u5408\u3001\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9 <code>*</code> \u304c\u5c55\u958b\u3055\u308c\u307e\u3059\u3002 \u4e88\u671f\u3057\u306a\u3044\u7d50\u679c\u3092\u907f\u3051\u308b\u305f\u3081\u306b\u3001\u30d1\u30bf\u30fc\u30f3\u3092\u30b7\u30f3\u30b0\u30eb\u30af\u30a9\u30fc\u30c8\u3067\u56f2\u3080\u3053\u3068\u304c\u3067\u304d\u307e\u3059: <code>pdm list 'flask-*' 'requests-*'</code>\u3002</p> <p><code>--tree</code> \u30e2\u30fc\u30c9\u3067\u306f\u3001\u4e00\u81f4\u3059\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30b5\u30d6\u30c4\u30ea\u30fc\u306e\u307f\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u7279\u5b9a\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u5fc5\u8981\u306a\u7406\u7531\u3092\u793a\u3059\u305f\u3081\u306b <code>pnpm why</code> \u3068\u540c\u3058\u76ee\u7684\u3092\u9054\u6210\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002</p> <pre><code>$ pdm list --tree --reverse certifi\ncertifi 2023.7.22\n\u2514\u2500\u2500 requests 2.31.0 [ requires: &gt;=2017.4.17 ]\n    \u2514\u2500\u2500 cachecontrol[filecache] 0.13.1 [ requires: &gt;=2.16.0 ]\n</code></pre>"},{"location":"usage/dependency/#_21","title":"\u30b0\u30ed\u30fc\u30d0\u30eb\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u7ba1\u7406\u3059\u308b","text":"<p>\u30e6\u30fc\u30b6\u30fc\u304c\u30b0\u30ed\u30fc\u30d0\u30eb Python \u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u30fc\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u8ffd\u8de1\u3057\u305f\u3044\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002 PDM \u3092\u4f7f\u7528\u3059\u308b\u3068\u3001<code>-g/--global</code> \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u3066\u7c21\u5358\u306b\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u307b\u3068\u3093\u3069\u306e\u30b5\u30d6\u30b3\u30de\u30f3\u30c9\u3067\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p> <p>\u3053\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u6307\u5b9a\u3055\u308c\u308b\u3068\u3001<code>&lt;CONFIG_ROOT&gt;/global-project</code> \u304c\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u3057\u3066\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002 \u3053\u308c\u306f\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30d5\u30a1\u30a4\u30eb\u304c\u81ea\u52d5\u7684\u306b\u4f5c\u6210\u3055\u308c\u308b\u3053\u3068\u3092\u9664\u3044\u3066\u3001\u901a\u5e38\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3068\u307b\u307c\u540c\u3058\u3067\u3059\u3002 \u30d3\u30eb\u30c9\u6a5f\u80fd\u306f\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\u3053\u306e\u30a2\u30a4\u30c7\u30a2\u306f Haskell \u306e stack \u304b\u3089\u53d6\u3089\u308c\u3066\u3044\u307e\u3059\u3002</p> <p>\u305f\u3060\u3057\u3001<code>stack</code> \u3068\u306f\u7570\u306a\u308a\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001\u30ed\u30fc\u30ab\u30eb\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c\u898b\u3064\u304b\u3089\u306a\u3044\u5834\u5408\u306b PDM \u304c\u30b0\u30ed\u30fc\u30d0\u30eb\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u81ea\u52d5\u7684\u306b\u4f7f\u7528\u3059\u308b\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093\u3002 \u30e6\u30fc\u30b6\u30fc\u306f <code>-g/--global</code> \u3092\u660e\u793a\u7684\u306b\u6307\u5b9a\u3057\u3066\u30a2\u30af\u30c6\u30a3\u30d6\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u9593\u9055\u3063\u305f\u5834\u6240\u306b\u79fb\u52d5\u3059\u308b\u306e\u306f\u3042\u307e\u308a\u5b09\u3057\u304f\u306a\u3044\u305f\u3081\u3067\u3059\u3002 \u305f\u3060\u3057\u3001PDM \u306f\u3053\u306e\u6c7a\u5b9a\u3092\u30e6\u30fc\u30b6\u30fc\u306b\u59d4\u306d\u3066\u3044\u307e\u3059\u3002<code>global_project.fallback</code> \u3092 <code>true</code> \u306b\u8a2d\u5b9a\u3059\u308b\u3060\u3051\u3067\u3059\u3002</p> <p>\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001PDM \u304c\u6697\u9ed9\u7684\u306b\u30b0\u30ed\u30fc\u30d0\u30eb\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u3001\u6b21\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u307e\u3059: <code>Project is not found, fallback to the global project</code>\u3002 \u3053\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u7121\u52b9\u306b\u3059\u308b\u306b\u306f\u3001<code>global_project.fallback_verbose</code> \u3092 <code>false</code> \u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002</p> <p>\u30b0\u30ed\u30fc\u30d0\u30eb\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c <code>&lt;CONFIG_ROOT&gt;/global-project</code> \u4ee5\u5916\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u8ffd\u8de1\u3059\u308b\u3088\u3046\u306b\u3057\u305f\u3044\u5834\u5408\u306f\u3001 <code>-p/--project &lt;path&gt;</code> \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u3066\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30d1\u30b9\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002 \u7279\u306b\u3001<code>--global --project .</code> \u3092\u6307\u5b9a\u3059\u308b\u3068\u3001 PDM \u306f\u73fe\u5728\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u30b0\u30ed\u30fc\u30d0\u30eb Python \u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002</p> <p>Warning</p> <p>\u30b0\u30ed\u30fc\u30d0\u30eb\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c\u4f7f\u7528\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001<code>remove</code> \u304a\u3088\u3073 <code>sync --clean/--pure</code> \u30b3\u30de\u30f3\u30c9\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u30b7\u30b9\u30c6\u30e0 Python \u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305f\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u524a\u9664\u3055\u308c\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"usage/hooks/","title":"\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb\u3068\u30d5\u30c3\u30af","text":"<p>\u3059\u3079\u3066\u306e Python \u30c7\u30ea\u30d0\u30e9\u30d6\u30eb\u3068\u540c\u69d8\u306b\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306f Python \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb\u306e\u3055\u307e\u3056\u307e\u306a\u30d5\u30a7\u30fc\u30ba\u3092\u7d4c\u3066\u9032\u884c\u3057\u3001PDM \u306f\u3053\u308c\u3089\u306e\u30d5\u30a7\u30fc\u30ba\u306e\u671f\u5f85\u3055\u308c\u308b\u30bf\u30b9\u30af\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306e\u30b3\u30de\u30f3\u30c9\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002</p> <p>\u307e\u305f\u3001\u3053\u308c\u3089\u306e\u30b9\u30c6\u30c3\u30d7\u306b\u30d5\u30c3\u30af\u3092\u63d0\u4f9b\u3057\u3001\u6b21\u306e\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <ul> <li>\u30d7\u30e9\u30b0\u30a4\u30f3\u304c\u540c\u3058\u540d\u524d\u306e\u30b7\u30b0\u30ca\u30eb\u3092\u30ea\u30c3\u30b9\u30f3\u3059\u308b\u3002</li> <li>\u958b\u767a\u8005\u304c\u540c\u3058\u540d\u524d\u306e\u30ab\u30b9\u30bf\u30e0\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9a\u7fa9\u3059\u308b\u3002</li> </ul> <p>\u3055\u3089\u306b\u3001<code>pre_invoke</code> \u30b7\u30b0\u30ca\u30eb\u306f\u3001\u4efb\u610f\u306e\u30b3\u30de\u30f3\u30c9\u304c\u547c\u3073\u51fa\u3055\u308c\u308b\u524d\u306b\u767a\u884c\u3055\u308c\u3001\u30d7\u30e9\u30b0\u30a4\u30f3\u304c\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3084\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4e8b\u524d\u306b\u5909\u66f4\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002</p> <p>\u7d44\u307f\u8fbc\u307f\u30b3\u30de\u30f3\u30c9\u306f\u73fe\u5728\u3001\u6b21\u306e 3 \u3064\u306e\u30b0\u30eb\u30fc\u30d7\u306b\u5206\u304b\u308c\u3066\u3044\u307e\u3059\u3002</p> <ul> <li>\u521d\u671f\u5316\u30d5\u30a7\u30fc\u30ba</li> <li>\u4f9d\u5b58\u95a2\u4fc2\u7ba1\u7406</li> <li>\u516c\u958b\u30d5\u30a7\u30fc\u30ba</li> </ul> <p>\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30d5\u30a7\u30fc\u30ba\u3068\u516c\u958b\u30d5\u30a7\u30fc\u30ba\u306e\u9593\u306b\u3044\u304f\u3064\u304b\u306e\u5b9a\u671f\u7684\u306a\u30bf\u30b9\u30af\uff08\u30cf\u30a6\u30b9\u30ad\u30fc\u30d4\u30f3\u30b0\u3001\u30ea\u30f3\u30c8\u3001\u30c6\u30b9\u30c8\u306a\u3069\uff09\u3092\u5b9f\u884c\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u304c\u3001PDM \u304c\u30e6\u30fc\u30b6\u30fc\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f7f\u7528\u3057\u3066\u72ec\u81ea\u306e\u30bf\u30b9\u30af/\u30d5\u30a7\u30fc\u30ba\u3092\u5b9a\u7fa9\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u7406\u7531\u3067\u3059\u3002</p> <p>\u5b8c\u5168\u306a\u67d4\u8edf\u6027\u3092\u63d0\u4f9b\u3059\u308b\u305f\u3081\u306b\u3001PDM \u306f\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u3044\u304f\u3064\u304b\u306e\u30d5\u30c3\u30af\u3068\u30bf\u30b9\u30af\u3092\u30b9\u30ad\u30c3\u30d7\u3059\u308b\u3053\u3068\u3092\u8a31\u53ef\u3057\u307e\u3059\u3002</p>"},{"location":"usage/hooks/#_2","title":"\u521d\u671f\u5316","text":"<p>\u521d\u671f\u5316\u30d5\u30a7\u30fc\u30ba\u306f\u3001\u65e2\u5b58\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u521d\u671f\u5316\u3059\u308b\u305f\u3081\u306b <code>pdm init</code> \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30e9\u30a4\u30d5\u30bf\u30a4\u30e0\u4e2d\u306b\u4e00\u5ea6\u3060\u3051\u767a\u751f\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\uff08<code>pyproject.toml</code> \u30d5\u30a1\u30a4\u30eb\u3092\u57cb\u3081\u308b\u305f\u3081\u306e\u30d7\u30ed\u30f3\u30d7\u30c8\uff09\u3002</p> <p>\u3053\u308c\u3089\u306f\u6b21\u306e\u30d5\u30c3\u30af\u3092\u30c8\u30ea\u30ac\u30fc\u3057\u307e\u3059\u3002</p> <ul> <li><code>post_init</code></li> </ul> <pre><code>flowchart LR\n  subgraph pdm-init [pdm init]\n    direction LR\n    post-init{{Emit post_init}}\n    init --&gt; post-init\n  end</code></pre>"},{"location":"usage/hooks/#_3","title":"\u4f9d\u5b58\u95a2\u4fc2\u7ba1\u7406","text":"<p>\u4f9d\u5b58\u95a2\u4fc2\u7ba1\u7406\u306f\u3001\u958b\u767a\u8005\u304c\u4f5c\u696d\u3092\u884c\u3044\u3001\u6b21\u306e\u3053\u3068\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306b\u5fc5\u8981\u3067\u3059\u3002</p> <ul> <li><code>lock</code>: <code>pyproject.toml</code> \u306e\u8981\u4ef6\u304b\u3089\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u3092\u8a08\u7b97\u3057\u307e\u3059\u3002</li> <li><code>sync</code>: \u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u304b\u3089 PEP582 \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u540c\u671f\uff08\u8ffd\u52a0/\u524a\u9664/\u66f4\u65b0\uff09\u3057\u3001\u73fe\u5728\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u7de8\u96c6\u53ef\u80fd\u3068\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002</li> <li><code>add</code>: \u4f9d\u5b58\u95a2\u4fc2\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002</li> <li><code>remove</code>: \u4f9d\u5b58\u95a2\u4fc2\u3092\u524a\u9664\u3057\u307e\u3059\u3002</li> </ul> <p>\u3053\u308c\u3089\u306e\u30b9\u30c6\u30c3\u30d7\u306f\u3001\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3067\u76f4\u63a5\u5229\u7528\u3067\u304d\u307e\u3059\u3002</p> <ul> <li><code>pdm lock</code>: <code>lock</code> \u30bf\u30b9\u30af\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</li> <li><code>pdm sync</code>: <code>sync</code> \u30bf\u30b9\u30af\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</li> <li><code>pdm install</code>: \u5fc5\u8981\u306b\u5fdc\u3058\u3066 <code>lock</code> \u3092\u5148\u884c\u3057\u3066 <code>sync</code> \u30bf\u30b9\u30af\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</li> <li><code>pdm add</code>: \u4f9d\u5b58\u95a2\u4fc2\u306e\u8981\u4ef6\u3092\u8ffd\u52a0\u3057\u3001\u518d\u30ed\u30c3\u30af\u3057\u3066\u304b\u3089\u540c\u671f\u3057\u307e\u3059\u3002</li> <li><code>pdm remove</code>: \u4f9d\u5b58\u95a2\u4fc2\u306e\u8981\u4ef6\u3092\u524a\u9664\u3057\u3001\u518d\u30ed\u30c3\u30af\u3057\u3066\u304b\u3089\u540c\u671f\u3057\u307e\u3059\u3002</li> <li><code>pdm update</code>: \u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u304b\u3089\u4f9d\u5b58\u95a2\u4fc2\u3092\u518d\u30ed\u30c3\u30af\u3057\u3001\u540c\u671f\u3057\u307e\u3059\u3002</li> </ul> <p>\u3053\u308c\u3089\u306f\u6b21\u306e\u30d5\u30c3\u30af\u3092\u30c8\u30ea\u30ac\u30fc\u3057\u307e\u3059\u3002</p> <ul> <li><code>pre_install</code></li> <li><code>post_install</code></li> <li><code>pre_lock</code></li> <li><code>post_lock</code></li> </ul> <pre><code>flowchart LR\n  subgraph pdm-install [pdm install]\n    direction LR\n\n    subgraph pdm-lock [pdm lock]\n      direction TB\n      pre-lock{{Emit pre_lock}}\n      post-lock{{Emit post_lock}}\n      pre-lock --&gt; lock --&gt; post-lock\n    end\n\n    subgraph pdm-sync [pdm sync]\n      direction TB\n      pre-install{{Emit pre_install}}\n      post-install{{Emit post_install}}\n      pre-install --&gt; sync --&gt; post-install\n    end\n\n    pdm-lock --&gt; pdm-sync\n  end</code></pre>"},{"location":"usage/hooks/#python","title":"Python \u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u5207\u308a\u66ff\u3048","text":"<p>\u3053\u308c\u306f\u4f9d\u5b58\u95a2\u4fc2\u7ba1\u7406\u306e\u7279\u5225\u306a\u30b1\u30fc\u30b9\u3067\u3059\u3002<code>pdm use</code> \u3092\u4f7f\u7528\u3057\u3066\u73fe\u5728\u306e Python \u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u5207\u308a\u66ff\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u3001\u65b0\u3057\u3044 Python \u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u30fc\u3067 <code>post_use</code> \u30b7\u30b0\u30ca\u30eb\u3092\u767a\u884c\u3057\u307e\u3059\u3002</p> <pre><code>flowchart LR\n  subgraph pdm-use [pdm use]\n    direction LR\n    post-use{{Emit post_use}}\n    use --&gt; post-use\n  end</code></pre>"},{"location":"usage/hooks/#_4","title":"\u516c\u958b","text":"<p>\u30d1\u30c3\u30b1\u30fc\u30b8/\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u516c\u958b\u3059\u308b\u6e96\u5099\u304c\u6574\u3063\u305f\u3089\u3001\u6b21\u306e\u516c\u958b\u30bf\u30b9\u30af\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002</p> <ul> <li><code>build</code>: \u30a2\u30bb\u30c3\u30c8\u3092\u30d3\u30eb\u30c9/\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3001Python \u30d1\u30c3\u30b1\u30fc\u30b8\uff08sdist\u3001wheel\uff09\u306b\u3059\u3079\u3066\u3092\u30d1\u30c3\u30b1\u30fc\u30b8\u5316\u3057\u307e\u3059\u3002</li> <li><code>upload</code>: \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30ea\u30e2\u30fc\u30c8 PyPI \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306b\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9/\u516c\u958b\u3057\u307e\u3059\u3002</li> </ul> <p>\u3053\u308c\u3089\u306e\u30b9\u30c6\u30c3\u30d7\u306f\u3001\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3067\u5229\u7528\u3067\u304d\u307e\u3059\u3002</p> <ul> <li><code>pdm build</code></li> <li><code>pdm publish</code></li> </ul> <p>\u3053\u308c\u3089\u306f\u6b21\u306e\u30d5\u30c3\u30af\u3092\u30c8\u30ea\u30ac\u30fc\u3057\u307e\u3059\u3002</p> <ul> <li><code>pre_publish</code></li> <li><code>post_publish</code></li> <li><code>pre_build</code></li> <li><code>post_build</code></li> </ul> <pre><code>flowchart LR\n  subgraph pdm-publish [pdm publish]\n    direction LR\n    pre-publish{{Emit pre_publish}}\n    post-publish{{Emit post_publish}}\n\n    subgraph pdm-build [pdm build]\n      pre-build{{Emit pre_build}}\n      post-build{{Emit post_build}}\n      pre-build --&gt; build --&gt; post-build\n    end\n\n    %% subgraph pdm-upload [pdm upload]\n    %%   pre-upload{{Emit pre_upload}}\n    %%   post-upload{{Emit post_upload}}\n    %%   pre-upload --&gt; upload --&gt; post-upload\n    %% end\n\n    pre-publish --&gt; pdm-build --&gt; upload --&gt; post-publish\n  end</code></pre> <p>\u5b9f\u884c\u306f\u6700\u521d\u306e\u5931\u6557\u3067\u505c\u6b62\u3057\u3001\u30d5\u30c3\u30af\u3082\u542b\u307e\u308c\u307e\u3059\u3002</p>"},{"location":"usage/hooks/#_5","title":"\u30e6\u30fc\u30b6\u30fc\u30b9\u30af\u30ea\u30d7\u30c8","text":"<p>\u30e6\u30fc\u30b6\u30fc\u30b9\u30af\u30ea\u30d7\u30c8\u306f\u72ec\u81ea\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u8a73\u3057\u304f\u8aac\u660e\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u6b21\u306e\u3053\u3068\u3092\u77e5\u3063\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <ul> <li>\u5404\u30e6\u30fc\u30b6\u30fc\u30b9\u30af\u30ea\u30d7\u30c8\u306f\u3001<code>pre_*</code> \u304a\u3088\u3073 <code>post_*</code> \u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9a\u7fa9\u3067\u304d\u3001\u8907\u5408\u30b9\u30af\u30ea\u30d7\u30c8\u3082\u542b\u307e\u308c\u307e\u3059\u3002</li> <li>\u5404 <code>run</code> \u5b9f\u884c\u306f\u3001<code>pre_run</code> \u304a\u3088\u3073 <code>post_run</code> \u30d5\u30c3\u30af\u3092\u30c8\u30ea\u30ac\u30fc\u3057\u307e\u3059\u3002</li> <li>\u5404\u30b9\u30af\u30ea\u30d7\u30c8\u5b9f\u884c\u306f\u3001<code>pre_script</code> \u304a\u3088\u3073 <code>post_script</code> \u30d5\u30c3\u30af\u3092\u30c8\u30ea\u30ac\u30fc\u3057\u307e\u3059\u3002</li> </ul> <p>\u6b21\u306e <code>scripts</code> \u5b9a\u7fa9\u3092\u8003\u3048\u307e\u3059\u3002</p> <pre><code>[tool.pdm.scripts]\npre_script = \"\"\npost_script = \"\"\npre_test = \"\"\npost_test = \"\"\ntest = \"\"\npre_composite = \"\"\npost_composite = \"\"\ncomposite = {composite = [\"test\"]}\n</code></pre> <p><code>pdm run test</code> \u306f\u6b21\u306e\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb\u3092\u6301\u3061\u307e\u3059\u3002</p> <pre><code>flowchart LR\n  subgraph pdm-run-test [pdm run test]\n    direction LR\n    pre-run{{Emit pre_run}}\n    post-run{{Emit post_run}}\n    subgraph run-test [test task]\n      direction TB\n      pre-script{{Emit pre_script}}\n      post-script{{Emit post_script}}\n      pre-test[Execute pre_test]\n      post-test[Execute post_test]\n      test[Execute test]\n\n      pre-script --&gt; pre-test --&gt; test --&gt; post-test --&gt; post-script\n    end\n\n    pre-run --&gt; run-test --&gt; post-run\n  end</code></pre> <p>\u4e00\u65b9\u3001<code>pdm run composite</code> \u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p> <pre><code>flowchart LR\n  subgraph pdm-run-composite [pdm run composite]\n    direction LR\n    pre-run{{Emit pre_run}}\n    post-run{{Emit post_run}}\n\n    subgraph run-composite [composite task]\n      direction TB\n      pre-script-composite{{Emit pre_script}}\n      post-script-composite{{Emit post_script}}\n      pre-composite[Execute pre_composite]\n      post-composite[Execute post_composite]\n\n      subgraph run-test [test task]\n        direction TB\n        pre-script-test{{Emit pre_script}}\n        post-script-test{{Emit post_script}}\n        pre-test[Execute pre_test]\n        post-test[Execute post_test]\n\n        pre-script-test --&gt; pre-test --&gt; test --&gt; post-test --&gt; post-script-test\n      end\n\n      pre-script-composite --&gt; pre-composite --&gt; run-test --&gt; post-composite --&gt; post-script-composite\n    end\n\n     pre-run --&gt; run-composite --&gt; post-run\n  end</code></pre>"},{"location":"usage/hooks/#_6","title":"\u30b9\u30ad\u30c3\u30d7","text":"<p>\u7d44\u307f\u8fbc\u307f\u30b3\u30de\u30f3\u30c9\u3084\u30ab\u30b9\u30bf\u30e0\u30e6\u30fc\u30b6\u30fc\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u30bf\u30b9\u30af\u3068\u30d5\u30c3\u30af\u306e\u5b9f\u884c\u3092\u5236\u5fa1\u3059\u308b\u305f\u3081\u306b\u3001<code>--skip</code> \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002</p> <p>\u3053\u308c\u306f\u3001\u30b9\u30ad\u30c3\u30d7\u3059\u308b\u30d5\u30c3\u30af/\u30bf\u30b9\u30af\u540d\u306e\u30ab\u30f3\u30de\u533a\u5207\u308a\u30ea\u30b9\u30c8\u3068\u3001\u3059\u3079\u3066\u306e\u30d5\u30c3\u30af\u3001\u3059\u3079\u3066\u306e <code>pre_*</code> \u30d5\u30c3\u30af\u3001\u304a\u3088\u3073\u3059\u3079\u3066\u306e <code>post_*</code> \u30d5\u30c3\u30af\u3092\u305d\u308c\u305e\u308c\u30b9\u30ad\u30c3\u30d7\u3059\u308b\u305f\u3081\u306e\u4e8b\u524d\u5b9a\u7fa9\u3055\u308c\u305f <code>:all</code>\u3001<code>:pre</code>\u3001\u304a\u3088\u3073 <code>:post</code> \u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u3092\u53d7\u3051\u5165\u308c\u307e\u3059\u3002\u30b9\u30ad\u30c3\u30d7\u30ea\u30b9\u30c8\u3092 <code>PDM_SKIP_HOOKS</code> \u74b0\u5883\u5909\u6570\u306b\u63d0\u4f9b\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u304c\u3001<code>--skip</code> \u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u6307\u5b9a\u3055\u308c\u308b\u3068\u4e0a\u66f8\u304d\u3055\u308c\u307e\u3059\u3002</p> <p>\u524d\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u30d6\u30ed\u30c3\u30af\u3092\u8003\u3048\u308b\u3068\u3001<code>:pre,post_test composite</code> \u3092\u30b9\u30ad\u30c3\u30d7\u3059\u308b <code>pdm run --skip</code> \u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u6b21\u306e\u3088\u3046\u306b\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb\u304c\u77ed\u7e2e\u3055\u308c\u307e\u3059\u3002</p> <pre><code>flowchart LR\n  subgraph pdm-run-composite [pdm run composite]\n    direction LR\n    post-run{{Emit post_run}}\n\n    subgraph run-composite [composite task]\n      direction TB\n      post-script-composite{{Emit post_script}}\n      post-composite[Execute post_composite]\n\n      subgraph run-test [test task]\n        direction TB\n        post-script-test{{Emit post_script}}\n\n        test --&gt; post-script-test\n      end\n\n      run-test --&gt; post-composite --&gt; post-script-composite\n    end\n\n     run-composite --&gt; post-run\n  end</code></pre>"},{"location":"usage/lock-targets/","title":"\u7279\u5b9a\u306e\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u307e\u305f\u306f Python \u30d0\u30fc\u30b8\u30e7\u30f3\u7528\u306b\u30ed\u30c3\u30af\u3059\u308b","text":"<p>Added in version 2.17.0</p> <p>\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001PDM \u306f <code>pyproject.toml</code> \u306e <code>requires-python</code> \u3067\u6307\u5b9a\u3055\u308c\u305f Python \u30d0\u30fc\u30b8\u30e7\u30f3\u5185\u306e\u3059\u3079\u3066\u306e\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u3067\u52d5\u4f5c\u3059\u308b\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3088\u3046\u3068\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u958b\u767a\u4e2d\u306b\u975e\u5e38\u306b\u4fbf\u5229\u3067\u3059\u3002\u958b\u767a\u74b0\u5883\u3067\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u3092\u751f\u6210\u3057\u3001\u3053\u306e\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u7528\u3057\u3066 CI/CD \u3084\u672c\u756a\u74b0\u5883\u3067\u540c\u3058\u4f9d\u5b58\u95a2\u4fc2\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u518d\u73fe\u3067\u304d\u307e\u3059\u3002</p> <p>\u305f\u3060\u3057\u3001\u3053\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u304c\u6a5f\u80fd\u3057\u306a\u3044\u5834\u5408\u3082\u3042\u308a\u307e\u3059\u3002\u305f\u3068\u3048\u3070\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3084\u4f9d\u5b58\u95a2\u4fc2\u306b\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u56fa\u6709\u306e\u4f9d\u5b58\u95a2\u4fc2\u304c\u3042\u308b\u5834\u5408\u3084\u3001Python \u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u5fdc\u3058\u305f\u6761\u4ef6\u4ed8\u304d\u4f9d\u5b58\u95a2\u4fc2\u304c\u3042\u308b\u5834\u5408\u306a\u3069\u3067\u3059\u3002\u6b21\u306e\u3088\u3046\u306a\u5834\u5408\u3067\u3059\u3002</p> <pre><code>[project]\nname = \"myproject\"\nrequires-python = \"&gt;=3.8\"\ndependencies = [\n    \"numpy&lt;1.25; python_version &lt; '3.9'\",\n    \"numpy&gt;=1.25; python_version &gt;= '3.9'\",\n    \"pywin32; sys_platform == 'win32'\",\n]\n</code></pre> <p>\u3053\u306e\u5834\u5408\u3001\u3059\u3079\u3066\u306e\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u3068 Python \u30d0\u30fc\u30b8\u30e7\u30f3\uff08<code>&gt;=3.8</code>\uff09\u3067\u5404\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u5358\u4e00\u306e\u89e3\u6c7a\u3092\u5f97\u308b\u3053\u3068\u306f\u307b\u307c\u4e0d\u53ef\u80fd\u3067\u3059\u3002\u4ee3\u308f\u308a\u306b\u3001\u7279\u5b9a\u306e\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u307e\u305f\u306f Python \u30d0\u30fc\u30b8\u30e7\u30f3\u7528\u306e\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"usage/lock-targets/#_1","title":"\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u3092\u751f\u6210\u3059\u308b\u969b\u306e\u30ed\u30c3\u30af\u30bf\u30fc\u30b2\u30c3\u30c8\u306e\u6307\u5b9a","text":"<p>PDM \u306f\u3001\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u3092\u751f\u6210\u3059\u308b\u969b\u306b 1 \u3064\u4ee5\u4e0a\u306e\u74b0\u5883\u57fa\u6e96\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u57fa\u6e96\u306b\u306f\u6b21\u306e\u3082\u306e\u304c\u542b\u307e\u308c\u307e\u3059\u3002</p> <ul> <li><code>--python=&lt;PYTHON_RANGE&gt;</code>: PEP 440 \u4e92\u63db\u306e Python \u30d0\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a\u5b50\u3002\u305f\u3068\u3048\u3070\u3001<code>--python=\"&gt;=3.8,&lt;3.10\"</code> \u306f Python \u30d0\u30fc\u30b8\u30e7\u30f3 <code>&gt;=3.8</code> \u304a\u3088\u3073 <code>&lt;3.10</code> \u7528\u306e\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u3092\u751f\u6210\u3057\u307e\u3059\u3002\u4fbf\u5b9c\u4e0a\u3001<code>--python=3.10</code> \u306f <code>--python=\"&gt;=3.10\"</code> \u3068\u540c\u7b49\u3067\u3042\u308a\u3001Python 3.10 \u4ee5\u4e0a\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u5bfe\u3057\u3066\u89e3\u6c7a\u3057\u307e\u3059\u3002</li> <li><code>--platform=&lt;PLATFORM&gt;</code>: \u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u6307\u5b9a\u5b50\u3002\u305f\u3068\u3048\u3070\u3001<code>pdm lock --platform=linux</code> \u306f Linux x86_64 \u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u7528\u306e\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u3092\u751f\u6210\u3057\u307e\u3059\u3002\u5229\u7528\u53ef\u80fd\u306a\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u6b21\u306e\u3068\u304a\u308a\u3067\u3059\u3002<ul> <li><code>linux</code></li> <li><code>windows</code></li> <li><code>macos</code></li> <li><code>alpine</code></li> <li><code>windows_amd64</code></li> <li><code>windows_x86</code></li> <li><code>windows_arm64</code></li> <li><code>macos_arm64</code></li> <li><code>macos_x86_64</code></li> <li><code>macos_X_Y_arm64</code></li> <li><code>macos_X_Y_x86_64</code></li> <li><code>manylinux_X_Y_x86_64</code></li> <li><code>manylinux_X_Y_aarch64</code></li> <li><code>musllinux_X_Y_x86_64</code></li> <li><code>musllinux_X_Y_aarch64</code></li> </ul> </li> <li><code>--implementation=cpython|pypy|pyston</code>: Python \u5b9f\u88c5\u6307\u5b9a\u5b50\u3002\u73fe\u5728\u3001<code>cpython</code>\u3001<code>pypy</code>\u3001\u304a\u3088\u3073 <code>pyston</code> \u306e\u307f\u304c\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u3059\u3002</li> </ul> <p>\u3044\u304f\u3064\u304b\u306e\u57fa\u6e96\u3092\u7121\u8996\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u305f\u3068\u3048\u3070\u3001<code>--platform=linux</code> \u306e\u307f\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001\u751f\u6210\u3055\u308c\u305f\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u306f Linux \u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u304a\u3088\u3073\u3059\u3079\u3066\u306e\u5b9f\u88c5\u306b\u9069\u7528\u3055\u308c\u307e\u3059\u3002</p> <p><code>python</code> \u57fa\u6e96\u3068 <code>requires-python</code></p> <p><code>--python</code> \u30aa\u30d7\u30b7\u30e7\u30f3\u3001\u307e\u305f\u306f\u30ed\u30c3\u30af\u30bf\u30fc\u30b2\u30c3\u30c8\u306e <code>requires-python</code> \u57fa\u6e96\u306f\u3001<code>pyproject.toml</code> \u306e <code>requires-python</code> \u306b\u3088\u3063\u3066\u5236\u9650\u3055\u308c\u307e\u3059\u3002\u305f\u3068\u3048\u3070\u3001<code>requires-python</code> \u304c <code>&gt;=3.8</code> \u3067\u3042\u308a\u3001<code>--python=\"&lt;3.11\"</code> \u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u3001\u30ed\u30c3\u30af\u30bf\u30fc\u30b2\u30c3\u30c8\u306f <code>&gt;=3.8,&lt;3.11</code> \u306b\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"usage/lock-targets/#1","title":"\u5225\u3005\u306e\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\u304b\u30011 \u3064\u306b\u30de\u30fc\u30b8\u3059\u308b\u304b","text":"<p>\u8907\u6570\u306e\u30ed\u30c3\u30af\u30bf\u30fc\u30b2\u30c3\u30c8\u304c\u5fc5\u8981\u306a\u5834\u5408\u306f\u3001\u5404\u30bf\u30fc\u30b2\u30c3\u30c8\u3054\u3068\u306b\u5225\u3005\u306e\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\u304b\u30011 \u3064\u306e\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u306b\u307e\u3068\u3081\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002PDM \u306f\u4e21\u65b9\u306e\u65b9\u6cd5\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002</p> <p>\u7279\u5b9a\u306e\u30bf\u30fc\u30b2\u30c3\u30c8\u3067\u5225\u3005\u306e\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\u306b\u306f:</p> <pre><code># Linux \u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u304a\u3088\u3073 Python 3.8 \u7528\u306e\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u3092\u751f\u6210\u3057\u3001\u7d50\u679c\u3092 py38-linux.lock \u306b\u66f8\u304d\u8fbc\u307f\u307e\u3059\npdm lock --platform=linux --python=\"==3.8.*\" --lockfile=py38-linux.lock\n</code></pre> <p>Linux \u304a\u3088\u3073 Python 3.8 \u3067\u4f9d\u5b58\u95a2\u4fc2\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5834\u5408\u3001\u3053\u306e\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002</p> <pre><code>pdm install --lockfile=py38-linux.lock\n</code></pre> <p>\u3055\u3089\u306b\u3001\u4f9d\u5b58\u95a2\u4fc2\u30b0\u30eb\u30fc\u30d7\u306e\u30b5\u30d6\u30bb\u30c3\u30c8\u3092\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u306b\u9078\u629e\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3053\u3061\u3089\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>\u540c\u3058\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u3092\u8907\u6570\u306e\u30bf\u30fc\u30b2\u30c3\u30c8\u3067\u4f7f\u7528\u3059\u308b\u5834\u5408\u306f\u3001<code>pdm lock</code> \u30b3\u30de\u30f3\u30c9\u306b <code>--append</code> \u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002</p> <pre><code># Linux \u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u304a\u3088\u3073 Python 3.8 \u7528\u306e\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u3092\u751f\u6210\u3057\u3001\u7d50\u679c\u3092 pdm.lock \u306b\u8ffd\u52a0\u3057\u307e\u3059\npdm lock --platform=linux --python=\"==3.8.*\" --append\n</code></pre> <p>\u5358\u4e00\u306e\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u7528\u3059\u308b\u5229\u70b9\u306f\u3001\u4f9d\u5b58\u95a2\u4fc2\u3092\u66f4\u65b0\u3059\u308b\u969b\u306b\u8907\u6570\u306e\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u3092\u7ba1\u7406\u3059\u308b\u5fc5\u8981\u304c\u306a\u3044\u3053\u3068\u3067\u3059\u3002\u305f\u3060\u3057\u3001\u5358\u4e00\u306e\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u3067\u306f\u7570\u306a\u308b\u30bf\u30fc\u30b2\u30c3\u30c8\u306b\u5bfe\u3057\u3066\u7570\u306a\u308b\u30ed\u30c3\u30af\u6226\u7565\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002\u307e\u305f\u3001\u30ed\u30c3\u30af\u306e\u66f4\u65b0\u306b\u304b\u304b\u308b\u6642\u9593\u3082\u9577\u304f\u306a\u308b\u3053\u3068\u304c\u4e88\u60f3\u3055\u308c\u307e\u3059\u3002</p> <p>\u3055\u3089\u306b\u3001\u5404\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u306b\u306f 1 \u3064\u4ee5\u4e0a\u306e\u30ed\u30c3\u30af\u30bf\u30fc\u30b2\u30c3\u30c8\u3092\u542b\u3081\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u305f\u3081\u3001\u975e\u5e38\u306b\u67d4\u8edf\u306b\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002\u3044\u304f\u3064\u304b\u306e\u30bf\u30fc\u30b2\u30c3\u30c8\u3092\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u306b\u30de\u30fc\u30b8\u3057\u3001\u7279\u5b9a\u306e\u30b0\u30eb\u30fc\u30d7\u3068\u30bf\u30fc\u30b2\u30c3\u30c8\u3092\u5225\u3005\u306e\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u306b\u30ed\u30c3\u30af\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u6b21\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u4f8b\u3092\u793a\u3057\u307e\u3059\u3002</p>"},{"location":"usage/lock-targets/#_2","title":"\u4f8b","text":"<p>\u4ee5\u4e0b\u306f <code>pyproject.toml</code> \u306e\u5185\u5bb9\u3067\u3059\u3002</p> <pre><code>[project]\nname = \"myproject\"\nrequires-python = \"&gt;=3.8\"\ndependencies = [\n    \"numpy&lt;1.25; python_version &lt; '3.9'\",\n    \"numpy&gt;=1.25; python_version &gt;= '3.9'\",\n    \"pandas\"\n]\n\n[project.optional-dependencies]\nwindows = [\"pywin32\"]\nmacos = [\"pyobjc\"]\n</code></pre> <p>\u4e0a\u8a18\u306e\u4f8b\u3067\u306f\u3001<code>numpy</code> \u306e\u6761\u4ef6\u4ed8\u304d\u4f9d\u5b58\u30d0\u30fc\u30b8\u30e7\u30f3\u3068\u3001Windows \u304a\u3088\u3073 MacOS \u7528\u306e\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u56fa\u6709\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u4f9d\u5b58\u95a2\u4fc2\u304c\u3042\u308a\u307e\u3059\u3002Linux\u3001Windows\u3001\u304a\u3088\u3073 MacOS \u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u3001\u304a\u3088\u3073 Python 3.8 \u304a\u3088\u3073 3.9 \u7528\u306e\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u3092\u751f\u6210\u3057\u305f\u3044\u3068\u3057\u307e\u3059\u3002</p> <p><pre><code>pdm lock --python=\"&gt;=3.9\"\npdm lock --python=\"&lt;3.9\" --append\n\npdm lock --platform=windows --python=\"&gt;=3.9\" --lockfile=py39-windows.lock --with windows\npdm lock --platform=macos --python=\"&gt;=3.9\" --lockfile=py39-macos.lock --with macos\n</code></pre> \u4e0a\u8a18\u306e\u30b3\u30de\u30f3\u30c9\u3092\u9806\u756a\u306b\u5b9f\u884c\u3059\u308b\u3068\u3001\u6b21\u306e 3 \u3064\u306e\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u304c\u751f\u6210\u3055\u308c\u307e\u3059\u3002</p> <ul> <li><code>pdm.lock</code>: \u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30e1\u30a4\u30f3\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u3067\u3001\u3059\u3079\u3066\u306e\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u304a\u3088\u3073 <code>&gt;=3.8</code> \u306e Python \u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u52d5\u4f5c\u3057\u307e\u3059\u3002\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u56fa\u6709\u306e\u4f9d\u5b58\u95a2\u4fc2\u306f\u542b\u307e\u308c\u3066\u3044\u307e\u305b\u3093\u3002\u3053\u306e\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u306b\u306f\u3001Python 3.9 \u4ee5\u4e0a\u304a\u3088\u3073\u4ee5\u4e0b\u306b\u9069\u3057\u305f 2 \u3064\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306e <code>numpy</code> \u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002PDM \u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u30fc\u306f\u3001Python \u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u5fdc\u3058\u3066\u6b63\u3057\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u9078\u629e\u3057\u307e\u3059\u3002</li> <li><code>py39-windows.lock</code>: Windows \u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u304a\u3088\u3073 Python 3.9 \u4ee5\u4e0a\u7528\u306e\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u3067\u3001Windows \u7528\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u4f9d\u5b58\u95a2\u4fc2\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002</li> <li><code>py39-macos.lock</code>: MacOS \u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u304a\u3088\u3073 Python 3.9 \u4ee5\u4e0a\u7528\u306e\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u3067\u3001MacOS \u7528\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u4f9d\u5b58\u95a2\u4fc2\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002</li> </ul>"},{"location":"usage/lockfile/","title":"\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb","text":"<p>PDM \u306f\u3001\u65e2\u5b58\u306e\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb <code>pdm.lock</code> \u304b\u3089\u306e\u307f\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306f\u3001\u4f9d\u5b58\u95a2\u4fc2\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u305f\u3081\u306e\u552f\u4e00\u306e\u4fe1\u983c\u3067\u304d\u308b\u30bd\u30fc\u30b9\u3068\u3057\u3066\u6a5f\u80fd\u3057\u307e\u3059\u3002\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u306b\u306f\u3001\u6b21\u306e\u3088\u3046\u306a\u91cd\u8981\u306a\u60c5\u5831\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002</p> <ul> <li>\u3059\u3079\u3066\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u305d\u306e\u30d0\u30fc\u30b8\u30e7\u30f3</li> <li>\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30d5\u30a1\u30a4\u30eb\u540d\u3068\u30cf\u30c3\u30b7\u30e5</li> <li>\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u3001\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u305f\u3081\u306e\u5143\u306e URL\uff08\u53c2\u7167\uff1a\u9759\u7684 URL\uff09</li> <li>\u5404\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u4f9d\u5b58\u95a2\u4fc2\u3068\u30de\u30fc\u30ab\u30fc\uff08\u53c2\u7167\uff1a\u89aa\u304b\u3089\u30e1\u30bf\u30c7\u30fc\u30bf\u3092\u7d99\u627f\u3059\u308b\uff09</li> </ul> <p>\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u307e\u305f\u306f\u4e0a\u66f8\u304d\u3059\u308b\u306b\u306f\u3001<code>pdm lock</code> \u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u3001<code>pdm add</code> \u3068\u540c\u3058 \u66f4\u65b0\u6226\u7565 \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\u3055\u3089\u306b\u3001<code>pdm install</code> \u304a\u3088\u3073 <code>pdm add</code> \u30b3\u30de\u30f3\u30c9\u3082\u81ea\u52d5\u7684\u306b <code>pdm.lock</code> \u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002</p> <code>pdm.lock</code> \u3092\u30d0\u30fc\u30b8\u30e7\u30f3\u7ba1\u7406\u306b\u8ffd\u52a0\u3059\u308b\u3079\u304d\u3067\u3059\u304b\uff1f <p>\u305d\u308c\u306f\u72b6\u6cc1\u306b\u3088\u308a\u307e\u3059\u3002CI \u304c\u30ed\u30fc\u30ab\u30eb\u958b\u767a\u3068\u540c\u3058\u4f9d\u5b58\u95a2\u4fc2\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u3001\u4e88\u671f\u3057\u306a\u3044\u5931\u6557\u3092\u56de\u907f\u3057\u305f\u3044\u5834\u5408\u306f\u3001<code>pdm.lock</code> \u30d5\u30a1\u30a4\u30eb\u3092\u30d0\u30fc\u30b8\u30e7\u30f3\u7ba1\u7406\u306b\u8ffd\u52a0\u3059\u308b\u3079\u304d\u3067\u3059\u3002\u305d\u3046\u3067\u306a\u3044\u5834\u5408\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u3042\u308a\u3001CI \u304c\u30e6\u30fc\u30b6\u30fc\u30b5\u30a4\u30c8\u3067\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u6a21\u5023\u3057\u3066\u3001\u73fe\u5728\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c PyPI \u3067\u4f55\u3082\u58ca\u3055\u306a\u3044\u3053\u3068\u3092\u78ba\u8a8d\u3057\u305f\u3044\u5834\u5408\u306f\u3001<code>pdm.lock</code> \u30d5\u30a1\u30a4\u30eb\u3092\u63d0\u51fa\u3057\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"usage/lockfile/#_2","title":"\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u306b\u56fa\u5b9a\u3055\u308c\u305f\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b","text":"<p>\u3053\u308c\u3092\u884c\u3046\u305f\u3081\u306e\u3044\u304f\u3064\u304b\u306e\u985e\u4f3c\u3057\u305f\u30b3\u30de\u30f3\u30c9\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u308f\u305a\u304b\u306a\u9055\u3044\u304c\u3042\u308a\u307e\u3059\u3002</p> <ul> <li><code>pdm sync</code> \u306f\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002</li> <li><code>pdm update</code> \u306f\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u3092\u66f4\u65b0\u3057\u3001\u305d\u306e\u5f8c <code>pdm sync</code> \u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</li> <li><code>pdm install</code> \u306f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30d5\u30a1\u30a4\u30eb\u306e\u5909\u66f4\u3092\u78ba\u8a8d\u3057\u3001\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u3092\u66f4\u65b0\u3057\u3001\u305d\u306e\u5f8c <code>pdm sync</code> \u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</li> </ul> <p><code>pdm sync</code> \u306b\u306f\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305f\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u7ba1\u7406\u3059\u308b\u305f\u3081\u306e\u3044\u304f\u3064\u304b\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3082\u3042\u308a\u307e\u3059\u3002</p> <ul> <li><code>--clean</code>: \u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u306b\u542b\u307e\u308c\u3066\u3044\u306a\u3044\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u524a\u9664\u3057\u307e\u3059\u3002</li> <li><code>--clean-unselected</code>\uff08\u307e\u305f\u306f <code>--only-keep</code>\uff09: <code>--clean</code> \u306e\u3088\u308a\u5fb9\u5e95\u7684\u306a\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u3001<code>-G</code>\u3001<code>-d</code>\u3001\u304a\u3088\u3073 <code>--prod</code> \u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u6307\u5b9a\u3055\u308c\u305f\u30b0\u30eb\u30fc\u30d7\u306b\u542b\u307e\u308c\u3066\u3044\u306a\u3044\u30d1\u30c3\u30b1\u30fc\u30b8\u3082\u524a\u9664\u3057\u307e\u3059\u3002 \u6ce8\u610f: \u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001<code>pdm sync</code> \u306f\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u3059\u3079\u3066\u306e\u30b0\u30eb\u30fc\u30d7\u3092\u9078\u629e\u3059\u308b\u305f\u3081\u3001<code>-G</code>\u3001<code>-d</code>\u3001\u304a\u3088\u3073 <code>--prod</code> \u304c\u4f7f\u7528\u3055\u308c\u306a\u3044\u9650\u308a\u3001<code>--clean-unselected</code> \u306f <code>--clean</code> \u3068\u540c\u3058\u3067\u3059\u3002</li> </ul>"},{"location":"usage/lockfile/#_3","title":"\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u306e\u30cf\u30c3\u30b7\u30e5","text":"<p>\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001<code>pdm install</code> \u306f\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u304c <code>pyproject.toml</code> \u306e\u5185\u5bb9\u3068\u4e00\u81f4\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u306b <code>pyproject.toml</code> \u306e\u30b3\u30f3\u30c6\u30f3\u30c4\u30cf\u30c3\u30b7\u30e5\u3092\u4fdd\u5b58\u3059\u308b\u3053\u3068\u3067\u884c\u308f\u308c\u307e\u3059\u3002</p> <p>\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u306e\u30cf\u30c3\u30b7\u30e5\u304c\u6700\u65b0\u304b\u3069\u3046\u304b\u3092\u78ba\u8a8d\u3059\u308b\u306b\u306f:</p> <pre><code>pdm lock --check\n</code></pre> <p>\u4f9d\u5b58\u95a2\u4fc2\u3092\u5909\u66f4\u305b\u305a\u306b\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u3092\u66f4\u65b0\u3057\u305f\u3044\u5834\u5408\u306f\u3001<code>--refresh</code> \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002</p> <pre><code>pdm lock --refresh\n</code></pre> <p>\u3053\u306e\u30b3\u30de\u30f3\u30c9\u306f\u3001\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u306b\u8a18\u9332\u3055\u308c\u305f\u3059\u3079\u3066\u306e\u30d5\u30a1\u30a4\u30eb\u30cf\u30c3\u30b7\u30e5\u3082\u66f4\u65b0\u3057\u307e\u3059\u3002</p>"},{"location":"usage/lockfile/#_4","title":"\u5225\u306e\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\u3057\u3066\u4f7f\u7528\u3059\u308b","text":"<p>\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001PDM \u306f\u73fe\u5728\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3042\u308b <code>pdm.lock</code> \u3092\u4f7f\u7528\u3057\u307e\u3059\u3002<code>-L/--lockfile</code> \u30aa\u30d7\u30b7\u30e7\u30f3\u307e\u305f\u306f <code>PDM_LOCKFILE</code> \u74b0\u5883\u5909\u6570\u3092\u4f7f\u7528\u3057\u3066\u5225\u306e\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002</p> <pre><code>pdm install --lockfile my-lockfile.lock\n</code></pre> <p>\u3053\u306e\u30b3\u30de\u30f3\u30c9\u306f\u3001<code>pdm.lock</code> \u306e\u4ee3\u308f\u308a\u306b <code>my-lockfile.lock</code> \u304b\u3089\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002</p> <p>\u4ee3\u66ff\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u306f\u3001\u7570\u306a\u308b\u74b0\u5883\u306b\u5bfe\u3057\u3066\u7af6\u5408\u3059\u308b\u4f9d\u5b58\u95a2\u4fc2\u304c\u5b58\u5728\u3059\u308b\u5834\u5408\u306b\u5f79\u7acb\u3061\u307e\u3059\u3002\u3053\u306e\u5834\u5408\u3001\u305d\u308c\u3089\u3092\u5168\u4f53\u3068\u3057\u3066\u30ed\u30c3\u30af\u3059\u308b\u3068\u3001PDM \u306f\u30a8\u30e9\u30fc\u3092\u767a\u751f\u3055\u305b\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u3001\u4f9d\u5b58\u95a2\u4fc2\u30b0\u30eb\u30fc\u30d7\u306e\u30b5\u30d6\u30bb\u30c3\u30c8\u3092\u9078\u629e\u3057\u3066\u5225\u3005\u306b\u30ed\u30c3\u30af\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>\u73fe\u5b9f\u7684\u306a\u4f8b\u3068\u3057\u3066\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c <code>werkzeug</code> \u306e\u30ea\u30ea\u30fc\u30b9\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u4f9d\u5b58\u3057\u3066\u304a\u308a\u3001\u958b\u767a\u4e2d\u306b\u30ed\u30fc\u30ab\u30eb\u306e\u958b\u767a\u4e2d\u306e\u30b3\u30d4\u30fc\u3068\u4e00\u7dd2\u306b\u4f5c\u696d\u3057\u305f\u3044\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002\u6b21\u306e\u3088\u3046\u306b <code>pyproject.toml</code> \u306b\u8ffd\u52a0\u3067\u304d\u307e\u3059\u3002</p> <pre><code>[project]\nrequires-python = \"&gt;=3.7\"\ndependencies = [\"werkzeug\"]\n\n[tool.pdm.dev-dependencies]\ndev = [\"werkzeug @ file:///${PROJECT_ROOT}/dev/werkzeug\"]\n</code></pre> <p>\u6b21\u306b\u3001\u7570\u306a\u308b\u76ee\u7684\u306e\u305f\u3081\u306b\u7570\u306a\u308b\u30aa\u30d7\u30b7\u30e7\u30f3\u3067 <code>pdm lock</code> \u3092\u5b9f\u884c\u3057\u3066\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u3092\u751f\u6210\u3057\u307e\u3059\u3002</p> <pre><code># \u30c7\u30d5\u30a9\u30eb\u30c8 + \u958b\u767a\u3092\u30ed\u30c3\u30af\u3057\u3001pdm.lock \u306b\u66f8\u304d\u8fbc\u307f\u307e\u3059\u3002\n# \u30ed\u30fc\u30ab\u30eb\u30b3\u30d4\u30fc\u306e werkzeug \u3092\u56fa\u5b9a\u3057\u307e\u3059\u3002\npdm lock\n# \u30c7\u30d5\u30a9\u30eb\u30c8\u3092\u30ed\u30c3\u30af\u3057\u3001pdm.prod.lock \u306b\u66f8\u304d\u8fbc\u307f\u307e\u3059\u3002\n# \u30ea\u30ea\u30fc\u30b9\u30d0\u30fc\u30b8\u30e7\u30f3\u306e werkzeug \u3092\u56fa\u5b9a\u3057\u307e\u3059\u3002\npdm lock --prod -L pdm.prod.lock\n</code></pre> <p>\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u306e <code>metadata.groups</code> \u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u78ba\u8a8d\u3057\u3066\u3001\u3069\u306e\u30b0\u30eb\u30fc\u30d7\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u304b\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</p>"},{"location":"usage/lockfile/#_5","title":"\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u3092\u66f8\u304d\u8fbc\u307e\u306a\u3044\u30aa\u30d7\u30b7\u30e7\u30f3","text":"<p>\u4f9d\u5b58\u95a2\u4fc2\u3092\u8ffd\u52a0\u307e\u305f\u306f\u66f4\u65b0\u3059\u308b\u969b\u306b\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u3092\u66f4\u65b0\u3057\u305f\u304f\u306a\u3044\u5834\u5408\u3084\u3001<code>pdm.lock</code> \u3092\u751f\u6210\u3057\u305f\u304f\u306a\u3044\u5834\u5408\u306f\u3001<code>--frozen-lockfile</code> \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002</p> <pre><code>pdm add --frozen-lockfile flask\n</code></pre> <p>\u3053\u306e\u5834\u5408\u3001\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u304c\u5b58\u5728\u3059\u308b\u5834\u5408\u306f\u8aad\u307f\u53d6\u308a\u5c02\u7528\u306b\u306a\u308a\u3001\u66f8\u304d\u8fbc\u307f\u64cd\u4f5c\u306f\u884c\u308f\u308c\u307e\u305b\u3093\u3002 \u305f\u3060\u3057\u3001\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u4f9d\u5b58\u95a2\u4fc2\u306e\u89e3\u6c7a\u30b9\u30c6\u30c3\u30d7\u306f\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"usage/lockfile/#_6","title":"\u30ed\u30c3\u30af\u6226\u7565","text":"<p>\u73fe\u5728\u3001\u30ed\u30c3\u30af\u306e\u52d5\u4f5c\u3092\u5236\u5fa1\u3059\u308b\u305f\u3081\u306e 3 \u3064\u306e\u30d5\u30e9\u30b0\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002<code>cross_platform</code>\u3001<code>static_urls</code>\u3001\u304a\u3088\u3073 <code>direct_minimal_versions</code> \u3067\u3001\u305d\u308c\u305e\u308c\u306e\u610f\u5473\u306f\u6b21\u306e\u3068\u304a\u308a\u3067\u3059\u3002 \u3053\u308c\u3089\u306e\u30d5\u30e9\u30b0\u3092 <code>--strategy/-S</code> \u30aa\u30d7\u30b7\u30e7\u30f3\u3067 <code>pdm lock</code> \u306b\u6e21\u3059\u3053\u3068\u3067\u30011 \u3064\u4ee5\u4e0a\u306e\u30d5\u30e9\u30b0\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002\u30ab\u30f3\u30de\u533a\u5207\u308a\u306e\u30ea\u30b9\u30c8\u3092\u6307\u5b9a\u3059\u308b\u304b\u3001\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u8907\u6570\u56de\u6e21\u3059\u3053\u3068\u3067\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002 \u3053\u308c\u3089\u306e\u30b3\u30de\u30f3\u30c9\u306f\u540c\u3058\u65b9\u6cd5\u3067\u6a5f\u80fd\u3057\u307e\u3059\u3002</p> <pre><code>pdm lock -S cross_platform,static_urls\npdm lock -S cross_platform -S static_urls\n</code></pre> <p>\u30d5\u30e9\u30b0\u306f\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u306b\u30a8\u30f3\u30b3\u30fc\u30c9\u3055\u308c\u3001\u6b21\u56de <code>pdm lock</code> \u3092\u5b9f\u884c\u3059\u308b\u3068\u304d\u306b\u8aad\u307f\u53d6\u3089\u308c\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u30d5\u30e9\u30b0\u3092\u7121\u52b9\u306b\u3059\u308b\u306b\u306f\u3001\u30d5\u30e9\u30b0\u540d\u306e\u524d\u306b <code>no_</code> \u3092\u4ed8\u3051\u307e\u3059\u3002</p> <pre><code>pdm lock -S no_cross_platform\n</code></pre> <p>\u3053\u306e\u30b3\u30de\u30f3\u30c9\u306f\u3001\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u3092\u30af\u30ed\u30b9\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u306b\u3057\u307e\u305b\u3093\u3002</p>"},{"location":"usage/lockfile/#_7","title":"\u30af\u30ed\u30b9\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0","text":"<p>Added in version 2.6.0</p> <p>2.17.0 \u3067\u975e\u63a8\u5968</p> <p>\u65b0\u3057\u3044\u52d5\u4f5c\u306b\u3064\u3044\u3066\u306f\u3001\u7279\u5b9a\u306e\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u307e\u305f\u306f Python \u30d0\u30fc\u30b8\u30e7\u30f3\u7528\u306b\u30ed\u30c3\u30af\u3059\u308b \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001\u751f\u6210\u3055\u308c\u305f\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u306f \u30af\u30ed\u30b9\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0 \u3067\u3059\u3002\u3064\u307e\u308a\u3001\u4f9d\u5b58\u95a2\u4fc2\u3092\u89e3\u6c7a\u3059\u308b\u969b\u306b\u73fe\u5728\u306e\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u306f\u8003\u616e\u3055\u308c\u307e\u305b\u3093\u3002\u7d50\u679c\u306e\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u306b\u306f\u3001\u3059\u3079\u3066\u306e\u53ef\u80fd\u306a\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u304a\u3088\u3073 Python \u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u30db\u30a4\u30fc\u30eb\u3068\u4f9d\u5b58\u95a2\u4fc2\u304c\u542b\u307e\u308c\u307e\u3059\u3002 \u305f\u3060\u3057\u3001\u30ea\u30ea\u30fc\u30b9\u306b\u3059\u3079\u3066\u306e\u30db\u30a4\u30fc\u30eb\u304c\u542b\u307e\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u3001\u3053\u308c\u306b\u3088\u308a\u8aa4\u3063\u305f\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u304c\u751f\u6210\u3055\u308c\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002 \u3053\u308c\u3092\u56de\u907f\u3059\u308b\u306b\u306f\u3001PDM \u306b \u3053\u306e\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0 \u306e\u307f\u3067\u6a5f\u80fd\u3059\u308b\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3001\u73fe\u5728\u306e\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u306b\u95a2\u9023\u3057\u306a\u3044\u30db\u30a4\u30fc\u30eb\u3092\u30c8\u30ea\u30df\u30f3\u30b0\u3059\u308b\u3088\u3046\u306b\u6307\u793a\u3067\u304d\u307e\u3059\u3002 \u3053\u308c\u306f\u3001<code>pdm lock</code> \u306b <code>--strategy no_cross_platform</code> \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6e21\u3059\u3053\u3068\u3067\u884c\u3048\u307e\u3059\u3002</p> <pre><code>pdm lock --strategy no_cross_platform\n</code></pre>"},{"location":"usage/lockfile/#url","title":"\u9759\u7684 URL","text":"<p>Added in version 2.8.0</p> <p>\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001PDM \u306f\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u306b\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30d5\u30a1\u30a4\u30eb\u540d\u306e\u307f\u3092\u4fdd\u5b58\u3057\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u7570\u306a\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u9593\u3067\u306e\u518d\u5229\u7528\u304c\u5bb9\u6613\u306b\u306a\u308a\u307e\u3059\u3002 \u305f\u3060\u3057\u3001\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u306b\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u9759\u7684 URL \u3092\u4fdd\u5b58\u3057\u305f\u3044\u5834\u5408\u306f\u3001<code>pdm lock</code> \u306b <code>--strategy static_urls</code> \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>pdm lock --strategy static_urls\n</code></pre> <p>\u8a2d\u5b9a\u306f\u4fdd\u5b58\u3055\u308c\u3001\u540c\u3058\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u306b\u5bfe\u3057\u3066\u8a18\u61b6\u3055\u308c\u307e\u3059\u3002<code>--strategy no_static_urls</code> \u3092\u6e21\u3057\u3066\u7121\u52b9\u306b\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"usage/lockfile/#_8","title":"\u76f4\u63a5\u6700\u5c0f\u30d0\u30fc\u30b8\u30e7\u30f3","text":"<p>Added in version 2.10.0</p> <p><code>--strategy direct_minimal_versions</code> \u3092\u6e21\u3059\u3053\u3068\u3067\u6709\u52b9\u306b\u3059\u308b\u3068\u3001<code>pyproject.toml</code> \u306b\u6307\u5b9a\u3055\u308c\u305f\u4f9d\u5b58\u95a2\u4fc2\u306f\u3001\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u306f\u306a\u304f\u3001\u5229\u7528\u53ef\u80fd\u306a\u6700\u5c0f\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u89e3\u6c7a\u3055\u308c\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u4f9d\u5b58\u95a2\u4fc2\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u7bc4\u56f2\u5185\u3067\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4e92\u63db\u6027\u3092\u30c6\u30b9\u30c8\u3057\u305f\u3044\u5834\u5408\u306b\u5f79\u7acb\u3061\u307e\u3059\u3002</p> <p>\u305f\u3068\u3048\u3070\u3001<code>pyproject.toml</code> \u306b <code>flask&gt;=2.0</code> \u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u3001\u4ed6\u306b\u4e92\u63db\u6027\u306e\u554f\u984c\u304c\u306a\u3051\u308c\u3070\u3001<code>flask</code> \u306f\u30d0\u30fc\u30b8\u30e7\u30f3 <code>2.0.0</code> \u306b\u89e3\u6c7a\u3055\u308c\u307e\u3059\u3002</p> <p>Note</p> <p>\u30d1\u30c3\u30b1\u30fc\u30b8\u4f9d\u5b58\u95a2\u4fc2\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u5236\u7d04\u306f\u5c06\u6765\u306b\u308f\u305f\u3063\u3066\u4e92\u63db\u6027\u304c\u3042\u308b\u308f\u3051\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u4f9d\u5b58\u95a2\u4fc2\u3092\u6700\u5c0f\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u89e3\u6c7a\u3059\u308b\u3068\u3001\u5f8c\u65b9\u4e92\u63db\u6027\u306e\u554f\u984c\u304c\u767a\u751f\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002 \u305f\u3068\u3048\u3070\u3001<code>flask==2.0.0</code> \u306f <code>werkzeug&gt;=2.0</code> \u3092\u8981\u6c42\u3057\u307e\u3059\u304c\u3001\u5b9f\u969b\u306b\u306f <code>Werkzeug 3.0.0</code> \u3068\u306f\u4e92\u63db\u6027\u304c\u3042\u308a\u307e\u305b\u3093\u3002\u3053\u308c\u306f\u3001\u30ea\u30ea\u30fc\u30b9\u304b\u3089 2 \u5e74\u5f8c\u306b\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u307e\u3057\u305f\u3002</p>"},{"location":"usage/lockfile/#_9","title":"\u89aa\u304b\u3089\u30e1\u30bf\u30c7\u30fc\u30bf\u3092\u7d99\u627f\u3059\u308b","text":"<p>Added in version 2.11.0</p> <p>\u4ee5\u524d\u306f\u3001<code>pdm lock</code> \u30b3\u30de\u30f3\u30c9\u306f\u30d1\u30c3\u30b1\u30fc\u30b8\u30e1\u30bf\u30c7\u30fc\u30bf\u3092\u305d\u306e\u307e\u307e\u8a18\u9332\u3057\u3066\u3044\u307e\u3057\u305f\u3002\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306b\u306f\u3001PDM \u306f\u30c8\u30c3\u30d7\u30ec\u30d9\u30eb\u306e\u8981\u4ef6\u304b\u3089\u958b\u59cb\u3057\u3001\u4f9d\u5b58\u95a2\u4fc2\u30c4\u30ea\u30fc\u306e\u30ea\u30fc\u30d5\u30ce\u30fc\u30c9\u307e\u3067\u4e0b\u306b\u5411\u304b\u3063\u3066\u30c8\u30e9\u30d0\u30fc\u30b9\u3057\u307e\u3059\u3002\u305d\u306e\u5f8c\u3001\u73fe\u5728\u306e\u74b0\u5883\u306b\u5bfe\u3057\u3066\u30de\u30fc\u30ab\u30fc\u3092\u8a55\u4fa1\u3057\u307e\u3059\u3002\u30de\u30fc\u30ab\u30fc\u304c\u6e80\u305f\u3055\u308c\u306a\u3044\u5834\u5408\u3001\u30d1\u30c3\u30b1\u30fc\u30b8\u306f\u7834\u68c4\u3055\u308c\u307e\u3059\u3002\u8a00\u3044\u63db\u3048\u308c\u3070\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306b\u8ffd\u52a0\u306e\u300c\u89e3\u6c7a\u300d\u30b9\u30c6\u30c3\u30d7\u304c\u5fc5\u8981\u3067\u3059\u3002</p> <p><code>inherit_metadata</code> \u6226\u7565\u304c\u6709\u52b9\u306b\u306a\u3063\u3066\u3044\u308b\u5834\u5408\u3001PDM \u306f\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u7956\u5148\u304b\u3089\u74b0\u5883\u30de\u30fc\u30ab\u30fc\u3092\u7d99\u627f\u304a\u3088\u3073\u30de\u30fc\u30b8\u3057\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u30de\u30fc\u30ab\u30fc\u306f\u30ed\u30c3\u30af\u6642\u306b\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u306b\u30a8\u30f3\u30b3\u30fc\u30c9\u3055\u308c\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u9ad8\u901f\u5316\u3055\u308c\u307e\u3059\u3002\u3053\u308c\u306f\u30d0\u30fc\u30b8\u30e7\u30f3 <code>2.11.0</code> \u304b\u3089\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u6709\u52b9\u306b\u306a\u3063\u3066\u304a\u308a\u3001\u8a2d\u5b9a\u3067\u3053\u306e\u6226\u7565\u3092\u7121\u52b9\u306b\u3059\u308b\u306b\u306f\u3001<code>pdm config strategy.inherit_metadata false</code> \u3092\u4f7f\u7528\u3057\u307e\u3059\u3002</p>"},{"location":"usage/lockfile/#_10","title":"\u7279\u5b9a\u306e\u65e5\u4ed8\u4ee5\u964d\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u9664\u5916\u3059\u308b","text":"<p>Added in version 2.13.0</p> <p><code>pdm lock</code> \u306b <code>--exclude-newer</code> \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6e21\u3059\u3053\u3068\u3067\u3001\u7279\u5b9a\u306e\u65e5\u4ed8\u4ee5\u964d\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u9664\u5916\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u30d3\u30eb\u30c9\u306e\u518d\u73fe\u6027\u3092\u78ba\u4fdd\u3059\u308b\u305f\u3081\u306b\u4f9d\u5b58\u95a2\u4fc2\u3092\u7279\u5b9a\u306e\u65e5\u4ed8\u306b\u30ed\u30c3\u30af\u3057\u305f\u3044\u5834\u5408\u306b\u5f79\u7acb\u3061\u307e\u3059\u3002</p> <p>\u65e5\u4ed8\u306f RFC 3339 \u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\uff08\u4f8b\uff1a<code>2006-12-02T02:07:43Z</code>\uff09\u307e\u305f\u306f\u540c\u3058\u5f62\u5f0f\u306e UTC \u65e5\u4ed8\uff08\u4f8b\uff1a<code>2006-12-02</code>\uff09\u3068\u3057\u3066\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002</p> <pre><code>pdm lock --exclude-newer 2024-01-01\n</code></pre> <p>Note</p> <p>\u30d1\u30c3\u30b1\u30fc\u30b8\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306f\u3001PEP 700 \u3067\u6307\u5b9a\u3055\u308c\u3066\u3044\u308b\u3088\u3046\u306b <code>upload-time</code> \u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u7279\u5b9a\u306e\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u306b\u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u5b58\u5728\u3057\u306a\u3044\u5834\u5408\u3001\u305d\u306e\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u306f\u5229\u7528\u3067\u304d\u306a\u3044\u3082\u306e\u3068\u3057\u3066\u6271\u308f\u308c\u307e\u3059\u3002</p>"},{"location":"usage/lockfile/#_11","title":"\u30ed\u30c3\u30af\u307e\u305f\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306e\u305f\u3081\u306e\u8a31\u5bb9\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u8a2d\u5b9a\u3059\u308b","text":"<p>\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\uff08\u30d0\u30a4\u30ca\u30ea/\u30bd\u30fc\u30b9\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\uff09\u3092\u5236\u5fa1\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u74b0\u5883\u5909\u6570 <code>PDM_NO_BINARY</code>\u3001<code>PDM_ONLY_BINARY</code>\u3001\u304a\u3088\u3073 <code>PDM_PREFER_BINARY</code> \u3092\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002</p> <p>\u5404\u74b0\u5883\u5909\u6570\u306f\u30d1\u30c3\u30b1\u30fc\u30b8\u540d\u306e\u30ab\u30f3\u30de\u533a\u5207\u308a\u30ea\u30b9\u30c8\u3067\u3059\u3002\u3059\u3079\u3066\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u9069\u7528\u3059\u308b\u306b\u306f <code>:all:</code> \u3092\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002\u305f\u3068\u3048\u3070\uff1a</p> <pre><code># werkzeug \u306e\u30d0\u30a4\u30ca\u30ea\u306f\u30ed\u30c3\u30af\u3055\u308c\u305a\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u3082\u4f7f\u7528\u3055\u308c\u307e\u305b\u3093\nPDM_NO_BINARY=werkzeug pdm add flask\n# \u30d0\u30a4\u30ca\u30ea\u306e\u307f\u304c\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u306b\u30ed\u30c3\u30af\u3055\u308c\u307e\u3059\nPDM_ONLY_BINARY=:all: pdm lock\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u306f\u30d0\u30a4\u30ca\u30ea\u306f\u4f7f\u7528\u3055\u308c\u307e\u305b\u3093\nPDM_NO_BINARY=:all: pdm install\n# \u30d0\u30a4\u30ca\u30ea\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u3092\u512a\u5148\u3057\u3001\u3088\u308a\u9ad8\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u306e sdist \u304c\u5229\u7528\u53ef\u80fd\u306a\u5834\u5408\u3067\u3082\nPDM_PREFER_BINARY=flask pdm install\n</code></pre> <p>\u3053\u308c\u3089\u306e\u5024\u3092\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e <code>pyproject.toml</code> \u306b <code>tool.pdm.resolution</code> \u30bb\u30af\u30b7\u30e7\u30f3\u306e <code>no-binary</code>\u3001<code>only-binary</code>\u3001\u304a\u3088\u3073 <code>prefer-binary</code> \u30ad\u30fc\u3067\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002 \u3053\u308c\u3089\u306f\u74b0\u5883\u5909\u6570\u3068\u540c\u3058\u5f62\u5f0f\u3092\u53d7\u3051\u5165\u308c\u3001\u30ea\u30b9\u30c8\u3082\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002</p> <pre><code>[tool.pdm.resolution]\n# werkzeug \u3068 flask \u306e\u30d0\u30a4\u30ca\u30ea\u306f\u30ed\u30c3\u30af\u3055\u308c\u305a\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u3082\u4f7f\u7528\u3055\u308c\u307e\u305b\u3093\nno-binary = \"werkzeug,flask\"\n# \u540c\u7b49\nno-binary = [\"werkzeug\", \"flask\"]\n# \u30d0\u30a4\u30ca\u30ea\u306e\u307f\u304c\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u306b\u30ed\u30c3\u30af\u3055\u308c\u307e\u3059\nonly-binary = \":all:\"\n# \u30d0\u30a4\u30ca\u30ea\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u3092\u512a\u5148\u3057\u3001\u3088\u308a\u9ad8\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u306e sdist \u304c\u5229\u7528\u53ef\u80fd\u306a\u5834\u5408\u3067\u3082\nprefer-binary = \"flask\"\n</code></pre> <p>Note</p> <p>\u5404\u74b0\u5883\u5909\u6570\u306f <code>pyproject.toml</code> \u306e\u4ee3\u66ff\u3088\u308a\u3082\u512a\u5148\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"usage/lockfile/#_12","title":"\u30d7\u30ec\u30ea\u30ea\u30fc\u30b9\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u8a31\u53ef\u3059\u308b","text":"<p><code>pyproject.toml</code> \u306b\u6b21\u306e\u8a2d\u5b9a\u3092\u542b\u3081\u3066\u6709\u52b9\u306b\u3057\u307e\u3059\u3002</p> <pre><code>[tool.pdm.resolution]\nallow-prereleases = true\n</code></pre>"},{"location":"usage/lockfile/#_13","title":"\u30ed\u30c3\u30af\u306e\u5931\u6557\u3092\u89e3\u6c7a\u3059\u308b","text":"<p>PDM \u304c\u8981\u4ef6\u3092\u6e80\u305f\u3059\u89e3\u6c7a\u7b56\u3092\u898b\u3064\u3051\u3089\u308c\u306a\u3044\u5834\u5408\u3001\u30a8\u30e9\u30fc\u3092\u767a\u751f\u3055\u305b\u307e\u3059\u3002\u305f\u3068\u3048\u3070\u3001</p> <pre><code>pdm django==3.1.4 \"asgiref&lt;3\"\n...\n\ud83d\udd12 \u30ed\u30c3\u30af\u306b\u5931\u6557\u3057\u307e\u3057\u305f\nasgiref \u306e\u89e3\u6c7a\u7b56\u3092\u898b\u3064\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u6b21\u306e\u7af6\u5408\u304c\u539f\u56e0\u3067\u3059\u3002\n    asgiref&lt;3 (\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304b\u3089)\n    asgiref&lt;4,&gt;=3.2.10 (\u5019\u88dc django 3.1.4 \u304b\u3089 https://pypi.org/simple/django/)\n\u3053\u308c\u3092\u4fee\u6b63\u3059\u308b\u306b\u306f\u3001pyproject.toml \u306e\u4f9d\u5b58\u95a2\u4fc2\u30d0\u30fc\u30b8\u30e7\u30f3\u5236\u7d04\u3092\u7de9\u548c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u305d\u308c\u304c\u4e0d\u53ef\u80fd\u306a\u5834\u5408\u306f\u3001`[tool.pdm.resolution.overrides]` \u30c6\u30fc\u30d6\u30eb\u3067\u89e3\u6c7a\u3055\u308c\u305f\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u4e0a\u66f8\u304d\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\n</code></pre> <p><code>django</code> \u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u4e0b\u3052\u308b\u304b\u3001<code>asgiref</code> \u306e\u4e0a\u9650\u3092\u524a\u9664\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u9069\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001<code>pyproject.toml</code> \u3067 \u89e3\u6c7a\u3055\u308c\u305f\u30d1\u30c3\u30b1\u30fc\u30b8\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u4e0a\u66f8\u304d \u3059\u308b\u304b\u3001\u7279\u5b9a\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092 \u30ed\u30c3\u30af\u3057\u306a\u3044 \u3053\u3068\u3082\u8a66\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"usage/lockfile/#_14","title":"\u30ed\u30c3\u30af\u3055\u308c\u305f\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5225\u306e\u5f62\u5f0f\u306b\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3059\u308b","text":"<p><code>pdm.lock</code> \u30d5\u30a1\u30a4\u30eb\u3092\u4ed6\u306e\u5f62\u5f0f\u306b\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001CI \u30d5\u30ed\u30fc\u3084\u30a4\u30e1\u30fc\u30b8\u30d3\u30eb\u30c9\u30d7\u30ed\u30bb\u30b9\u304c\u7c21\u7d20\u5316\u3055\u308c\u307e\u3059\u3002\u73fe\u5728\u3001<code>requirements.txt</code> \u5f62\u5f0f\u306e\u307f\u304c\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p> <pre><code>pdm export -o requirements.txt\n</code></pre> <p>Tip</p> <p><code>.pre-commit</code> \u30d5\u30c3\u30af \u3067 <code>pdm export</code> \u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"usage/pep582/","title":"PEP 582 \u3092\u4f7f\u7528\u3059\u308b","text":"<p>PEP 582 \u306f\u62d2\u5426\u3055\u308c\u307e\u3057\u305f</p> <p>\u3053\u308c\u306f\u62d2\u5426\u3055\u308c\u305f PEP \u3067\u3059\u3002\u3057\u304b\u3057\u3001\u3053\u306e\u6a5f\u80fd\u304c PDM \u306e\u8a95\u751f\u306e\u7406\u7531\u3067\u3042\u308b\u305f\u3081\u3001PDM \u306f\u30b5\u30dd\u30fc\u30c8\u3092\u7dad\u6301\u3057\u307e\u3059\u3002 \u4ee3\u308f\u308a\u306b \u4eee\u60f3\u74b0\u5883 \u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3092\u304a\u52e7\u3081\u3057\u307e\u3059\u3002</p> <p>PEP 582 \u3092\u4f7f\u7528\u3059\u308b\u3068\u3001\u4f9d\u5b58\u95a2\u4fc2\u306f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30eb\u30fc\u30c8\u306e <code>__pypackages__</code> \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3059\u3002PEP 582 \u3092\u30b0\u30ed\u30fc\u30d0\u30eb\u306b\u6709\u52b9\u306b\u3059\u308b \u3068\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u30fc\u3092\u4f7f\u7528\u3057\u3066\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u76f4\u63a5\u5b9f\u884c\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002</p> <p>\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u30fc\u304c\u901a\u5e38\u306e Python \u306e\u5834\u5408\u3001\u3053\u306e\u30e2\u30fc\u30c9\u304c\u6709\u52b9\u306b\u306a\u308a\u307e\u3059\u3002</p> <p>\u3055\u3089\u306b\u3001\u30de\u30b7\u30f3\u4e0a\u3067\u521d\u3081\u3066\u4f5c\u696d\u3059\u308b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u7a7a\u306e <code>__pypackages__</code> \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u5834\u5408\u3001PEP 582 \u304c\u81ea\u52d5\u7684\u306b\u6709\u52b9\u306b\u306a\u308a\u3001\u4eee\u60f3\u74b0\u5883\u306f\u4f5c\u6210\u3055\u308c\u307e\u305b\u3093\u3002</p>"},{"location":"usage/pep582/#pdm-pep-582","title":"pdm \u3067\u7ba1\u7406\u3055\u308c\u3066\u3044\u308b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067 PEP 582 \u3092\u6709\u52b9\u306b\u3059\u308b","text":"<p>pdm \u304c\u4eee\u60f3\u74b0\u5883\u306e\u4ee3\u308f\u308a\u306b PEP 582 \u3092\u4f7f\u7528\u3059\u308b\u3088\u3046\u306b\u3059\u308b\u306b\u306f\u3001<code>python.use_venv</code> \u69cb\u6210\u5909\u6570\u3092 False \u306b\u8a2d\u5b9a\u3057\u307e\u3059:</p> <pre><code>pdm config python.use_venv False\n</code></pre>"},{"location":"usage/pep582/#pep-582_1","title":"PEP 582 \u3092\u30b0\u30ed\u30fc\u30d0\u30eb\u306b\u6709\u52b9\u306b\u3059\u308b","text":"<p>Python \u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u30fc\u304c PEP 582 \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u8a8d\u8b58\u3059\u308b\u3088\u3046\u306b\u3059\u308b\u306b\u306f\u3001 <code>pdm/pep582/sitecustomize.py</code> \u3092 Python \u30e9\u30a4\u30d6\u30e9\u30ea\u691c\u7d22\u30d1\u30b9\u306b\u8ffd\u52a0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> WindowsMac \u3068 Linux <p><code>pdm --pep582</code> \u3092\u5b9f\u884c\u3059\u308b\u3060\u3051\u3067\u3001\u74b0\u5883\u5909\u6570\u304c\u81ea\u52d5\u7684\u306b\u5909\u66f4\u3055\u308c\u307e\u3059\u3002\u52b9\u679c\u3092\u767a\u63ee\u3059\u308b\u306b\u306f\u3001\u30bf\u30fc\u30df\u30ca\u30eb\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u518d\u8d77\u52d5\u3059\u308b\u3053\u3068\u3092\u5fd8\u308c\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002</p> <p>\u74b0\u5883\u5909\u6570\u3092\u5909\u66f4\u3059\u308b\u30b3\u30de\u30f3\u30c9\u306f <code>pdm --pep582 [&lt;SHELL&gt;]</code> \u3067\u8868\u793a\u3067\u304d\u307e\u3059\u3002 <code>&lt;SHELL&gt;</code> \u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u3001PDM \u306f\u3044\u304f\u3064\u304b\u306e\u63a8\u6e2c\u306b\u57fa\u3065\u3044\u3066\u9078\u629e\u3057\u307e\u3059\u3002 <code>eval \"$(pdm --pep582)\"</code> \u3092\u5b9f\u884c\u3057\u3066\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002</p> <p>\u30ed\u30b0\u30a4\u30f3\u6642\u306b\u6709\u52b9\u306b\u3059\u308b\u305f\u3081\u306b <code>.bash_profile</code>\uff08\u307e\u305f\u306f\u540c\u69d8\u306e\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\uff09\u306b\u884c\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u3092\u304a\u52e7\u3081\u3057\u307e\u3059\u3002 \u305f\u3068\u3048\u3070\u3001bash \u3067\u306f\u6b21\u306e\u3088\u3046\u306b\u3057\u307e\u3059:</p> <pre><code>pdm --pep582 &gt;&gt; ~/.bash_profile\n</code></pre> <p>\u518d\u5ea6\u3001\u52b9\u679c\u3092\u767a\u63ee\u3059\u308b\u306b\u306f\u3001\u30bf\u30fc\u30df\u30ca\u30eb\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u518d\u8d77\u52d5\u3059\u308b\u3053\u3068\u3092\u5fd8\u308c\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002</p> \u3069\u306e\u3088\u3046\u306b\u884c\u308f\u308c\u307e\u3059\u304b\uff1f <p>Python \u306e\u8d77\u52d5\u6642\u306b \u30b5\u30a4\u30c8\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u8aad\u307f\u8fbc\u307f \u306e\u304a\u304b\u3052\u3067\u3001<code>sys.path</code> \u3092\u30d1\u30c3\u30c1\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002 PDM \u306b\u540c\u68b1\u3055\u308c\u3066\u3044\u308b <code>sitecustomize.py</code> \u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\u3001\u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u30fc\u306f\u6700\u3082\u8fd1\u3044 <code>__pypackage__</code> \u30d5\u30a9\u30eb\u30c0\u30fc\u3092\u691c\u7d22\u3057\u3001\u305d\u308c\u3092 <code>sys.path</code> \u5909\u6570\u306b\u8ffd\u52a0\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"usage/pep582/#ide-pep-582","title":"IDE \u3092\u69cb\u6210\u3057\u3066 PEP 582 \u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b","text":"<p>\u73fe\u5728\u3001\u307b\u3068\u3093\u3069\u306e IDE \u306b\u306f PEP 582 \u306e\u7d44\u307f\u8fbc\u307f\u30b5\u30dd\u30fc\u30c8\u3084\u30d7\u30e9\u30b0\u30a4\u30f3\u304c\u306a\u3044\u305f\u3081\u3001\u30c4\u30fc\u30eb\u3092\u624b\u52d5\u3067\u69cb\u6210\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"usage/pep582/#pycharm","title":"PyCharm","text":"<p><code>__pypackages__/&lt;major.minor&gt;/lib</code> \u3092 \u30bd\u30fc\u30b9\u30eb\u30fc\u30c8 \u3068\u3057\u3066\u30de\u30fc\u30af\u3057\u307e\u3059\u3002 \u6b21\u306b\u3001Python \u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u30fc \u3068\u3057\u3066\u540c\u3058 <code>&lt;major.minor&gt;</code> \u30d0\u30fc\u30b8\u30e7\u30f3\u306e Python \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u9078\u629e\u3057\u307e\u3059\u3002</p> <p>\u3055\u3089\u306b\u3001\u74b0\u5883\u304b\u3089\u30c4\u30fc\u30eb\uff08\u4f8b: <code>pytest</code>\uff09\u3092\u4f7f\u7528\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u5bfe\u5fdc\u3059\u308b\u5b9f\u884c/\u30c7\u30d0\u30c3\u30b0\u69cb\u6210\u306e <code>PATH</code> \u5909\u6570\u306b <code>__pypackages__/&lt;major.minor&gt;/bin</code> \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u8ffd\u52a0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"usage/pep582/#vscode","title":"VSCode","text":"<p><code>.vscode/settings.json</code> \u306e\u30c8\u30c3\u30d7\u30ec\u30d9\u30eb\u306e dict \u306b\u6b21\u306e 2 \u3064\u306e\u30a8\u30f3\u30c8\u30ea\u3092\u8ffd\u52a0\u3057\u307e\u3059:</p> <pre><code>{\n  \"python.autoComplete.extraPaths\": [\"__pypackages__/&lt;major.minor&gt;/lib\"],\n  \"python.analysis.extraPaths\": [\"__pypackages__/&lt;major.minor&gt;/lib\"]\n}\n</code></pre> <p>\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306f\u3001\u30d7\u30e9\u30b0\u30a4\u30f3 <code>pdm-vscode</code> \u3067\u81ea\u52d5\u751f\u6210\u3067\u304d\u307e\u3059\u3002</p> <p>PEP582 \u3092\u30b0\u30ed\u30fc\u30d0\u30eb\u306b\u6709\u52b9\u306b\u3059\u308b\u3001 \u305d\u3057\u3066\u3001VSCode \u304c PEP582 \u3092\u6709\u52b9\u306b\u3057\u305f\u30e6\u30fc\u30b6\u30fc\u3068\u30b7\u30a7\u30eb\u3092\u4f7f\u7528\u3057\u3066\u5b9f\u884c\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> PEP582 \u3092\u30b0\u30ed\u30fc\u30d0\u30eb\u306b\u6709\u52b9\u306b\u3067\u304d\u307e\u305b\u3093\u304b\uff1f <p>\u4f55\u3089\u304b\u306e\u7406\u7531\u3067 PEP582 \u3092\u30b0\u30ed\u30fc\u30d0\u30eb\u306b\u6709\u52b9\u306b\u3067\u304d\u306a\u3044\u5834\u5408\u3067\u3082\u3001\u5404\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u305d\u308c\u305e\u308c\u306e \"launch\" \u3092\u69cb\u6210\u3067\u304d\u307e\u3059: <code>PYTHONPATH</code> \u74b0\u5883\u5909\u6570\u3092 <code>.vscode/launch.json</code> \u306e\u8d77\u52d5\u69cb\u6210\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002 \u305f\u3068\u3048\u3070\u3001<code>pytest</code> \u306e\u5b9f\u884c\u3092\u30c7\u30d0\u30c3\u30b0\u3059\u308b\u306b\u306f\u6b21\u306e\u3088\u3046\u306b\u3057\u307e\u3059:</p> <pre><code>{\n    \"version\": \"0.2.0\",\n    \"configurations\": [\n        {\n            \"name\": \"pytest\",\n            \"type\": \"python\",\n            \"request\": \"launch\",\n            \"module\": \"pytest\",\n            \"args\": [\"tests\"],\n            \"justMyCode\": false,\n            \"env\": {\"PYTHONPATH\": \"__pypackages__/&lt;major.minor&gt;/lib\"}\n        }\n    ]\n}\n</code></pre> <p>\u30d1\u30c3\u30b1\u30fc\u30b8\u304c <code>src</code> \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3042\u308b\u5834\u5408\u306f\u3001\u305d\u308c\u3082 <code>PYTHONPATH</code> \u306b\u8ffd\u52a0\u3057\u307e\u3059:</p> <pre><code>\"env\": {\"PYTHONPATH\": \"src:__pypackages__/&lt;major.minor&gt;/lib\"}\n</code></pre> Pylance/Pyright \u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u304b\uff1f <p><code>\"python.analysis.diagnosticMode\": \"workspace\"</code> \u3092\u69cb\u6210\u3057\u3066\u3044\u3066\u3001 \u305d\u306e\u7d50\u679c\u3068\u3057\u3066\u5927\u91cf\u306e\u30a8\u30e9\u30fc/\u8b66\u544a\u304c\u8868\u793a\u3055\u308c\u308b\u5834\u5408\u3002 \u30ef\u30fc\u30af\u30b9\u30da\u30fc\u30b9\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b <code>pyrightconfig.json</code> \u3092\u4f5c\u6210\u3057\u3001\u6b21\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u5165\u529b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059:</p> <pre><code>{\n    \"exclude\": [\"__pypackages__\"]\n}\n</code></pre> <p>\u305d\u306e\u5f8c\u3001\u8a00\u8a9e\u30b5\u30fc\u30d0\u30fc\u307e\u305f\u306f VS Code \u3092\u518d\u8d77\u52d5\u3059\u308c\u3070\u5b8c\u4e86\u3067\u3059\u3002 \u5c06\u6765\u7684\u306b\u306f (microsoft/pylance-release#1150)\u3001\u554f\u984c\u304c\u89e3\u6c7a\u3055\u308c\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002</p> Jupyter Notebook \u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u304b\uff1f <p>pdm \u3092\u4f7f\u7528\u3057\u3066 jupyter notebook \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3001python \u62e1\u5f35\u6a5f\u80fd\u3068\u4e00\u7dd2\u306b vscode \u3067\u4f7f\u7528\u3057\u305f\u3044\u5834\u5408:</p> <ol> <li><code>pdm add notebook</code> \u306a\u3069\u3092\u4f7f\u7528\u3057\u3066 notebook \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059</li> <li>\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5185\u306b\u6b21\u306e\u3088\u3046\u306a\u5185\u5bb9\u306e <code>.env</code> \u30d5\u30a1\u30a4\u30eb\u3092\u8ffd\u52a0\u3057\u307e\u3059:</li> </ol> <pre><code>PYTHONPATH=/your-workspace-path/__pypackages__/&lt;major&gt;.&lt;minor&gt;/lib\n</code></pre> <p>\u4e0a\u8a18\u304c\u307e\u3060\u6a5f\u80fd\u3057\u306a\u3044\u5834\u5408\u306f\u3001Notebook \u306e\u8d77\u52d5\u6642\u306b\u74b0\u5883\u5909\u6570\u304c\u6b63\u3057\u304f\u8aad\u307f\u8fbc\u307e\u308c\u3066\u3044\u306a\u3044\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\u6b21\u306e 2 \u3064\u306e\u56de\u907f\u7b56\u304c\u3042\u308a\u307e\u3059\u3002</p> <ol> <li>\u30bf\u30fc\u30df\u30ca\u30eb\u3067 <code>code .</code> \u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u30d1\u30b9\u304c\u6b63\u3057\u304f\u8a2d\u5b9a\u3055\u308c\u305f\u72b6\u614b\u3067\u73fe\u5728\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u65b0\u3057\u3044 VSCode \u30a6\u30a3\u30f3\u30c9\u30a6\u304c\u958b\u304d\u307e\u3059\u3002\u65b0\u3057\u3044\u30a6\u30a3\u30f3\u30c9\u30a6\u3067 Jupyter Notebook \u3092\u4f7f\u7528\u3057\u307e\u3059</li> <li>\u65b0\u3057\u3044\u30a6\u30a3\u30f3\u30c9\u30a6\u3092\u958b\u304d\u305f\u304f\u306a\u3044\u5834\u5408\u306f\u3001Jupyter Notebook \u306e\u5192\u982d\u3067\u6b21\u306e\u3088\u3046\u306b\u30d1\u30b9\u3092\u660e\u793a\u7684\u306b\u8a2d\u5b9a\u3057\u307e\u3059:</li> </ol> <pre><code>import sys\nsys.path.append('/your-workspace-path/__pypackages__/&lt;major&gt;.&lt;minor&gt;/lib')\n</code></pre> <p>\u53c2\u8003\u554f\u984c</p> PDM \u30bf\u30b9\u30af\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc <p>\u3055\u3089\u306b\u3001VSCode \u30bf\u30b9\u30af\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc\u62e1\u5f35\u6a5f\u80fd \u304c\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u53ef\u80fd\u3067\u3059\u3002</p> <p>\u3053\u308c\u306b\u3088\u308a\u3001VSCode \u304c pdm \u30b9\u30af\u30ea\u30d7\u30c8 \u3092\u81ea\u52d5\u7684\u306b\u691c\u51fa\u3057\u3001 VSCode \u30bf\u30b9\u30af \u3068\u3057\u3066\u30cd\u30a4\u30c6\u30a3\u30d6\u306b\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"usage/pep582/#neovim","title":"Neovim","text":"<p>neovim-lsp \u3092\u4f7f\u7528\u3057\u3066\u3044\u3066 pyright \u3092\u4f7f\u7528\u3057\u3066\u304a\u308a\u3001<code>__pypackages__</code> \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u30d1\u30b9\u306b\u8ffd\u52a0\u3057\u305f\u3044\u5834\u5408\u306f\u3001 \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e <code>pyproject.toml</code> \u306b\u6b21\u306e\u3088\u3046\u306b\u8ffd\u52a0\u3067\u304d\u307e\u3059\u3002</p> <pre><code>[tool.pyright]\nextraPaths = [\"__pypackages__/&lt;major.minor&gt;/lib/\"]\n</code></pre>"},{"location":"usage/pep582/#emacs","title":"Emacs","text":"<p>\u3044\u304f\u3064\u304b\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u57fa\u672c\u7684\u306b\u306f LSP \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b <code>__pypackages__</code> \u3092\u691c\u7d22\u3059\u308b\u30d1\u30b9\u306b\u8ffd\u52a0\u3059\u308b\u3088\u3046\u306b\u6307\u793a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u4ee5\u4e0b\u306f\u5229\u7528\u53ef\u80fd\u306a\u30aa\u30d7\u30b7\u30e7\u30f3\u306e\u3044\u304f\u3064\u304b\u3067\u3059:</p>"},{"location":"usage/pep582/#pyprojecttoml-pyright","title":"<code>pyproject.toml</code> \u3068 pyright \u3092\u4f7f\u7528\u3059\u308b","text":"<p>\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e <code>pyproject.toml</code> \u306b\u6b21\u306e\u3088\u3046\u306b\u8ffd\u52a0\u3057\u307e\u3059:</p> <pre><code>[tool.pyright]\nextraPaths = [\"__pypackages__/&lt;major.minor&gt;/lib/\"]\n</code></pre>"},{"location":"usage/pep582/#eglot-pyright","title":"eglot + pyright","text":"<p>pyright \u3068 eglot\uff08Emacs 29 \u306b\u542b\u307e\u308c\u3066\u3044\u307e\u3059\uff09\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u3001\u8a2d\u5b9a\u306b\u6b21\u306e\u3088\u3046\u306b\u8ffd\u52a0\u3057\u307e\u3059:</p> <pre><code>(defun get-pdm-packages-path ()\n  \"\u73fe\u5728\u306e PDM \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30d1\u30b9\u3092\u898b\u3064\u3051\u307e\u3059\u3002\"\n  (let ((packages-path (string-trim (shell-command-to-string \"pdm info --packages\"))))\n    (concat packages-path \"/lib\")))\n\n(defun my/eglot-workspace-config (server)\n  \"\u73fe\u5728\u306e PDM \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u305f\u3081\u306b\u3001\u52d5\u7684\u306b Python LSP \u69cb\u6210\u3092\u751f\u6210\u3057\u307e\u3059\u3002\"\n  `(:python\\.analysis (:extraPaths ,(vector (get-pdm-packages-path)))))\n\n(setq-default eglot-workspace-configuration #'my/eglot-workspace-config)\n</code></pre> <p>pyright \u3092\u30b0\u30ed\u30fc\u30d0\u30eb\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u304b\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\uff08\u304a\u305d\u3089\u304f\u958b\u767a\u4f9d\u5b58\u95a2\u4fc2\u3068\u3057\u3066\uff09\u3002\u6b21\u306e\u3088\u3046\u306b\u8ffd\u52a0\u3067\u304d\u307e\u3059:</p> <pre><code>pdm add --dev --group devel pyright\n</code></pre>"},{"location":"usage/pep582/#lsp-mode-lsp-python-ms","title":"LSP-Mode + lsp-python-ms","text":"<p>\u4ee5\u4e0b\u306f\u3001Emacs \u3067 lsp-python-ms \u3092\u4f7f\u7528\u3057\u3066 PDM \u3092\u52d5\u4f5c\u3055\u305b\u308b\u65b9\u6cd5\u3092\u793a\u3059\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u30b9\u30cb\u30da\u30c3\u30c8\u3067\u3059\u3002@linw1995 \u306b\u3088\u3063\u3066\u63d0\u4f9b\u3055\u308c\u307e\u3057\u305f\u3002</p> <pre><code>  ;; TODO: \u7d50\u679c\u3092\u30ad\u30e3\u30c3\u30b7\u30e5\u3059\u308b\n  (defun linw1995/pdm-get-python-executable (&amp;optional dir)\n    (let ((pdm-get-python-cmd \"pdm info --python\"))\n      (string-trim\n       (shell-command-to-string\n        (if dir\n            (concat \"cd \"\n                    dir\n                    \" &amp;&amp; \"\n                    pdm-get-python-cmd)\n          pdm-get-python-cmd)))))\n\n  (defun linw1995/pdm-get-packages-path (&amp;optional dir)\n    (let ((pdm-get-packages-cmd \"pdm info --packages\"))\n      (concat (string-trim\n               (shell-command-to-string\n                (if dir\n                    (concat \"cd \"\n                            dir\n                            \" &amp;&amp; \"\n                            pdm-get-packages-cmd)\n                  pdm-get-packages-cmd)))\n              \"/lib\")))\n\n  (use-package lsp-python-ms\n    :ensure t\n    :init (setq lsp-python-ms-auto-install-server t)\n    :hook (python-mode\n           . (lambda ()\n               (setq lsp-python-ms-python-executable (linw1995/pdm-get-python-executable))\n               (setq lsp-python-ms-extra-paths (vector (linw1995/pdm-get-packages-path)))\n               (require 'lsp-python-ms)\n               (lsp))))  ; \u307e\u305f\u306f lsp-deferred\n</code></pre>"},{"location":"usage/project/","title":"\u65b0\u3057\u3044\u30d7\u30ed\u30b8\u30a7\u30af\u30c8","text":"<p>\u307e\u305a\u3001<code>pdm init</code> \u3092\u4f7f\u7528\u3057\u3066\u65b0\u3057\u3044\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059:</p> <pre><code>mkdir my-project &amp;&amp; cd my-project\npdm init\n</code></pre> <p>\u3044\u304f\u3064\u304b\u306e\u8cea\u554f\u306b\u7b54\u3048\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001PDM \u304c <code>pyproject.toml</code> \u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\u306e\u306b\u5f79\u7acb\u3061\u307e\u3059\u3002 <code>pdm init</code> \u306e\u8a73\u7d30\u306a\u4f7f\u7528\u65b9\u6cd5\u306b\u3064\u3044\u3066\u306f\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304b\u3089\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3059\u308b \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"usage/project/#python","title":"Python \u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u30fc\u3092\u9078\u629e\u3059\u308b","text":"<p>\u307e\u305a\u3001\u30de\u30b7\u30f3\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b Python \u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u30ea\u30b9\u30c8\u304b\u3089 Python \u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u30fc\u3092\u9078\u629e\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u30fc\u306e\u30d1\u30b9\u306f <code>.pdm-python</code> \u306b\u4fdd\u5b58\u3055\u308c\u3001\u5f8c\u7d9a\u306e\u30b3\u30de\u30f3\u30c9\u3067\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002\u5f8c\u3067 <code>pdm use</code> \u3092\u4f7f\u7528\u3057\u3066\u5909\u66f4\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002</p> <p>\u307e\u305f\u3001<code>PDM_PYTHON</code> \u74b0\u5883\u5909\u6570\u3092\u4ecb\u3057\u3066 Python \u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u30fc\u306e\u30d1\u30b9\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001<code>.pdm-python</code> \u306b\u4fdd\u5b58\u3055\u308c\u305f\u30d1\u30b9\u306f\u7121\u8996\u3055\u308c\u307e\u3059\u3002</p> <p>\u65e2\u5b58\u306e\u74b0\u5883\u3092\u4f7f\u7528\u3059\u308b</p> <p>\u65e2\u5b58\u306e\u74b0\u5883\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3092\u9078\u629e\u3057\u305f\u5834\u5408\u3001\u305f\u3068\u3048\u3070 <code>conda</code> \u306b\u3088\u3063\u3066\u4f5c\u6210\u3055\u308c\u305f\u74b0\u5883\u3092\u518d\u5229\u7528\u3059\u308b\u5834\u5408\u3001PDM \u306f <code>pdm sync --clean</code> \u307e\u305f\u306f <code>pdm remove</code> \u3092\u5b9f\u884c\u3059\u308b\u3068\u304d\u306b <code>pyproject.toml</code> \u307e\u305f\u306f <code>pdm.lock</code> \u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u306a\u3044\u4f9d\u5b58\u95a2\u4fc2\u3092\u524a\u9664\u3059\u308b\u3053\u3068\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u7834\u58ca\u7684\u306a\u7d50\u679c\u304c\u751f\u3058\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\u3057\u305f\u304c\u3063\u3066\u3001\u8907\u6570\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u9593\u3067\u74b0\u5883\u3092\u5171\u6709\u3057\u306a\u3044\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"usage/project/#pdm-python","title":"PDM \u3067 Python \u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u30fc\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b","text":"<p>Added in version 2.13.0</p> <p>PDM \u306f\u3001<code>pdm python install</code> \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u3066 @indygreg's python-build-standalone \u304b\u3089\u8ffd\u52a0\u306e Python \u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u30fc\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3053\u3068\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\u305f\u3068\u3048\u3070\u3001CPython 3.9.8 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u306b\u306f:</p> <pre><code>pdm python install 3.9.8\n</code></pre> <p><code>pdm python install --list</code> \u3092\u4f7f\u7528\u3057\u3066\u3001\u5229\u7528\u53ef\u80fd\u306a\u3059\u3079\u3066\u306e Python \u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u8868\u793a\u3067\u304d\u307e\u3059\u3002</p> <p>\u3053\u308c\u306b\u3088\u308a\u3001Python \u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u30fc\u304c <code>python.install_root</code> \u69cb\u6210\u3067\u6307\u5b9a\u3055\u308c\u305f\u5834\u6240\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3059\u3002</p> <p>\u73fe\u5728\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b Python \u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u30fc\u3092\u4e00\u89a7\u8868\u793a\u3057\u307e\u3059:</p> <pre><code>pdm python list\n</code></pre> <p>\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305f Python \u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u30fc\u3092\u524a\u9664\u3057\u307e\u3059:</p> <pre><code>pdm python remove 3.9.8\n</code></pre> <p>\u30b9\u30ec\u30c3\u30c9\u30bb\u30fc\u30d5\u306a Python \u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u30fc\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059:</p> <pre><code>pdm python install 3.13t\n</code></pre> <p>Rye \u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u5171\u6709\u3059\u308b</p> <p>PDM \u306f Rye \u3068\u540c\u3058\u30bd\u30fc\u30b9\u3092\u4f7f\u7528\u3057\u3066 Python \u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u30fc\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\u540c\u6642\u306b Rye \u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u3001<code>python.install_root</code> \u3092 Rye \u3068\u540c\u3058\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u8a2d\u5b9a\u3057\u3066 Python \u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u30fc\u3092\u5171\u6709\u3067\u304d\u307e\u3059:</p> <pre><code>pdm config python.install_root ~/.rye/py\n</code></pre> <p>\u305d\u306e\u5f8c\u3001<code>rye toolchain</code> \u307e\u305f\u306f <code>pdm python</code> \u3092\u4f7f\u7528\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u7ba1\u7406\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"usage/project/#requires-python","title":"<code>requires-python</code> \u306b\u57fa\u3065\u304f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6226\u7565","text":"<p>Added in version 2.16.0</p> <p>Python <code>version</code> \u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u3001PDM \u306f <code>pyproject.toml</code> \u306e <code>requires-python</code> \u306b\u57fa\u3065\u3044\u3066\u73fe\u5728\u306e\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0/\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306e\u7d44\u307f\u5408\u308f\u305b\u306b\u6700\u9069\u306a\u3082\u306e\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3088\u3046\u3068\u3057\u307e\u3059\uff08pyproject.toml \u307e\u305f\u306f requires-python \u5c5e\u6027\u304c\u5229\u7528\u3067\u304d\u306a\u3044\u5834\u5408\u3001\u3059\u3079\u3066\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u53ef\u80fd\u306a Python \u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u30fc\u304c\u8003\u616e\u3055\u308c\u307e\u3059\uff09\u3002</p> <p>\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u6226\u7565\u306f <code>maximum</code> \u3067\u3042\u308a\u3001\u6700\u9ad8\u306e cPython \u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u30fc \u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3059\u3002</p> <p><code>minimum</code> \u304c\u597d\u307e\u308c\u308b\u5834\u5408\u306f\u3001<code>--min</code> \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u3001<code>version</code> \u3092\u7a7a\u306e\u307e\u307e\u306b\u3057\u307e\u3059\u3002</p> <pre><code>pdm python install --min\n</code></pre> <p>\u540c\u3058\u539f\u5247\u304c <code>pdm use</code> \u306b\u3082\u9069\u7528\u3055\u308c\u307e\u3059\uff08\u81ea\u52d5\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6a5f\u80fd\u3092\u542b\u3080\uff09\u3002\u3053\u308c\u306b\u3088\u308a\u3001CI/CD \u3084\u300c\u65e2\u5b58\u306e pyproject.toml \u3067\u306e\u65b0\u3057\u3044\u30b9\u30bf\u30fc\u30c8\u300d\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306b\u9069\u3057\u305f\u7121\u4eba\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7 \u30b3\u30de\u30f3\u30c9\u306b\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"usage/project/#_2","title":"\u4eee\u60f3\u74b0\u5883\u3092\u4f7f\u7528\u3059\u308b\u304b\u3069\u3046\u304b","text":"<p>Python \u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u30fc\u3092\u9078\u629e\u3057\u305f\u5f8c\u3001PDM \u306f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4eee\u60f3\u74b0\u5883\u3092\u4f5c\u6210\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u5c0b\u306d\u307e\u3059\u3002 \u306f\u3044 \u3092\u9078\u629e\u3059\u308b\u3068\u3001PDM \u306f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u4eee\u60f3\u74b0\u5883\u3092\u4f5c\u6210\u3057\u3001\u305d\u308c\u3092\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e Python \u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u30fc\u3068\u3057\u3066\u4f7f\u7528\u3057\u307e\u3059\u3002</p> <p>\u9078\u629e\u3057\u305f Python \u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u30fc\u304c\u4eee\u60f3\u74b0\u5883\u306b\u3042\u308b\u5834\u5408\u3001PDM \u306f\u305d\u308c\u3092\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u74b0\u5883\u3068\u3057\u3066\u4f7f\u7528\u3057\u3001\u4f9d\u5b58\u95a2\u4fc2\u3092\u305d\u3053\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002 \u305d\u308c\u4ee5\u5916\u306e\u5834\u5408\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30eb\u30fc\u30c8\u306b <code>__pypackages__</code> \u304c\u4f5c\u6210\u3055\u308c\u3001\u4f9d\u5b58\u95a2\u4fc2\u304c\u305d\u3053\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3059\u3002</p> <p>\u3053\u308c\u3089 2 \u3064\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u306e\u9055\u3044\u306b\u3064\u3044\u3066\u306f\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u5bfe\u5fdc\u3059\u308b\u30bb\u30af\u30b7\u30e7\u30f3\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044:</p> <ul> <li>\u4eee\u60f3\u74b0\u5883</li> <li><code>__pypackages__</code>(PEP 582)</li> </ul>"},{"location":"usage/project/#_3","title":"\u30e9\u30a4\u30d6\u30e9\u30ea\u307e\u305f\u306f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3","text":"<p>\u30e9\u30a4\u30d6\u30e9\u30ea\u3068\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u591a\u304f\u306e\u70b9\u3067\u7570\u306a\u308a\u307e\u3059\u3002\u7c21\u5358\u306b\u8a00\u3048\u3070\u3001\u30e9\u30a4\u30d6\u30e9\u30ea\u306f\u4ed6\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u3088\u3063\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304a\u3088\u3073\u4f7f\u7528\u3055\u308c\u308b\u3053\u3068\u3092\u610f\u56f3\u3057\u305f\u30d1\u30c3\u30b1\u30fc\u30b8\u3067\u3059\u3002\u307b\u3068\u3093\u3069\u306e\u5834\u5408\u3001PyPI \u306b\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3059\u308b\u5fc5\u8981\u3082\u3042\u308a\u307e\u3059\u3002\u4e00\u65b9\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u30a8\u30f3\u30c9\u30e6\u30fc\u30b6\u30fc\u306b\u76f4\u63a5\u5411\u3051\u3089\u308c\u3066\u304a\u308a\u3001\u3044\u304f\u3064\u304b\u306e\u672c\u756a\u74b0\u5883\u306b\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>PDM \u3067\u306f\u3001\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u3092\u9078\u629e\u3057\u305f\u5834\u5408\u3001PDM \u306f <code>pyproject.toml</code> \u30d5\u30a1\u30a4\u30eb\u306b <code>name</code>\u3001<code>version</code> \u30d5\u30a3\u30fc\u30eb\u30c9\u3001\u304a\u3088\u3073 \u30d3\u30eb\u30c9\u30d0\u30c3\u30af\u30a8\u30f3\u30c9 \u7528\u306e <code>[build-system]</code> \u30c6\u30fc\u30d6\u30eb\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u30d3\u30eb\u30c9\u304a\u3088\u3073\u914d\u5e03\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u5834\u5408\u306b\u306e\u307f\u5f79\u7acb\u3061\u307e\u3059\u3002\u3057\u305f\u304c\u3063\u3066\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304b\u3089\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u5909\u66f4\u3059\u308b\u5834\u5408\u306f\u3001\u3053\u308c\u3089\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u624b\u52d5\u3067 <code>pyproject.toml</code> \u306b\u8ffd\u52a0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u307e\u305f\u3001\u30e9\u30a4\u30d6\u30e9\u30ea \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306f\u3001<code>pdm install</code> \u307e\u305f\u306f <code>pdm sync</code> \u3092\u5b9f\u884c\u3059\u308b\u3068\u74b0\u5883\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3059\u3002\u305f\u3060\u3057\u3001<code>--no-self</code> \u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044\u9650\u308a\u3067\u3059\u3002</p> <p><code>pyproject.toml</code> \u306b\u306f\u3001<code>[tool.pdm]</code> \u30c6\u30fc\u30d6\u30eb\u306e\u4e0b\u306b <code>distribution</code> \u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u304c true \u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001PDM \u306f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u30e9\u30a4\u30d6\u30e9\u30ea\u3068\u3057\u3066\u6271\u3044\u307e\u3059\u3002</p>"},{"location":"usage/project/#requires-python_1","title":"<code>requires-python</code> \u3092\u6307\u5b9a\u3059\u308b","text":"<p>\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u9069\u5207\u306a <code>requires-python</code> \u5024\u3092\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u4f9d\u5b58\u95a2\u4fc2\u306e\u89e3\u6c7a\u65b9\u6cd5\u306b\u5f71\u97ff\u3092\u4e0e\u3048\u308b\u91cd\u8981\u306a\u30d7\u30ed\u30d1\u30c6\u30a3\u3067\u3059\u3002\u57fa\u672c\u7684\u306b\u3001\u5404\u30d1\u30c3\u30b1\u30fc\u30b8\u306e <code>requires-python</code> \u306f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e <code>requires-python</code> \u7bc4\u56f2\u3092\u30ab\u30d0\u30fc\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u305f\u3068\u3048\u3070\u3001\u6b21\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3092\u8003\u3048\u3066\u307f\u307e\u3057\u3087\u3046:</p> <ul> <li>\u30d7\u30ed\u30b8\u30a7\u30af\u30c8: <code>requires-python = \"&gt;=3.9\"</code></li> <li>\u30d1\u30c3\u30b1\u30fc\u30b8 <code>foo</code>: <code>requires-python = \"&gt;=3.7,&lt;3.11\"</code></li> </ul> <p>\u4f9d\u5b58\u95a2\u4fc2\u3092\u89e3\u6c7a\u3059\u308b\u3068\u3001<code>ResolutionImpossible</code> \u304c\u767a\u751f\u3057\u307e\u3059:</p> <pre><code>Unable to find a resolution because the following dependencies don't work\non all Python versions defined by the project's `requires-python`\n</code></pre> <p>\u4f9d\u5b58\u95a2\u4fc2\u306e <code>requires-python</code> \u304c <code>&gt;=3.7,&lt;3.11</code> \u3067\u3042\u308b\u305f\u3081\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e <code>requires-python</code> \u7bc4\u56f2 <code>&gt;=3.9</code> \u3092\u30ab\u30d0\u30fc\u3057\u3066\u3044\u307e\u305b\u3093\u3002\u8a00\u3044\u63db\u3048\u308c\u3070\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306f Python 3.9\u30013.10\u30013.11\uff08\u304a\u3088\u3073\u305d\u308c\u4ee5\u964d\uff09\u3067\u52d5\u4f5c\u3059\u308b\u3053\u3068\u3092\u7d04\u675f\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u4f9d\u5b58\u95a2\u4fc2\u306f Python 3.11\uff08\u307e\u305f\u306f\u305d\u308c\u4ee5\u4e0a\uff09\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u305b\u3093\u3002PDM \u306f <code>requires-python</code> \u7bc4\u56f2\u5185\u306e\u3059\u3079\u3066\u306e Python \u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u52d5\u4f5c\u3059\u308b\u30af\u30ed\u30b9\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u306e\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u3001\u6709\u52b9\u306a\u89e3\u6c7a\u7b56\u3092\u898b\u3064\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3002 \u3053\u308c\u3092\u4fee\u6b63\u3059\u308b\u306b\u306f\u3001<code>requires-python</code> \u306b\u6700\u5927\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u8ffd\u52a0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u305f\u3068\u3048\u3070\u3001<code>&gt;=3.9,&lt;3.11</code> \u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002</p> <p><code>requires-python</code> \u306e\u5024\u306f PEP 440 \u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u30d0\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a\u5b50 \u3067\u3059\u3002\u4ee5\u4e0b\u306b\u3044\u304f\u3064\u304b\u306e\u4f8b\u3092\u793a\u3057\u307e\u3059:</p> <code>requires-python</code> \u610f\u5473 <code>&gt;=3.7</code> Python 3.7 \u4ee5\u4e0a <code>&gt;=3.7,&lt;3.11</code> Python 3.7\u30013.8\u30013.9\u3001\u304a\u3088\u3073 3.10 <code>&gt;=3.6,!=3.8.*,!=3.9.*</code> Python 3.6 \u4ee5\u4e0a\u3001\u305f\u3060\u3057 3.8 \u304a\u3088\u3073 3.9 \u3092\u9664\u304f"},{"location":"usage/project/#python_1","title":"\u53e4\u3044 Python \u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u4f5c\u696d\u3059\u308b","text":"<p>Removed in version 2.19.0</p> <p>PDM \u306f\u73fe\u5728\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e Python \u30d0\u30fc\u30b8\u30e7\u30f3\u3068\u3057\u3066 3.8 \u4ee5\u4e0a\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002</p> <p>PDM \u306f Python 3.8 \u4ee5\u4e0a\u3067\u52d5\u4f5c\u3057\u307e\u3059\u304c\u3001\u4f5c\u696d\u30d7\u30ed\u30b8\u30a7\u30af\u30c8 \u306e Python \u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u4f4e\u304f\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u3042\u308a\u3001\u30d3\u30eb\u30c9\u3001\u516c\u958b\u3001\u307e\u305f\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u5834\u5408\u306f\u3001\u4f7f\u7528\u3057\u3066\u3044\u308b PEP 517 \u30d3\u30eb\u30c9\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u304c\u5fc5\u8981\u306a\u6700\u4f4e Python \u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u305f\u3068\u3048\u3070\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30d0\u30c3\u30af\u30a8\u30f3\u30c9 <code>pdm-backend</code> \u306f Python 3.7+ \u3067\u306e\u307f\u52d5\u4f5c\u3059\u308b\u305f\u3081\u3001Python 3.6 \u3067\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u5b9f\u884c\u3057\u3066 <code>pdm build</code> \u3092\u5b9f\u884c\u3059\u308b\u3068\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3059\u3002\u307b\u3068\u3093\u3069\u306e\u30e2\u30c0\u30f3\u306a\u30d3\u30eb\u30c9\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306f Python 3.6 \u4ee5\u4e0b\u306e\u30b5\u30dd\u30fc\u30c8\u3092\u7d42\u4e86\u3057\u3066\u3044\u308b\u305f\u3081\u3001Python \u30d0\u30fc\u30b8\u30e7\u30f3\u3092 3.7+ \u306b\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3059\u308b\u3053\u3068\u3092\u5f37\u304f\u304a\u52e7\u3081\u3057\u307e\u3059\u3002\u4ee5\u4e0b\u306f\u3001\u4e00\u822c\u7684\u306b\u4f7f\u7528\u3055\u308c\u308b\u30d3\u30eb\u30c9\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306e\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b Python \u7bc4\u56f2\u3067\u3059\u3002PEP 621 \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u306a\u3044\u3082\u306e\u306f\u30ea\u30b9\u30c8\u3057\u3066\u3044\u307e\u305b\u3093\u3002PDM \u306f\u305d\u308c\u3089\u3068\u9023\u643a\u3067\u304d\u306a\u3044\u305f\u3081\u3067\u3059\u3002</p> \u30d0\u30c3\u30af\u30a8\u30f3\u30c9 \u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b Python PEP 621 \u306e\u30b5\u30dd\u30fc\u30c8 <code>pdm-backend</code> <code>&gt;=3.7</code> \u306f\u3044 <code>setuptools&gt;=60</code> <code>&gt;=3.7</code> \u5b9f\u9a13\u7684 <code>hatchling</code> <code>&gt;=3.7</code> \u306f\u3044 <code>flit-core&gt;=3.4</code> <code>&gt;=3.6</code> \u306f\u3044 <code>flit-core&gt;=3.2,&lt;3.4</code> <code>&gt;=3.4</code> \u306f\u3044 <p>\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\uff08\u3064\u307e\u308a\u3001<code>name</code> \u30e1\u30bf\u30c7\u30fc\u30bf\u304c\u306a\u3044\uff09\u3067\u3042\u308b\u5834\u5408\u3001\u4e0a\u8a18\u306e\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306e\u5236\u9650\u306f\u9069\u7528\u3055\u308c\u307e\u305b\u3093\u3002\u3057\u305f\u304c\u3063\u3066\u3001\u30d3\u30eb\u30c9\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u304c\u5fc5\u8981\u306a\u3044\u5834\u5408\u306f\u3001\u4efb\u610f\u306e Python \u30d0\u30fc\u30b8\u30e7\u30f3 <code>&gt;=2.7</code> \u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"usage/project/#_4","title":"\u4ed6\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u304b\u3089\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b","text":"<p>\u3059\u3067\u306b Pipenv \u3084 Poetry \u306a\u3069\u306e\u4ed6\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u30c4\u30fc\u30eb\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u3001PDM \u306b\u79fb\u884c\u3059\u308b\u306e\u306f\u7c21\u5358\u3067\u3059\u3002 PDM \u306f <code>import</code> \u30b3\u30de\u30f3\u30c9\u3092\u63d0\u4f9b\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u624b\u52d5\u3067\u521d\u671f\u5316\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u73fe\u5728\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\u306e\u306f\u6b21\u306e\u3068\u304a\u308a\u3067\u3059:</p> <ol> <li>Pipenv \u306e <code>Pipfile</code></li> <li>Poetry \u306e <code>pyproject.toml</code> \u5185\u306e\u30bb\u30af\u30b7\u30e7\u30f3</li> <li>Flit \u306e <code>pyproject.toml</code> \u5185\u306e\u30bb\u30af\u30b7\u30e7\u30f3</li> <li>pip \u304c\u4f7f\u7528\u3059\u308b <code>requirements.txt</code> \u5f62\u5f0f</li> <li>setuptools \u306e <code>setup.py</code>\uff08\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u74b0\u5883\u306b <code>setuptools</code> \u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u3092\u884c\u3046\u306b\u306f\u3001venv \u306e\u5834\u5408\u306f <code>venv.with_pip</code> \u3092 true \u306b\u8a2d\u5b9a\u3057\u3001<code>__pypackages__</code> \u306e\u5834\u5408\u306f <code>pdm add setuptools</code> \u3092\u8a2d\u5b9a\u3057\u307e\u3059\uff09</li> </ol> <p>\u307e\u305f\u3001<code>pdm init</code> \u307e\u305f\u306f <code>pdm install</code> \u3092\u5b9f\u884c\u3057\u3066\u3044\u308b\u3068\u304d\u306b\u3001PDM \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c\u307e\u3060\u521d\u671f\u5316\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u3001PDM \u306f\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\u53ef\u80fd\u6027\u306e\u3042\u308b\u30d5\u30a1\u30a4\u30eb\u3092\u81ea\u52d5\u691c\u51fa\u3067\u304d\u307e\u3059\u3002</p> <p>Info</p> <p><code>setup.py</code> \u3092\u5909\u63db\u3059\u308b\u306b\u306f\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u30fc\u3067\u30d5\u30a1\u30a4\u30eb\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u30fc\u306b <code>setuptools</code> \u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u304a\u308a\u3001<code>setup.py</code> \u304c\u4fe1\u983c\u3067\u304d\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"usage/project/#_5","title":"\u30d0\u30fc\u30b8\u30e7\u30f3\u7ba1\u7406\u3068\u9023\u643a\u3059\u308b","text":"<p><code>pyproject.toml</code> \u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30df\u30c3\u30c8\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002<code>pdm.lock</code> \u304a\u3088\u3073 <code>pdm.toml</code> \u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30df\u30c3\u30c8\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002<code>.pdm-python</code> \u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30df\u30c3\u30c8\u3057\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002</p> <p><code>pyproject.toml</code> \u30d5\u30a1\u30a4\u30eb\u306f\u3001PDM \u306b\u5fc5\u8981\u306a\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30d3\u30eb\u30c9\u30e1\u30bf\u30c7\u30fc\u30bf\u3068\u4f9d\u5b58\u95a2\u4fc2\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u305f\u3081\u3001\u30b3\u30df\u30c3\u30c8\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u307e\u305f\u3001\u4ed6\u306e Python \u30c4\u30fc\u30eb\u306b\u3088\u3063\u3066\u69cb\u6210\u306e\u305f\u3081\u306b\u4e00\u822c\u7684\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002<code>pyproject.toml</code> \u30d5\u30a1\u30a4\u30eb\u306e\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3001Pip \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p><code>pdm.lock</code> \u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30df\u30c3\u30c8\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u3059\u3079\u3066\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u30fc\u304c\u540c\u3058\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u304c\u4fdd\u8a3c\u3055\u308c\u307e\u3059\u3002 \u4f9d\u5b58\u95a2\u4fc2\u3092\u66f4\u65b0\u3059\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066\u306f\u3001\u65e2\u5b58\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u66f4\u65b0\u3059\u308b \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p><code>pdm.toml</code> \u306b\u306f\u3044\u304f\u3064\u304b\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u5168\u4f53\u306e\u69cb\u6210\u304c\u542b\u307e\u308c\u3066\u304a\u308a\u3001\u5171\u6709\u3059\u308b\u305f\u3081\u306b\u30b3\u30df\u30c3\u30c8\u3059\u308b\u3053\u3068\u304c\u5f79\u7acb\u3064\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002</p> <p><code>.pdm-python</code> \u306f\u3001\u73fe\u5728\u306e \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u4f7f\u7528\u3055\u308c\u3066\u3044\u308b Python \u30d1\u30b9 \u3092\u4fdd\u5b58\u3057\u3001\u5171\u6709\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002</p>"},{"location":"usage/project/#python_2","title":"\u73fe\u5728\u306e Python \u74b0\u5883\u3092\u8868\u793a\u3059\u308b","text":"<pre><code>$ pdm info\nPDM version:\n  2.0.0\nPython Interpreter:\n  /opt/homebrew/opt/python@3.9/bin/python3.9 (3.9)\nProject Root:\n  /Users/fming/wkspace/github/test-pdm\nProject Packages:\n  /Users/fming/wkspace/github/test-pdm/__pypackages__/3.9\n\n# \u74b0\u5883\u60c5\u5831\u3092\u8868\u793a\u3059\u308b\n$ pdm info --env\n{\n  \"implementation_name\": \"cpython\",\n  \"implementation_version\": \"3.8.0\",\n  \"os_name\": \"nt\",\n  \"platform_machine\": \"AMD64\",\n  \"platform_release\": \"10\",\n  \"platform_system\": \"Windows\",\n  \"platform_version\": \"10.0.18362\",\n  \"python_full_version\": \"3.8.0\",\n  \"platform_python_implementation\": \"CPython\",\n  \"python_version\": \"3.8\",\n  \"sys_platform\": \"win32\"\n}\n</code></pre> <p>\u3053\u306e\u30b3\u30de\u30f3\u30c9 \u306f\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u4f7f\u7528\u3055\u308c\u3066\u3044\u308b\u30e2\u30fc\u30c9\u3092\u78ba\u8a8d\u3059\u308b\u306e\u306b\u5f79\u7acb\u3061\u307e\u3059:</p> <ul> <li>Project Packages \u304c <code>None</code> \u306e\u5834\u5408\u3001virtualenv \u30e2\u30fc\u30c9 \u304c\u6709\u52b9\u3067\u3059\u3002</li> <li>\u305d\u308c\u4ee5\u5916\u306e\u5834\u5408\u3001PEP 582 \u30e2\u30fc\u30c9 \u304c\u6709\u52b9\u3067\u3059\u3002</li> </ul> <p>\u3053\u308c\u3067\u3001\u65b0\u3057\u3044 PDM \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c\u8a2d\u5b9a\u3055\u308c\u3001<code>pyproject.toml</code> \u30d5\u30a1\u30a4\u30eb\u304c\u4f5c\u6210\u3055\u308c\u307e\u3057\u305f\u3002<code>pyproject.toml</code> \u3092\u9069\u5207\u306b\u8a18\u8ff0\u3059\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066\u306f\u3001\u30e1\u30bf\u30c7\u30fc\u30bf\u30bb\u30af\u30b7\u30e7\u30f3 \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"usage/publish/","title":"\u30d3\u30eb\u30c9\u3068\u516c\u958b","text":"<p>\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u958b\u767a\u3057\u3066\u3044\u308b\u5834\u5408\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u4f9d\u5b58\u95a2\u4fc2\u3092\u8ffd\u52a0\u3057\u3001\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u3092\u5b8c\u4e86\u3057\u305f\u5f8c\u3001\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9\u3057\u3066\u516c\u958b\u3059\u308b\u6642\u304c\u6765\u307e\u3057\u305f\u3002\u3053\u308c\u306f\u3001\u6b21\u306e\u30b3\u30de\u30f3\u30c9 1 \u3064\u3067\u7c21\u5358\u306b\u884c\u3048\u307e\u3059:</p> <pre><code>pdm publish\n</code></pre> <p>\u3053\u308c\u306b\u3088\u308a\u3001\u81ea\u52d5\u7684\u306b\u30db\u30a4\u30fc\u30eb\u3068\u30bd\u30fc\u30b9\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3 (sdist) \u304c\u30d3\u30eb\u30c9\u3055\u308c\u3001PyPI \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306b\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3055\u308c\u307e\u3059\u3002</p> <p>PyPI \u3067\u306f\u3001\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u516c\u958b\u3059\u308b\u305f\u3081\u306b API \u30c8\u30fc\u30af\u30f3\u304c\u5fc5\u8981\u3067\u3059\u3002\u30e6\u30fc\u30b6\u30fc\u540d\u3068\u3057\u3066 <code>__token__</code> \u3092\u4f7f\u7528\u3057\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u3068\u3057\u3066 API \u30c8\u30fc\u30af\u30f3\u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002</p> <p>PyPI \u4ee5\u5916\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u6307\u5b9a\u3059\u308b\u306b\u306f\u3001<code>--repository</code> \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u3001\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9 URL \u307e\u305f\u306f\u69cb\u6210\u30d5\u30a1\u30a4\u30eb\u306b\u4fdd\u5b58\u3055\u308c\u305f\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u540d\u524d\u306e\u3044\u305a\u308c\u304b\u3067\u3059\u3002</p> <pre><code>pdm publish --repository testpypi\npdm publish --repository https://test.pypi.org/legacy/\n</code></pre>"},{"location":"usage/publish/#_2","title":"\u4fe1\u983c\u3067\u304d\u308b\u30d1\u30d6\u30ea\u30c3\u30b7\u30e3\u30fc\u3067\u516c\u958b\u3059\u308b","text":"<p>\u30ea\u30ea\u30fc\u30b9\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u3067 PyPI \u30c8\u30fc\u30af\u30f3\u3092\u516c\u958b\u3059\u308b\u5fc5\u8981\u304c\u306a\u3044\u3088\u3046\u306b\u3001PyPI \u306b\u4fe1\u983c\u3067\u304d\u308b\u30d1\u30d6\u30ea\u30c3\u30b7\u30e3\u30fc\u3092\u69cb\u6210\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u3092\u884c\u3046\u306b\u306f\u3001\u30ac\u30a4\u30c9 \u306b\u5f93\u3063\u3066\u30d1\u30d6\u30ea\u30c3\u30b7\u30e3\u30fc\u3092\u8ffd\u52a0\u3057\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b GitHub Actions \u30ef\u30fc\u30af\u30d5\u30ed\u30fc\u3092\u8a18\u8ff0\u3057\u307e\u3059:</p> <pre><code>on:\n  release:\n    types: [published]\n\n\njobs:\n  pypi-publish:\n    name: upload release to PyPI\n    runs-on: ubuntu-latest\n    permissions:\n      # This permission is needed for private repositories.\n      contents: read\n      # IMPORTANT: this permission is mandatory for trusted publishing\n      id-token: write\n    steps:\n      - uses: actions/checkout@v4\n\n      - uses: pdm-project/setup-pdm@v4\n\n      - name: Publish package distributions to PyPI\n        run: pdm publish\n</code></pre>"},{"location":"usage/publish/#_3","title":"\u30d3\u30eb\u30c9\u3068\u516c\u958b\u3092\u5225\u3005\u306b\u884c\u3046","text":"<p>\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9\u3057\u3066\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3059\u308b\u306e\u3092 2 \u3064\u306e\u30b9\u30c6\u30c3\u30d7\u3067\u884c\u3046\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u524d\u306b\u30d3\u30eb\u30c9\u3055\u308c\u305f\u30a2\u30fc\u30c6\u30a3\u30d5\u30a1\u30af\u30c8\u3092\u691c\u67fb\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>pdm build\n</code></pre> <p>\u4f7f\u7528\u3055\u308c\u308b\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306b\u5fdc\u3058\u3066\u3001\u30d3\u30eb\u30c9\u30d7\u30ed\u30bb\u30b9\u3092\u5236\u5fa1\u3059\u308b\u305f\u3081\u306e\u591a\u304f\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u3042\u308a\u307e\u3059\u3002\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3001\u30d3\u30eb\u30c9\u69cb\u6210 \u30bb\u30af\u30b7\u30e7\u30f3\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>\u30a2\u30fc\u30c6\u30a3\u30d5\u30a1\u30af\u30c8\u306f <code>dist/</code> \u306b\u4f5c\u6210\u3055\u308c\u3001PyPI \u306b\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3067\u304d\u307e\u3059\u3002</p> <pre><code>pdm publish --no-build\n</code></pre>"},{"location":"usage/scripts/","title":"PDM \u30b9\u30af\u30ea\u30d7\u30c8","text":"<p>PDM \u3092\u4f7f\u7528\u3059\u308b\u3068\u3001<code>npm run</code> \u306e\u3088\u3046\u306b\u3001\u30ed\u30fc\u30ab\u30eb\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u8aad\u307f\u8fbc\u307e\u308c\u305f\u72b6\u614b\u3067\u4efb\u610f\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3084\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"usage/scripts/#_1","title":"\u4efb\u610f\u306e\u30b9\u30af\u30ea\u30d7\u30c8","text":"<pre><code>pdm run flask run -p 54321\n</code></pre> <p>\u3053\u308c\u306b\u3088\u308a\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u74b0\u5883\u5185\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u8a8d\u8b58\u3057\u305f\u74b0\u5883\u3067 <code>flask run -p 54321</code> \u304c\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"usage/scripts/#_2","title":"\u5358\u4e00\u30d5\u30a1\u30a4\u30eb\u30b9\u30af\u30ea\u30d7\u30c8","text":"<p>Added in version 2.16.0</p> <p>PDM \u306f\u3001\u30a4\u30f3\u30e9\u30a4\u30f3\u30b9\u30af\u30ea\u30d7\u30c8\u30e1\u30bf\u30c7\u30fc\u30bf \u3092\u4f7f\u7528\u3057\u3066\u5358\u4e00\u30d5\u30a1\u30a4\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002</p> <p>\u4ee5\u4e0b\u306f\u3001\u57cb\u3081\u8fbc\u307f\u30e1\u30bf\u30c7\u30fc\u30bf\u3092\u542b\u3080\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u4f8b\u3067\u3059:</p> <pre><code># test_script.py\n# /// script\n# requires-python = \"&gt;=3.11\"\n# dependencies = [\n#   \"requests&lt;3\",\n#   \"rich\",\n# ]\n# ///\n\nimport requests\nfrom rich.pretty import pprint\n\nresp = requests.get(\"https://peps.python.org/api/peps.json\")\ndata = resp.json()\npprint([(k, v[\"title\"]) for k, v in data.items()][:10])\n</code></pre> <p>\u3053\u308c\u3092 <code>pdm run test_script.py</code> \u3067\u5b9f\u884c\u3059\u308b\u3068\u3001\u6307\u5b9a\u3055\u308c\u305f\u4f9d\u5b58\u95a2\u4fc2\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305f\u4e00\u6642\u74b0\u5883\u304c\u4f5c\u6210\u3055\u308c\u3001\u30b9\u30af\u30ea\u30d7\u30c8\u304c\u5b9f\u884c\u3055\u308c\u307e\u3059:</p> <p><pre><code>[\n\u2502   ('1', 'PEP Purpose and Guidelines'),\n\u2502   ('2', 'Procedure for Adding New Modules'),\n\u2502   ('3', 'Guidelines for Handling Bug Reports'),\n\u2502   ('4', 'Deprecation of Standard Modules'),\n\u2502   ('5', 'Guidelines for Language Evolution'),\n\u2502   ('6', 'Bug Fix Releases'),\n\u2502   ('7', 'Style Guide for C Code'),\n\u2502   ('8', 'Style Guide for Python Code'),\n\u2502   ('9', 'Sample Plaintext PEP Template'),\n\u2502   ('10', 'Voting Guidelines')\n]\n</code></pre> \u524d\u56de\u4f5c\u6210\u3055\u308c\u305f\u74b0\u5883\u3092\u518d\u5229\u7528\u3057\u305f\u3044\u5834\u5408\u306f\u3001<code>--reuse-env</code> \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002 \u307e\u305f\u3001\u30b9\u30af\u30ea\u30d7\u30c8\u30e1\u30bf\u30c7\u30fc\u30bf\u306b <code>[tool.pdm]</code> \u30bb\u30af\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0\u3057\u3066 PDM \u3092\u69cb\u6210\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u4f8b\u3048\u3070:</p> <pre><code># test_script.py\n# /// script\n# requires-python = \"&gt;=3.11\"\n# dependencies = [\n#   \"requests&lt;3\",\n#   \"rich\",\n# ]\n#\n# [[tool.pdm.source]]  # \u30ab\u30b9\u30bf\u30e0\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f7f\u7528\u3059\u308b\n# url = \"https://mypypi.org/simple\"\n# name = \"pypi\"\n# ///\n</code></pre> <p>\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3001\u4ed5\u69d8 \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"usage/scripts/#_3","title":"\u30e6\u30fc\u30b6\u30fc\u30b9\u30af\u30ea\u30d7\u30c8","text":"<p>PDM \u306f\u3001<code>pyproject.toml</code> \u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306e <code>[tool.pdm.scripts]</code> \u30bb\u30af\u30b7\u30e7\u30f3\u3067\u30ab\u30b9\u30bf\u30e0\u30b9\u30af\u30ea\u30d7\u30c8\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u3082\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002</p> <p><code>[project.scripts]</code> \u3068\u6df7\u540c\u3057\u306a\u3044\u3067\u304f\u3060\u3055\u3044</p> <p><code>pyproject.toml</code> \u306b\u306f\u5225\u306e\u30d5\u30a3\u30fc\u30eb\u30c9 <code>[project.scripts]</code> \u304c\u3042\u308a\u3001\u30b9\u30af\u30ea\u30d7\u30c8\u306f <code>pdm run</code> \u3067\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u4e00\u7dd2\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308b\u30b3\u30f3\u30bd\u30fc\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002\u3057\u305f\u304c\u3063\u3066\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u81ea\u4f53\u304c\u74b0\u5883\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305f\u5f8c\u306b\u306e\u307f\u5b9f\u884c\u53ef\u80fd\u3067\u3059\u3002\u3064\u307e\u308a\u3001<code>distribution = true</code> \u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>\u5bfe\u7167\u7684\u306b\u3001<code>[tool.pdm.scripts]</code> \u306f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u5b9f\u884c\u3059\u308b\u30bf\u30b9\u30af\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u3001<code>distribution</code> \u304c <code>true</code> \u304b <code>false</code> \u304b\u306b\u95a2\u4fc2\u306a\u304f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u5bfe\u3057\u3066\u6a5f\u80fd\u3057\u307e\u3059\u3002\u30bf\u30b9\u30af\u306f\u4e3b\u306b\u958b\u767a\u304a\u3088\u3073\u30c6\u30b9\u30c8\u76ee\u7684\u306e\u305f\u3081\u306e\u3082\u306e\u3067\u3042\u308a\u3001\u5f8c\u3067\u793a\u3059\u3088\u3046\u306b\u3001\u3088\u308a\u591a\u304f\u306e\u30bf\u30a4\u30d7\u3068\u8a2d\u5b9a\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002<code>Makefile</code> \u306e\u4ee3\u66ff\u3068\u3057\u3066\u8003\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u304c\u3001<code>pyproject.toml</code> \u30d5\u30a1\u30a4\u30eb\u304c\u5b58\u5728\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <p><code>[project.scripts]</code> \u306b\u3064\u3044\u3066\u306e\u8a73\u7d30\u306a\u8aac\u660e\u306f\u3053\u3061\u3089 \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>\u6b21\u306b\u3001<code>pdm run &lt;script_name&gt;</code> \u3092\u5b9f\u884c\u3057\u3066\u3001PDM \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3067\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u547c\u3073\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u4f8b\u3048\u3070:</p> <pre><code>[tool.pdm.scripts]\nstart = \"flask run -p 54321\"\n</code></pre> <p>\u305d\u3057\u3066\u3001\u30bf\u30fc\u30df\u30ca\u30eb\u3067:</p> <pre><code>$ pdm run start\nFlask \u30b5\u30fc\u30d0\u30fc\u304c http://127.0.0.1:54321 \u3067\u958b\u59cb\u3055\u308c\u307e\u3057\u305f\n</code></pre> <p>\u5f8c\u7d9a\u306e\u5f15\u6570\u306f\u30b3\u30de\u30f3\u30c9\u306b\u8ffd\u52a0\u3055\u308c\u307e\u3059:</p> <pre><code>$ pdm run start -h 0.0.0.0\nFlask \u30b5\u30fc\u30d0\u30fc\u304c http://0.0.0.0:54321 \u3067\u958b\u59cb\u3055\u308c\u307e\u3057\u305f\n</code></pre> <p>Yarn \u306e\u3088\u3046\u306a\u30b9\u30af\u30ea\u30d7\u30c8\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8</p> <p>\u30b9\u30af\u30ea\u30d7\u30c8\u304c\u7d44\u307f\u8fbc\u307f\u307e\u305f\u306f\u30d7\u30e9\u30b0\u30a4\u30f3\u63d0\u4f9b\u306e\u30b3\u30de\u30f3\u30c9\u3068\u7af6\u5408\u3057\u306a\u3044\u9650\u308a\u3001\u3059\u3079\u3066\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u30eb\u30fc\u30c8\u30b3\u30de\u30f3\u30c9\u3068\u3057\u3066\u5229\u7528\u3067\u304d\u308b\u7d44\u307f\u8fbc\u307f\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u304c\u3042\u308a\u307e\u3059\u3002 \u3064\u307e\u308a\u3001<code>start</code> \u30b9\u30af\u30ea\u30d7\u30c8\u304c\u3042\u308b\u5834\u5408\u3001<code>pdm run start</code> \u3068 <code>pdm start</code> \u306e\u4e21\u65b9\u3092\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002 \u305f\u3060\u3057\u3001<code>install</code> \u30b9\u30af\u30ea\u30d7\u30c8\u304c\u3042\u308b\u5834\u5408\u3001<code>pdm run install</code> \u306e\u307f\u304c\u305d\u308c\u3092\u5b9f\u884c\u3057\u3001<code>pdm install</code> \u306f\u7d44\u307f\u8fbc\u307f\u306e <code>install</code> \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</p> <p>PDM \u306f 4 \u7a2e\u985e\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059:</p>"},{"location":"usage/scripts/#cmd","title":"<code>cmd</code>","text":"<p>\u30d7\u30ec\u30fc\u30f3\u30c6\u30ad\u30b9\u30c8\u30b9\u30af\u30ea\u30d7\u30c8\u306f\u901a\u5e38\u306e\u30b3\u30de\u30f3\u30c9\u3068\u3057\u3066\u6271\u308f\u308c\u307e\u3059\u304c\u3001\u660e\u793a\u7684\u306b\u6307\u5b9a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059:</p> <pre><code>[tool.pdm.scripts]\nstart = {cmd = \"flask run -p 54321\"}\n</code></pre> <p>\u5834\u5408\u306b\u3088\u3063\u3066\u306f\u3001\u30d1\u30e9\u30e1\u30fc\u30bf\u9593\u306b\u30b3\u30e1\u30f3\u30c8\u3092\u8ffd\u52a0\u3057\u305f\u3044\u5834\u5408\u306a\u3069\u3001\u30b3\u30de\u30f3\u30c9\u3092\u914d\u5217\u3068\u3057\u3066\u6307\u5b9a\u3059\u308b\u65b9\u304c\u4fbf\u5229\u3067\u3059:</p> <pre><code>[tool.pdm.scripts]\nstart = {cmd = [\n    \"flask\",\n    \"run\",\n    # \u3053\u3053\u306b\u5e38\u306b\u30dd\u30fc\u30c8 54321 \u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u306b\u95a2\u3059\u308b\u91cd\u8981\u306a\u30b3\u30e1\u30f3\u30c8\n    \"-p\", \"54321\"\n]}\n</code></pre>"},{"location":"usage/scripts/#shell","title":"<code>shell</code>","text":"<p>\u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f7f\u7528\u3057\u3066\u3001\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3084\u51fa\u529b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u306a\u3069\u306e\u30b7\u30a7\u30eb\u56fa\u6709\u306e\u30bf\u30b9\u30af\u3092\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002 \u3053\u308c\u306f\u57fa\u672c\u7684\u306b <code>subprocess.Popen()</code> \u3092 <code>shell=True</code> \u3067\u5b9f\u884c\u3057\u307e\u3059:</p> <pre><code>[tool.pdm.scripts]\nfilter_error = {shell = \"cat error.log|grep CRITICAL &gt; critical.log\"}\n</code></pre>"},{"location":"usage/scripts/#call","title":"<code>call</code>","text":"<p>\u30b9\u30af\u30ea\u30d7\u30c8\u306f <code>&lt;module_name&gt;:&lt;func_name&gt;</code> \u306e\u5f62\u5f0f\u3067 Python \u95a2\u6570\u3092\u547c\u3073\u51fa\u3059\u3088\u3046\u306b\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059:</p> <pre><code>[tool.pdm.scripts]\nfoobar = {call = \"foo_package.bar_module:main\"}\n</code></pre> <p>\u95a2\u6570\u306b\u30ea\u30c6\u30e9\u30eb\u5f15\u6570\u3092\u6e21\u3059\u3053\u3068\u3082\u3067\u304d\u307e\u3059:</p> <pre><code>[tool.pdm.scripts]\nfoobar = {call = \"foo_package.bar_module:main('dev')\"}\n</code></pre>"},{"location":"usage/scripts/#composite","title":"<code>composite</code>","text":"<p>\u3053\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u306f\u4ed6\u306e\u5b9a\u7fa9\u3055\u308c\u305f\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3067\u304d\u307e\u3059:</p> <pre><code>[tool.pdm.scripts]\nlint = \"flake8\"\ntest = \"pytest\"\nall = {composite = [\"lint\", \"test\"]}\n</code></pre> <p><code>pdm run all</code> \u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u6700\u521d\u306b <code>lint</code> \u304c\u5b9f\u884c\u3055\u308c\u3001\u6b21\u306b <code>lint</code> \u304c\u6210\u529f\u3057\u305f\u5834\u5408\u306b <code>test</code> \u304c\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002</p> <p>Added in version 2.13.0</p> <p>\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u52d5\u4f5c\u3092\u4e0a\u66f8\u304d\u3057\u3066\u3001\u5931\u6557\u5f8c\u306b\u6b8b\u308a\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u5b9f\u884c\u3092\u7d9a\u884c\u3059\u308b\u306b\u306f\u3001<code>keep_going</code> \u30aa\u30d7\u30b7\u30e7\u30f3\u3092 <code>true</code> \u306b\u8a2d\u5b9a\u3057\u307e\u3059:</p> <pre><code>[tool.pdm.scripts]\nlint = \"flake8\"\ntest = \"pytest\"\nall.composite = [\"lint\", \"test\"]\nall.keep_going = true\n</code></pre> <p><code>keep_going</code> \u304c <code>true</code> \u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u8907\u5408\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u623b\u308a\u30b3\u30fc\u30c9\u306f\u3059\u3079\u3066\u6210\u529f\u3057\u305f\u5834\u5408\u306f '0'\u3001\u307e\u305f\u306f\u6700\u5f8c\u306b\u5931\u6557\u3057\u305f\u500b\u3005\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u30b3\u30fc\u30c9\u306b\u306a\u308a\u307e\u3059\u3002</p> <p>\u547c\u3073\u51fa\u3055\u308c\u305f\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u5f15\u6570\u3092\u63d0\u4f9b\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059:</p> <pre><code>[tool.pdm.scripts]\nlint = \"flake8\"\ntest = \"pytest\"\nall = {composite = [\"lint mypackage/\", \"test -v tests/\"]}\n</code></pre> <p>Note</p> <p>\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3067\u6e21\u3055\u308c\u305f\u5f15\u6570\u306f\u3001\u547c\u3073\u51fa\u3055\u308c\u305f\u5404\u30bf\u30b9\u30af\u306b\u6e21\u3055\u308c\u307e\u3059\u3002</p> <p>\u8907\u6570\u306e\u30b3\u30de\u30f3\u30c9\u3092\u7d44\u307f\u5408\u308f\u305b\u308b\u305f\u3081\u306b <code>composite</code> \u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059:</p> <pre><code>[tool.pdm.scripts]\nmytask.composite = [\n    \"echo 'Hello'\",\n    \"echo 'World'\"\n]\n</code></pre>"},{"location":"usage/scripts/#_4","title":"\u30b9\u30af\u30ea\u30d7\u30c8\u30aa\u30d7\u30b7\u30e7\u30f3","text":""},{"location":"usage/scripts/#env","title":"<code>env</code>","text":"<p>\u73fe\u5728\u306e\u30b7\u30a7\u30eb\u3067\u8a2d\u5b9a\u3055\u308c\u305f\u3059\u3079\u3066\u306e\u74b0\u5883\u5909\u6570\u306f <code>pdm run</code> \u306b\u3088\u3063\u3066\u53c2\u7167\u3055\u308c\u3001\u5b9f\u884c\u6642\u306b\u5c55\u958b\u3055\u308c\u307e\u3059\u3002 \u3055\u3089\u306b\u3001<code>pyproject.toml</code> \u306b\u3044\u304f\u3064\u304b\u306e\u56fa\u5b9a\u74b0\u5883\u5909\u6570\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059:</p> <pre><code>[tool.pdm.scripts]\nstart.cmd = \"flask run -p 54321\"\nstart.env = {FOO = \"bar\", FLASK_DEBUG = \"1\"}\n</code></pre> <p>\u8907\u5408\u8f9e\u66f8\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u306b TOML \u306e\u69cb\u6587 \u3092\u4f7f\u7528\u3059\u308b\u65b9\u6cd5\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>\u74b0\u5883\u5909\u6570\u306e\u7f6e\u63db\u306b\u3064\u3044\u3066</p> <p>\u30b9\u30af\u30ea\u30d7\u30c8\u4ed5\u69d8\u306e\u5909\u6570\u306f\u3059\u3079\u3066\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u30bf\u30a4\u30d7\u3067\u7f6e\u63db\u3067\u304d\u307e\u3059\u3002<code>cmd</code> \u30b9\u30af\u30ea\u30d7\u30c8\u3067\u306f\u3001\u3059\u3079\u3066\u306e\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u3067 <code>${VAR}</code> \u69cb\u6587\u306e\u307f\u304c\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u307e\u3059\u304c\u3001<code>shell</code> \u30b9\u30af\u30ea\u30d7\u30c8\u3067\u306f\u69cb\u6587\u306f\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u4f9d\u5b58\u3067\u3059\u3002\u305f\u3068\u3048\u3070\u3001Windows \u306e cmd \u306f <code>%VAR%</code> \u3092\u4f7f\u7528\u3057\u3001bash \u306f <code>$VAR</code> \u3092\u4f7f\u7528\u3057\u307e\u3059\u3002</p> <p>Note</p> <p>\u8907\u5408\u30bf\u30b9\u30af\u30ec\u30d9\u30eb\u3067\u6307\u5b9a\u3055\u308c\u305f\u74b0\u5883\u5909\u6570\u306f\u3001\u547c\u3073\u51fa\u3055\u308c\u305f\u30bf\u30b9\u30af\u306b\u3088\u3063\u3066\u5b9a\u7fa9\u3055\u308c\u305f\u3082\u306e\u3092\u4e0a\u66f8\u304d\u3057\u307e\u3059\u3002</p>"},{"location":"usage/scripts/#env_file","title":"<code>env_file</code>","text":"<p>\u3059\u3079\u3066\u306e\u74b0\u5883\u5909\u6570\u3092 dotenv \u30d5\u30a1\u30a4\u30eb\u306b\u4fdd\u5b58\u3057\u3001PDM \u306b\u8aad\u307f\u53d6\u3089\u305b\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059:</p> <pre><code>[tool.pdm.scripts]\nstart.cmd = \"flask run -p 54321\"\nstart.env_file = \".env\"\n</code></pre> <p>dotenv \u30d5\u30a1\u30a4\u30eb\u5185\u306e\u5909\u6570\u306f\u65e2\u5b58\u306e\u74b0\u5883\u5909\u6570\u3092\u4e0a\u66f8\u304d\u3057\u307e\u305b\u3093\u3002 \u65e2\u5b58\u306e\u74b0\u5883\u5909\u6570\u3092\u4e0a\u66f8\u304d\u3059\u308b\u305f\u3081\u306b dotenv \u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u306f\u3001\u6b21\u306e\u3088\u3046\u306b\u3057\u307e\u3059:</p> <pre><code>[tool.pdm.scripts]\nstart.cmd = \"flask run -p 54321\"\nstart.env_file.override = \".env\"\n</code></pre> <p>\u74b0\u5883\u5909\u6570\u306e\u8aad\u307f\u8fbc\u307f\u9806\u5e8f</p> <p>\u7570\u306a\u308b\u30bd\u30fc\u30b9\u304b\u3089\u8aad\u307f\u8fbc\u307e\u308c\u308b\u74b0\u5883\u5909\u6570\u306f\u6b21\u306e\u9806\u5e8f\u3067\u8aad\u307f\u8fbc\u307e\u308c\u3001\u6700\u7d42\u7684\u306a\u30bd\u30fc\u30b9\u30ea\u30b9\u30c8\u304c\u69cb\u7bc9\u3055\u308c\u307e\u3059:</p> <ol> <li>OS \u74b0\u5883\u5909\u6570</li> <li>\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u74b0\u5883\u5909\u6570\uff08<code>PDM_PROJECT_ROOT</code>\u3001<code>PATH</code>\u3001<code>VIRTUAL_ENV</code> \u306a\u3069\uff09</li> <li><code>env_file</code> \u3067\u6307\u5b9a\u3055\u308c\u305f dotenv \u30d5\u30a1\u30a4\u30eb</li> <li><code>env</code> \u3067\u6307\u5b9a\u3055\u308c\u305f\u74b0\u5883\u5909\u6570\u30de\u30c3\u30d4\u30f3\u30b0</li> </ol> <p>\u5f8c\u306e\u30bd\u30fc\u30b9\u304b\u3089\u306e\u74b0\u5883\u5909\u6570\u306f\u3001\u524d\u306e\u30bd\u30fc\u30b9\u304b\u3089\u306e\u3082\u306e\u3092\u4e0a\u66f8\u304d\u3057\u307e\u3059\u3002 \u8907\u5408\u30bf\u30b9\u30af\u30ec\u30d9\u30eb\u3067\u6307\u5b9a\u3055\u308c\u305f dotenv \u30d5\u30a1\u30a4\u30eb\u306f\u3001\u547c\u3073\u51fa\u3055\u308c\u305f\u30bf\u30b9\u30af\u306b\u3088\u3063\u3066\u5b9a\u7fa9\u3055\u308c\u305f\u3082\u306e\u3092\u4e0a\u66f8\u304d\u3057\u307e\u3059\u3002</p> <p>\u74b0\u5883\u5909\u6570\u306f\u3001\u524d\u306e\u30bd\u30fc\u30b9\u304b\u3089\u8aad\u307f\u8fbc\u307e\u308c\u305f\u5225\u306e\u74b0\u5883\u5909\u6570\u3092\u53c2\u7167\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u305f\u3068\u3048\u3070:</p> <p><pre><code>VAR=42\nFOO=hello-${VAR}\n</code></pre> \u306f <code>FOO=hello-42</code> \u306b\u306a\u308a\u307e\u3059\u3002\u53c2\u7167\u306b\u306f <code>${VAR:-default}</code> \u69cb\u6587\u3092\u4f7f\u7528\u3057\u3066\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u3092\u542b\u3081\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"usage/scripts/#working_dir","title":"<code>working_dir</code>","text":"<p>Added in version 2.13.0</p> <p>\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u73fe\u5728\u306e\u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u8a2d\u5b9a\u3067\u304d\u307e\u3059:</p> <pre><code>[tool.pdm.scripts]\nstart.cmd = \"flask run -p 54321\"\nstart.working_dir = \"subdir\"\n</code></pre> <p>\u76f8\u5bfe\u30d1\u30b9\u306f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30eb\u30fc\u30c8\u306b\u5bfe\u3057\u3066\u89e3\u6c7a\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"usage/scripts/#site_packages","title":"<code>site_packages</code>","text":"<p>\u5b9f\u884c\u74b0\u5883\u304c\u5916\u90e8\u306e Python \u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u30fc\u304b\u3089\u9069\u5207\u306b\u5206\u96e2\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u305f\u3081\u306b\u3001 \u9078\u629e\u3055\u308c\u305f\u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u30fc\u306e site-packages \u306f <code>sys.path</code> \u306b\u8aad\u307f\u8fbc\u307e\u308c\u307e\u305b\u3093\u3002\u305f\u3060\u3057\u3001\u6b21\u306e\u3044\u305a\u308c\u304b\u306e\u6761\u4ef6\u304c\u6e80\u305f\u3055\u308c\u308b\u5834\u5408\u3092\u9664\u304d\u307e\u3059:</p> <ol> <li>\u5b9f\u884c\u53ef\u80fd\u30d5\u30a1\u30a4\u30eb\u304c <code>PATH</code> \u304b\u3089\u53d6\u5f97\u3055\u308c\u3001<code>__pypackages__</code> \u30d5\u30a9\u30eb\u30c0\u30fc\u5185\u306b\u306a\u3044\u5834\u5408\u3002</li> <li><code>-s/--site-packages</code> \u30d5\u30e9\u30b0\u304c <code>pdm run</code> \u306b\u7d9a\u304f\u5834\u5408\u3002</li> <li>\u30b9\u30af\u30ea\u30d7\u30c8\u30c6\u30fc\u30d6\u30eb\u307e\u305f\u306f\u30b0\u30ed\u30fc\u30d0\u30eb\u8a2d\u5b9a\u30ad\u30fc <code>_</code> \u306b <code>site_packages = true</code> \u304c\u3042\u308b\u5834\u5408\u3002</li> </ol> <p>PEP 582 \u304c\u6709\u52b9\u306b\u306a\u3063\u3066\u3044\u308b\u5834\u5408\uff08<code>pdm run</code> \u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u306a\u3057\u3067\u5b9f\u884c\u3055\u308c\u308b\u5834\u5408\uff09\u3001site-packages \u306f\u5e38\u306b\u8aad\u307f\u8fbc\u307e\u308c\u307e\u3059\u3002</p>"},{"location":"usage/scripts/#_5","title":"\u5171\u6709\u30aa\u30d7\u30b7\u30e7\u30f3","text":"<p><code>pdm run</code> \u3067\u5b9f\u884c\u3055\u308c\u308b\u3059\u3079\u3066\u306e\u30bf\u30b9\u30af\u306b\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u5171\u6709\u3057\u305f\u3044\u5834\u5408\u306f\u3001 <code>[tool.pdm.scripts]</code> \u30c6\u30fc\u30d6\u30eb\u306e\u7279\u5225\u306a\u30ad\u30fc <code>_</code> \u306e\u4e0b\u306b\u66f8\u304f\u3053\u3068\u304c\u3067\u304d\u307e\u3059:</p> <pre><code>[tool.pdm.scripts]\n_.env_file = \".env\"\nstart = \"flask run -p 54321\"\nmigrate_db = \"flask db upgrade\"\n</code></pre> <p>\u3055\u3089\u306b\u3001\u30bf\u30b9\u30af\u5185\u3067\u306f\u3001<code>PDM_PROJECT_ROOT</code> \u74b0\u5883\u5909\u6570\u304c\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30eb\u30fc\u30c8\u306b\u8a2d\u5b9a\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"usage/scripts/#_6","title":"\u5f15\u6570\u30d7\u30ec\u30fc\u30b9\u30db\u30eb\u30c0\u30fc","text":"<p>\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001\u3059\u3079\u3066\u306e\u30e6\u30fc\u30b6\u30fc\u63d0\u4f9b\u306e\u8ffd\u52a0\u5f15\u6570\u306f\u30b3\u30de\u30f3\u30c9\u306b\u5358\u7d14\u306b\u8ffd\u52a0\u3055\u308c\u307e\u3059\uff08\u307e\u305f\u306f <code>composite</code> \u30bf\u30b9\u30af\u306e\u5834\u5408\u306f\u3059\u3079\u3066\u306e\u30b3\u30de\u30f3\u30c9\u306b\u8ffd\u52a0\u3055\u308c\u307e\u3059\uff09\u3002</p> <p>\u30e6\u30fc\u30b6\u30fc\u63d0\u4f9b\u306e\u8ffd\u52a0\u5f15\u6570\u3092\u3088\u308a\u8a73\u7d30\u306b\u5236\u5fa1\u3057\u305f\u3044\u5834\u5408\u306f\u3001<code>{args}</code> \u30d7\u30ec\u30fc\u30b9\u30db\u30eb\u30c0\u30fc\u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002 \u3053\u308c\u306f\u3059\u3079\u3066\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u30bf\u30a4\u30d7\u3067\u5229\u7528\u53ef\u80fd\u3067\u3042\u308a\u3001\u305d\u308c\u305e\u308c\u306b\u9069\u5207\u306b\u88dc\u9593\u3055\u308c\u307e\u3059:</p> <pre><code>[tool.pdm.scripts]\ncmd = \"echo '--before {args} --after'\"\nshell = {shell = \"echo '--before {args} --after'\"}\ncomposite = {composite = [\"cmd --something\", \"shell {args}\"]}\n</code></pre> <p>\u6b21\u306e\u88dc\u9593\u304c\u751f\u6210\u3055\u308c\u307e\u3059\uff08\u3053\u308c\u3089\u306f\u5b9f\u969b\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u306f\u306a\u304f\u3001\u88dc\u9593\u3092\u8aac\u660e\u3059\u308b\u305f\u3081\u306e\u3082\u306e\u3067\u3059\uff09:</p> <pre><code>$ pdm run cmd --user --provided\n--before --user --provided --after\n$ pdm run cmd\n--before --after\n$ pdm run shell --user --provided\n--before --user --provided --after\n$ pdm run shell\n--before --after\n$ pdm run composite --user --provided\ncmd --something\nshell --before --user --provided --after\n$ pdm run composite\ncmd --something\nshell --before --after\n</code></pre> <p>\u30e6\u30fc\u30b6\u30fc\u5f15\u6570\u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306b\u4f7f\u7528\u3055\u308c\u308b\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u3092\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u63d0\u4f9b\u3067\u304d\u307e\u3059:</p> <pre><code>[tool.pdm.scripts]\ntest = \"echo '--before {args:--default --value} --after'\"\n</code></pre> <p>\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059:</p> <pre><code>$ pdm run test --user --provided\n--before --user --provided --after\n$ pdm run test\n--before --default --value --after\n</code></pre> <p>Note</p> <p>\u30d7\u30ec\u30fc\u30b9\u30db\u30eb\u30c0\u30fc\u304c\u691c\u51fa\u3055\u308c\u308b\u3068\u3001\u5f15\u6570\u306f\u8ffd\u52a0\u3055\u308c\u306a\u304f\u306a\u308a\u307e\u3059\u3002 \u3053\u308c\u306f <code>composite</code> \u30b9\u30af\u30ea\u30d7\u30c8\u306b\u3068\u3063\u3066\u91cd\u8981\u3067\u3059\u3002\u306a\u305c\u306a\u3089\u3001\u30b5\u30d6\u30bf\u30b9\u30af\u306e 1 \u3064\u3067\u30d7\u30ec\u30fc\u30b9\u30db\u30eb\u30c0\u30fc\u304c\u691c\u51fa\u3055\u308c\u308b\u3068\u3001\u5f15\u6570\u306f\u30b5\u30d6\u30bf\u30b9\u30af\u306b\u8ffd\u52a0\u3055\u308c\u306a\u304f\u306a\u308b\u305f\u3081\u3067\u3059\u3002 \u5f15\u6570\u304c\u5fc5\u8981\u306a\u3059\u3079\u3066\u306e\u30cd\u30b9\u30c8\u3055\u308c\u305f\u30b3\u30de\u30f3\u30c9\u306b\u30d7\u30ec\u30fc\u30b9\u30db\u30eb\u30c0\u30fc\u3092\u660e\u793a\u7684\u306b\u6e21\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>Note</p> <p><code>call</code> \u30b9\u30af\u30ea\u30d7\u30c8\u306f <code>{args}</code> \u30d7\u30ec\u30fc\u30b9\u30db\u30eb\u30c0\u30fc\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u305b\u3093\u3002\u3053\u308c\u3089\u306f <code>sys.argv</code> \u306b\u76f4\u63a5\u30a2\u30af\u30bb\u30b9\u3057\u3066\u8907\u96d1\u306a\u30b1\u30fc\u30b9\u3092\u51e6\u7406\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"usage/scripts/#pdm_1","title":"<code>{pdm}</code> \u30d7\u30ec\u30fc\u30b9\u30db\u30eb\u30c0\u30fc","text":"<p>\u8907\u6570\u306e PDM \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u3042\u308b\u5834\u5408\u3084\u3001<code>pdm</code> \u304c\u7570\u306a\u308b\u540d\u524d\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002 \u3053\u308c\u306f\u3001\u305f\u3068\u3048\u3070 CI/CD \u306e\u72b6\u6cc1\u3084\u3001\u7570\u306a\u308b\u30ea\u30dd\u30b8\u30c8\u30ea\u3067\u7570\u306a\u308b PDM \u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u306b\u767a\u751f\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002 \u30b9\u30af\u30ea\u30d7\u30c8\u3092\u3088\u308a\u5805\u7262\u306b\u3059\u308b\u305f\u3081\u306b\u3001\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3057\u3066\u3044\u308b PDM \u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8\u3092\u4f7f\u7528\u3059\u308b\u305f\u3081\u306b <code>{pdm}</code> \u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002 \u3053\u308c\u306f <code>{sys.executable} -m pdm</code> \u306b\u5c55\u958b\u3055\u308c\u307e\u3059\u3002</p> <pre><code>[tool.pdm.scripts]\nwhoami = { shell = \"echo `{pdm} -V` was called as '{pdm} -V'\" }\n</code></pre> <p>\u6b21\u306e\u51fa\u529b\u304c\u751f\u6210\u3055\u308c\u307e\u3059:</p> <pre><code>$ pdm whoami\nPDM, version 0.1.dev2501+g73651b7.d20231115 was called as /usr/bin/python3 -m pdm -V\n\n$ pdm2.8 whoami\nPDM, version 2.8.0 was called as &lt;snip&gt;/venvs/pdm2-8/bin/python -m pdm -V\n</code></pre> <p>Note</p> <p>\u4e0a\u8a18\u306e\u4f8b\u3067\u306f PDM 2.8 \u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u3053\u306e\u6a5f\u80fd\u306f 2.10 \u30b7\u30ea\u30fc\u30ba\u3067\u5c0e\u5165\u3055\u308c\u3001\u30b7\u30e7\u30fc\u30b1\u30fc\u30b9\u306e\u305f\u3081\u306b\u306e\u307f\u30d0\u30c3\u30af\u30dd\u30fc\u30c8\u3055\u308c\u307e\u3057\u305f\u3002</p>"},{"location":"usage/scripts/#_7","title":"\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u30ea\u30b9\u30c8\u3092\u8868\u793a\u3059\u308b","text":"<p>\u5229\u7528\u53ef\u80fd\u306a\u30b9\u30af\u30ea\u30d7\u30c8\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u306e\u30ea\u30b9\u30c8\u3092\u8868\u793a\u3059\u308b\u306b\u306f\u3001<code>pdm run --list/-l</code> \u3092\u4f7f\u7528\u3057\u307e\u3059:</p> <pre><code>$ pdm run --list\n\u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e\n\u2502 Name        \u2502 Type  \u2502 Description               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 test_cmd    \u2502 cmd   \u2502 flask db upgrade          \u2502\n\u2502 test_script \u2502 call  \u2502 call a python function    \u2502\n\u2502 test_shell  \u2502 shell \u2502 shell command             \u2502\n\u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f\n</code></pre> <p>\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u8aac\u660e\u3092\u542b\u3080 <code>help</code> \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0\u3059\u308b\u3068\u3001\u4e0a\u8a18\u306e\u51fa\u529b\u306e <code>Description</code> \u5217\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u3002</p> <p>Note</p> <p>\u540d\u524d\u304c\u30a2\u30f3\u30c0\u30fc\u30b9\u30b3\u30a2\uff08<code>_</code>\uff09\u3067\u59cb\u307e\u308b\u30bf\u30b9\u30af\u306f\u5185\u90e8\uff08\u30d8\u30eb\u30d1\u30fc\u306a\u3069\uff09\u3068\u898b\u306a\u3055\u308c\u3001\u30ea\u30b9\u30c8\u306b\u306f\u8868\u793a\u3055\u308c\u307e\u305b\u3093\u3002</p>"},{"location":"usage/scripts/#_8","title":"\u30d7\u30ec &amp; \u30dd\u30b9\u30c8\u30b9\u30af\u30ea\u30d7\u30c8","text":"<p><code>npm</code> \u306e\u3088\u3046\u306b\u3001PDM \u3082\u30d7\u30ec\u304a\u3088\u3073\u30dd\u30b9\u30c8\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u3088\u308b\u30bf\u30b9\u30af\u306e\u69cb\u6210\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u304a\u308a\u3001\u30d7\u30ec\u30b9\u30af\u30ea\u30d7\u30c8\u306f\u6307\u5b9a\u3055\u308c\u305f\u30bf\u30b9\u30af\u306e\u524d\u306b\u5b9f\u884c\u3055\u308c\u3001\u30dd\u30b9\u30c8\u30b9\u30af\u30ea\u30d7\u30c8\u306f\u5f8c\u306b\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002</p> <pre><code>[tool.pdm.scripts]\npre_compress = \"{{ `compress` \u30b9\u30af\u30ea\u30d7\u30c8\u306e\u524d\u306b\u5b9f\u884c }}\"\ncompress = \"tar czvf compressed.tar.gz data/\"\npost_compress = \"{{ `compress` \u30b9\u30af\u30ea\u30d7\u30c8\u306e\u5f8c\u306b\u5b9f\u884c }}\"\n</code></pre> <p>\u3053\u306e\u4f8b\u3067\u306f\u3001<code>pdm run compress</code> \u306f\u3053\u308c\u3089\u306e 3 \u3064\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u9806\u756a\u306b\u5b9f\u884c\u3057\u307e\u3059\u3002</p> <p>\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u306f\u65e9\u671f\u306b\u5931\u6557\u3057\u307e\u3059</p> <p>\u30d7\u30ec - \u81ea\u8eab - \u30dd\u30b9\u30c8\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3067\u306f\u3001\u5931\u6557\u304c\u767a\u751f\u3059\u308b\u3068\u5f8c\u7d9a\u306e\u5b9f\u884c\u304c\u30ad\u30e3\u30f3\u30bb\u30eb\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"usage/scripts/#_9","title":"\u30d5\u30c3\u30af\u30b9\u30af\u30ea\u30d7\u30c8","text":"<p>\u7279\u5b9a\u306e\u72b6\u6cc1\u4e0b\u3067 PDM \u306f\u3044\u304f\u3064\u304b\u306e\u7279\u5225\u306a\u30d5\u30c3\u30af\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3057\u307e\u3059:</p> <ul> <li><code>post_init</code>: <code>pdm init</code> \u306e\u5f8c\u306b\u5b9f\u884c</li> <li><code>pre_install</code>: \u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u524d\u306b\u5b9f\u884c</li> <li><code>post_install</code>: \u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5f8c\u306b\u5b9f\u884c</li> <li><code>pre_lock</code>: \u4f9d\u5b58\u95a2\u4fc2\u306e\u89e3\u6c7a\u524d\u306b\u5b9f\u884c</li> <li><code>post_lock</code>: \u4f9d\u5b58\u95a2\u4fc2\u306e\u89e3\u6c7a\u5f8c\u306b\u5b9f\u884c</li> <li><code>pre_build</code>: \u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u306e\u30d3\u30eb\u30c9\u524d\u306b\u5b9f\u884c</li> <li><code>post_build</code>: \u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u306e\u30d3\u30eb\u30c9\u5f8c\u306b\u5b9f\u884c</li> <li><code>pre_publish</code>: \u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u306e\u516c\u958b\u524d\u306b\u5b9f\u884c</li> <li><code>post_publish</code>: \u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u306e\u516c\u958b\u5f8c\u306b\u5b9f\u884c</li> <li><code>pre_script</code>: \u4efb\u610f\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u524d\u306b\u5b9f\u884c</li> <li><code>post_script</code>: \u4efb\u610f\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u5f8c\u306b\u5b9f\u884c</li> <li><code>pre_run</code>: \u30b9\u30af\u30ea\u30d7\u30c8\u306e\u547c\u3073\u51fa\u3057\u524d\u306b\u4e00\u5ea6\u5b9f\u884c</li> <li><code>post_run</code>: \u30b9\u30af\u30ea\u30d7\u30c8\u306e\u547c\u3073\u51fa\u3057\u5f8c\u306b\u4e00\u5ea6\u5b9f\u884c</li> </ul> <p>Note</p> <p>\u30d7\u30ec &amp; \u30dd\u30b9\u30c8\u30b9\u30af\u30ea\u30d7\u30c8\u306f\u5f15\u6570\u3092\u53d7\u3051\u53d6\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3002</p> <p>\u540d\u524d\u306e\u7af6\u5408\u3092\u907f\u3051\u308b</p> <p><code>[tool.pdm.scripts]</code> \u30c6\u30fc\u30d6\u30eb\u306b <code>install</code> \u30b9\u30af\u30ea\u30d7\u30c8\u304c\u5b58\u5728\u3059\u308b\u5834\u5408\u3001<code>pre_install</code> \u30b9\u30af\u30ea\u30d7\u30c8\u306f <code>pdm install</code> \u3068 <code>pdm run install</code> \u306e\u4e21\u65b9\u306b\u3088\u3063\u3066\u30c8\u30ea\u30ac\u30fc\u3055\u308c\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\u3057\u305f\u304c\u3063\u3066\u3001\u4e88\u7d04\u3055\u308c\u305f\u540d\u524d\u3092\u4f7f\u7528\u3057\u306a\u3044\u3053\u3068\u3092\u304a\u52e7\u3081\u3057\u307e\u3059\u3002</p> <p>Note</p> <p>\u8907\u5408\u30bf\u30b9\u30af\u3082\u30d7\u30ec\u304a\u3088\u3073\u30dd\u30b9\u30c8\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u6301\u3064\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u547c\u3073\u51fa\u3055\u308c\u305f\u30bf\u30b9\u30af\u306f\u305d\u308c\u305e\u308c\u306e\u30d7\u30ec\u304a\u3088\u3073\u30dd\u30b9\u30c8\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</p>"},{"location":"usage/scripts/#_10","title":"\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u30b9\u30ad\u30c3\u30d7","text":"<p>\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3059\u308b\u304c\u3001\u305d\u306e\u30d5\u30c3\u30af\u3084\u30d7\u30ec\u304a\u3088\u3073\u30dd\u30b9\u30c8\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3057\u306a\u3044\u5834\u5408\u304c\u3042\u308b\u305f\u3081\u3001 \u3059\u3079\u3066\u306e\u30d5\u30c3\u30af\u3001\u30d7\u30ec\u304a\u3088\u3073\u30dd\u30b9\u30c8\u3092\u7121\u52b9\u306b\u3059\u308b <code>--skip=:all</code> \u304c\u3042\u308a\u307e\u3059\u3002 \u307e\u305f\u3001\u3059\u3079\u3066\u306e <code>pre_*</code> \u30d5\u30c3\u30af\u3092\u30b9\u30ad\u30c3\u30d7\u3059\u308b <code>--skip=:pre</code> \u3068\u3059\u3079\u3066\u306e <code>post_*</code> \u30d5\u30c3\u30af\u3092\u30b9\u30ad\u30c3\u30d7\u3059\u308b <code>--skip=:post</code> \u3082\u3042\u308a\u307e\u3059\u3002</p> <p>\u30d7\u30ec\u30b9\u30af\u30ea\u30d7\u30c8\u306f\u5fc5\u8981\u3060\u304c\u30dd\u30b9\u30c8\u30b9\u30af\u30ea\u30d7\u30c8\u306f\u4e0d\u8981\u306a\u5834\u5408\u3084\u3001 \u8907\u5408\u30bf\u30b9\u30af\u306e\u3059\u3079\u3066\u306e\u30bf\u30b9\u30af\u3092\u5b9f\u884c\u3059\u308b\u304c\u30011 \u3064\u306e\u30bf\u30b9\u30af\u306f\u5b9f\u884c\u3057\u306a\u3044\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002 \u3053\u308c\u3089\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306e\u305f\u3081\u306b\u3001\u30b9\u30ad\u30c3\u30d7\u3059\u308b\u30bf\u30b9\u30af\u3084\u30d5\u30c3\u30af\u306e\u540d\u524d\u306e\u30ea\u30b9\u30c8\u3092\u53d7\u3051\u5165\u308c\u308b\u3088\u308a\u8a73\u7d30\u306a <code>--skip</code> \u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>pdm run --skip pre_task1,task2 my-composite\n</code></pre> <p>\u3053\u306e\u30b3\u30de\u30f3\u30c9\u306f <code>my-composite</code> \u30bf\u30b9\u30af\u3092\u5b9f\u884c\u3057\u3001<code>pre_task1</code> \u30d5\u30c3\u30af\u3068 <code>task2</code> \u304a\u3088\u3073\u305d\u306e\u30d5\u30c3\u30af\u3092\u30b9\u30ad\u30c3\u30d7\u3057\u307e\u3059\u3002</p> <p>\u30b9\u30ad\u30c3\u30d7\u30ea\u30b9\u30c8\u3092 <code>PDM_SKIP_HOOKS</code> \u74b0\u5883\u5909\u6570\u306b\u63d0\u4f9b\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u304c\u3001<code>--skip</code> \u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u6307\u5b9a\u3055\u308c\u308b\u3068\u4e0a\u66f8\u304d\u3055\u308c\u307e\u3059\u3002</p> <p>\u30d5\u30c3\u30af\u3068\u30d7\u30ec/\u30dd\u30b9\u30c8\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u52d5\u4f5c\u306b\u95a2\u3059\u308b\u8a73\u7d30\u306f\u5c02\u7528\u306e\u30d5\u30c3\u30af\u30da\u30fc\u30b8 \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"usage/template/","title":"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304b\u3089\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3059\u308b","text":"<p><code>yarn create</code> \u3084 <code>npm create</code> \u3068\u540c\u69d8\u306b\u3001PDM \u3082\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304b\u3089\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u521d\u671f\u5316\u307e\u305f\u306f\u4f5c\u6210\u3059\u308b\u3053\u3068\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002 \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306f <code>pdm init</code> \u306e\u4f4d\u7f6e\u5f15\u6570\u3068\u3057\u3066\u6b21\u306e\u5f62\u5f0f\u306e\u3044\u305a\u308c\u304b\u3067\u6307\u5b9a\u3055\u308c\u307e\u3059:</p> <ul> <li><code>pdm init django</code> - \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8 <code>https://github.com/pdm-project/template-django</code> \u304b\u3089\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u521d\u671f\u5316\u3057\u307e\u3059</li> <li><code>pdm init https://github.com/frostming/pdm-template-django</code> - Git URL \u304b\u3089\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u521d\u671f\u5316\u3057\u307e\u3059\u3002HTTPS \u304a\u3088\u3073 SSH URL \u306e\u4e21\u65b9\u304c\u8a31\u53ef\u3055\u308c\u307e\u3059\u3002</li> <li><code>pdm init django@v2</code> - \u7279\u5b9a\u306e\u30d6\u30e9\u30f3\u30c1\u307e\u305f\u306f\u30bf\u30b0\u3092\u30c1\u30a7\u30c3\u30af\u30a2\u30a6\u30c8\u3057\u307e\u3059\u3002\u5b8c\u5168\u306a Git URL \u3082\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u3059\u3002</li> <li><code>pdm init /path/to/template</code> - \u30ed\u30fc\u30ab\u30eb\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u4e0a\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304b\u3089\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u521d\u671f\u5316\u3057\u307e\u3059\u3002</li> <li><code>pdm init minimal</code> - \u7d44\u307f\u8fbc\u307f\u306e \"minimal\" \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3067\u521d\u671f\u5316\u3057\u3001<code>pyproject.toml</code> \u306e\u307f\u3092\u751f\u6210\u3057\u307e\u3059\u3002</li> </ul> <p>\u305d\u3057\u3066 <code>pdm init</code> \u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u7d44\u307f\u8fbc\u307f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002</p> <p>\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306f\u73fe\u5728\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u521d\u671f\u5316\u3055\u308c\u3001\u540c\u3058\u540d\u524d\u306e\u65e2\u5b58\u306e\u30d5\u30a1\u30a4\u30eb\u306f\u4e0a\u66f8\u304d\u3055\u308c\u307e\u3059\u3002\u65b0\u3057\u3044\u30d1\u30b9\u3067\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3059\u308b\u306b\u306f\u3001<code>-p &lt;path&gt;</code> \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"usage/template/#_2","title":"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306b\u8ca2\u732e\u3059\u308b","text":"<p>\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5f15\u6570\u306e\u6700\u521d\u306e\u5f62\u5f0f\u306b\u5f93\u3063\u3066\u3001<code>pdm init &lt;name&gt;</code> \u306f <code>https://github.com/pdm-project/template-&lt;name&gt;</code> \u306b\u3042\u308b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u53c2\u7167\u3057\u307e\u3059\u3002\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306b\u8ca2\u732e\u3059\u308b\u306b\u306f\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3001\u6240\u6709\u6a29\u3092 <code>pdm-project</code> \u7d44\u7e54\u306b\u79fb\u7ba1\u3059\u308b\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u78ba\u7acb\u3057\u307e\u3059\uff08\u30ea\u30dd\u30b8\u30c8\u30ea\u8a2d\u5b9a\u30da\u30fc\u30b8\u306e\u4e0b\u90e8\u306b\u3042\u308a\u307e\u3059\uff09\u3002\u7d44\u7e54\u306e\u7ba1\u7406\u8005\u304c\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u30ec\u30d3\u30e5\u30fc\u3057\u3001\u5f8c\u7d9a\u306e\u624b\u9806\u3092\u5b8c\u4e86\u3057\u307e\u3059\u3002\u79fb\u7ba1\u304c\u53d7\u3051\u5165\u308c\u3089\u308c\u305f\u5834\u5408\u3001\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u30e1\u30f3\u30c6\u30ca\u30fc\u3068\u3057\u3066\u8ffd\u52a0\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"usage/template/#_3","title":"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u8981\u4ef6","text":"<p>\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30ea\u30dd\u30b8\u30c8\u30ea\u306f\u3001PEP-621 \u6e96\u62e0\u306e\u30e1\u30bf\u30c7\u30fc\u30bf\u3092\u542b\u3080 <code>pyproject.toml</code> \u30d5\u30a1\u30a4\u30eb\u3092\u6301\u3064 pyproject \u30d9\u30fc\u30b9\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u4ed6\u306e\u7279\u5225\u306a\u69cb\u6210\u30d5\u30a1\u30a4\u30eb\u306f\u5fc5\u8981\u3042\u308a\u307e\u305b\u3093\u3002</p>"},{"location":"usage/template/#_4","title":"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\u306e\u7f6e\u63db","text":"<p>\u521d\u671f\u5316\u6642\u306b\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5185\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\u306f\u65b0\u3057\u3044\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u540d\u524d\u306b\u7f6e\u304d\u63db\u3048\u3089\u308c\u307e\u3059\u3002\u3053\u308c\u306f\u518d\u5e30\u7684\u306a\u5168\u6587\u691c\u7d22\u3068\u7f6e\u63db\u306b\u3088\u3063\u3066\u884c\u308f\u308c\u307e\u3059\u3002\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\u304b\u3089\u3059\u3079\u3066\u306e\u82f1\u6570\u5b57\u4ee5\u5916\u306e\u6587\u5b57\u3092\u30a2\u30f3\u30c0\u30fc\u30b9\u30b3\u30a2\u306b\u7f6e\u304d\u63db\u3048\u3001\u5c0f\u6587\u5b57\u306b\u5909\u63db\u3057\u305f\u30a4\u30f3\u30dd\u30fc\u30c8\u540d\u3082\u540c\u69d8\u306b\u7f6e\u304d\u63db\u3048\u3089\u308c\u307e\u3059\u3002</p> <p>\u305f\u3068\u3048\u3070\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5185\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\u304c <code>foo-project</code> \u3067\u3001\u65b0\u3057\u3044\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\u3092 <code>bar-project</code> \u306b\u3057\u305f\u3044\u5834\u5408\u3001\u6b21\u306e\u7f6e\u63db\u304c\u884c\u308f\u308c\u307e\u3059:</p> <ul> <li>\u3059\u3079\u3066\u306e <code>.md</code> \u30d5\u30a1\u30a4\u30eb\u304a\u3088\u3073 <code>.rst</code> \u30d5\u30a1\u30a4\u30eb\u5185\u306e <code>foo-project</code> -&gt; <code>bar-project</code></li> <li>\u3059\u3079\u3066\u306e <code>.py</code> \u30d5\u30a1\u30a4\u30eb\u5185\u306e <code>foo_project</code> -&gt; <code>bar_project</code></li> <li>\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u540d\u5185\u306e <code>foo_project</code> -&gt; <code>bar_project</code></li> <li>\u30d5\u30a1\u30a4\u30eb\u540d\u5185\u306e <code>foo_project.py</code> -&gt; <code>bar_project.py</code></li> </ul> <p>\u3057\u305f\u304c\u3063\u3066\u3001\u30a4\u30f3\u30dd\u30fc\u30c8\u540d\u304c\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\u304b\u3089\u6d3e\u751f\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u3001\u540d\u524d\u306e\u7f6e\u63db\u306f\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u307e\u305b\u3093\u3002</p>"},{"location":"usage/template/#_5","title":"\u4ed6\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u30fc\u3092\u4f7f\u7528\u3059\u308b","text":"<p>\u3088\u308a\u5f37\u529b\u306a\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u30fc\u3092\u63a2\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001<code>--cookiecutter</code> \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u3066 cookiecutter \u3092\u3001<code>--copier</code> \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u3066 copier \u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002</p> <p>\u305d\u308c\u305e\u308c\u3092\u4f7f\u7528\u3059\u308b\u306b\u306f <code>cookiecutter</code> \u304a\u3088\u3073 <code>copier</code> \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u3092\u884c\u3046\u306b\u306f\u3001<code>pdm self add &lt;package&gt;</code> \u3092\u5b9f\u884c\u3057\u307e\u3059\u3002 \u4f7f\u7528\u3059\u308b\u306b\u306f:</p> <pre><code>pdm init --cookiecutter gh:cjolowicz/cookiecutter-hypermodern-python\n# \u307e\u305f\u306f\npdm init --copier gh:pawamoy/copier-pdm --UNSAFE\n</code></pre>"},{"location":"usage/uv/","title":"uv \u3092\u4f7f\u7528\u3059\u308b (\u5b9f\u9a13\u7684)","text":"<p>Added in version 2.19.0</p> <p>PDM \u306f\u3001\u30ea\u30be\u30eb\u30d0\u304a\u3088\u3073\u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u3068\u3057\u3066 uv \u3092\u5b9f\u9a13\u7684\u306b\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\u6709\u52b9\u306b\u3059\u308b\u306b\u306f:</p> <pre><code>pdm config use_uv true\n</code></pre> <p>PDM \u306f\u30b7\u30b9\u30c6\u30e0\u4e0a\u306e <code>uv</code> \u30d0\u30a4\u30ca\u30ea\u3092\u81ea\u52d5\u7684\u306b\u691c\u51fa\u3057\u307e\u3059\u3002\u6700\u521d\u306b <code>uv</code> \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3001uv \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30ac\u30a4\u30c9 \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"usage/uv/#uv-python","title":"uv \u306e Python \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u518d\u5229\u7528\u3059\u308b","text":"<p>uv \u306f Python \u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u30fc\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3082\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9\u3092\u907f\u3051\u308b\u305f\u3081\u306b\u3001PDM \u3092\u69cb\u6210\u3057\u3066 uv \u306e Python \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u518d\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059:</p> <pre><code>pdm config python.install_root $(uv python dir)\n</code></pre>"},{"location":"usage/uv/#_1","title":"\u5236\u9650\u4e8b\u9805","text":"<p>uv \u306b\u3088\u308b\u5927\u5e45\u306a\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u5411\u4e0a\u306b\u3082\u304b\u304b\u308f\u3089\u305a\u3001\u6b21\u306e\u5236\u9650\u4e8b\u9805\u306b\u6ce8\u610f\u3059\u308b\u3053\u3068\u304c\u91cd\u8981\u3067\u3059:</p> <ul> <li>\u30ad\u30e3\u30c3\u30b7\u30e5\u30d5\u30a1\u30a4\u30eb\u306f uv \u72ec\u81ea\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u4fdd\u5b58\u3055\u308c\u3001\u7ba1\u7406\u3059\u308b\u306b\u306f <code>uv</code> \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</li> <li>PEP 582 \u30ed\u30fc\u30ab\u30eb\u30d1\u30c3\u30b1\u30fc\u30b8\u30ec\u30a4\u30a2\u30a6\u30c8\u306f\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002</li> <li><code>inherit_metadata</code> \u30ed\u30c3\u30af\u6226\u7565\u306f uv \u3067\u306f\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u306b\u66f8\u304d\u8fbc\u3080\u969b\u306b\u7121\u8996\u3055\u308c\u307e\u3059\u3002</li> <li><code>all</code> \u304a\u3088\u3073 <code>reuse</code> \u4ee5\u5916\u306e\u66f4\u65b0\u6226\u7565\u306f\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002</li> <li>\u7de8\u96c6\u53ef\u80fd\u306a\u8981\u4ef6\u306f\u30ed\u30fc\u30ab\u30eb\u30d1\u30b9\u3067\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002<code>-e git+&lt;git_url&gt;</code> \u306e\u3088\u3046\u306a\u8981\u4ef6\u306f\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002</li> <li><code>[tool.pdm.resolution]</code> \u306e\u4e0b\u306e <code>overrides</code> \u304a\u3088\u3073 <code>excludes</code> \u8a2d\u5b9a\u306f\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002</li> </ul>"},{"location":"usage/venv/","title":"\u4eee\u60f3\u74b0\u5883\u3092\u4f7f\u7528\u3059\u308b","text":"<p><code>pdm init</code> \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001PDM \u306f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u4f7f\u7528\u3059\u308b Python \u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u30fc\u3092\u9078\u629e\u3059\u308b \u3088\u3046\u306b\u6c42\u3081\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u4f9d\u5b58\u95a2\u4fc2\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3001\u30bf\u30b9\u30af\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306e\u57fa\u672c\u7684\u306a\u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u30fc\u3067\u3059\u3002</p> <p>PEP 582 \u3068\u6bd4\u8f03\u3057\u3066\u3001\u4eee\u60f3\u74b0\u5883\u306f\u3088\u308a\u6210\u719f\u3057\u3066\u304a\u308a\u3001Python \u30a8\u30b3\u30b7\u30b9\u30c6\u30e0\u3084 IDE \u3067\u306e\u30b5\u30dd\u30fc\u30c8\u304c\u512a\u308c\u3066\u3044\u307e\u3059\u3002\u3057\u305f\u304c\u3063\u3066\u3001\u7279\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044\u9650\u308a\u3001\u4eee\u60f3\u74b0\u5883\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\u30e2\u30fc\u30c9\u3067\u3059\u3002</p> <p>pdm \u3092\u69cb\u6210\u3057\u3066\u4eee\u60f3\u74b0\u5883\u307e\u305f\u306f PEP 582 \u3092\u4f7f\u7528\u3059\u308b</p> <p>\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001pdm \u306f PEP 582 \u306e\u4ee3\u308f\u308a\u306b\u4eee\u60f3\u74b0\u5883\u3092\u4f7f\u7528\u3059\u308b\u3088\u3046\u306b\u69cb\u6210\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u3053\u306e\u52d5\u4f5c\u306f <code>pdm config python.use_venv False</code> \u69cb\u6210\u5909\u6570\u3067\u5909\u66f4\u3067\u304d\u307e\u3059\u3002</p> <p>\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u30fc\uff08<code>.pdm-python</code> \u306b\u4fdd\u5b58\u3055\u308c\u3001<code>pdm info</code> \u3067\u78ba\u8a8d\u3067\u304d\u308b\u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u30fc\uff09\u304c\u4eee\u60f3\u74b0\u5883\u304b\u3089\u306e\u3082\u306e\u3067\u3042\u308b\u5834\u5408\u3001\u4eee\u60f3\u74b0\u5883\u304c\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"usage/venv/#_2","title":"\u4eee\u60f3\u74b0\u5883\u306e\u81ea\u52d5\u4f5c\u6210","text":"<p>\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001PDM \u306f\u4ed6\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u3068\u540c\u69d8\u306b\u4eee\u60f3\u74b0\u5883\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3092\u597d\u307f\u307e\u3059\u3002PDM \u304c\u307e\u3060 Python \u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u30fc\u3092\u6c7a\u5b9a\u3057\u3066\u3044\u306a\u3044\u65b0\u3057\u3044 PDM \u7ba1\u7406\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u6700\u521d\u306b <code>pdm install</code> \u3092\u5b9f\u884c\u3059\u308b\u3068\u3001PDM \u306f <code>&lt;project_root&gt;/.venv</code> \u306b\u4eee\u60f3\u74b0\u5883\u3092\u4f5c\u6210\u3057\u3001\u4f9d\u5b58\u95a2\u4fc2\u3092\u305d\u3053\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002<code>pdm init</code> \u306e\u5bfe\u8a71\u578b\u30bb\u30c3\u30b7\u30e7\u30f3\u3067\u3082\u3001PDM \u306f\u4eee\u60f3\u74b0\u5883\u3092\u4f5c\u6210\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u5c0b\u306d\u307e\u3059\u3002</p> <p>PDM \u304c\u4eee\u60f3\u74b0\u5883\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3059\u308b\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3092\u9078\u629e\u3067\u304d\u307e\u3059\u3002\u73fe\u5728\u30013 \u3064\u306e\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u304c\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u3059:</p> <ul> <li><code>virtualenv</code>\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\uff09</li> <li><code>venv</code></li> <li><code>conda</code></li> </ul> <p><code>pdm config venv.backend [virtualenv|venv|conda]</code> \u3067\u5909\u66f4\u3067\u304d\u307e\u3059\u3002</p> <p>Added in version 2.13.0</p> <p>\u3055\u3089\u306b\u3001<code>python.use_venv</code> \u69cb\u6210\u304c <code>true</code> \u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001PDM \u306f Python \u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u30fc\u3092\u5207\u308a\u66ff\u3048\u308b\u305f\u3081\u306b <code>pdm use</code> \u3092\u4f7f\u7528\u3059\u308b\u969b\u306b\u5e38\u306b\u4eee\u60f3\u74b0\u5883\u3092\u4f5c\u6210\u3057\u3088\u3046\u3068\u3057\u307e\u3059\u3002</p>"},{"location":"usage/venv/#_3","title":"\u81ea\u5206\u3067\u4eee\u60f3\u74b0\u5883\u3092\u4f5c\u6210\u3059\u308b","text":"<p>\u4efb\u610f\u306e Python \u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u8907\u6570\u306e\u4eee\u60f3\u74b0\u5883\u3092\u4f5c\u6210\u3067\u304d\u307e\u3059\u3002</p> <pre><code># 3.8 \u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u30fc\u306b\u57fa\u3065\u3044\u3066\u4eee\u60f3\u74b0\u5883\u3092\u4f5c\u6210\u3059\u308b\npdm venv create 3.8\n# \u30d0\u30fc\u30b8\u30e7\u30f3\u6587\u5b57\u5217\u4ee5\u5916\u306e\u540d\u524d\u3092\u5272\u308a\u5f53\u3066\u308b\npdm venv create --name for-test 3.8\n# venv \u3092\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3068\u3057\u3066\u4f7f\u7528\u3057\u3066\u4f5c\u6210\u3059\u308b\u30023 \u3064\u306e\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3092\u30b5\u30dd\u30fc\u30c8: virtualenv\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\uff09\u3001venv\u3001conda\npdm venv create --with venv 3.9\n</code></pre>"},{"location":"usage/venv/#_4","title":"\u4eee\u60f3\u74b0\u5883\u306e\u5834\u6240","text":"<p><code>--name</code> \u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u3001PDM \u306f <code>&lt;project_root&gt;/.venv</code> \u306b\u4eee\u60f3\u74b0\u5883\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u305d\u308c\u4ee5\u5916\u306e\u5834\u5408\u3001\u4eee\u60f3\u74b0\u5883\u306f <code>venv.location</code> \u69cb\u6210\u3067\u6307\u5b9a\u3055\u308c\u305f\u5834\u6240\u306b\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002 \u540d\u524d\u306e\u885d\u7a81\u3092\u907f\u3051\u308b\u305f\u3081\u306b\u3001<code>&lt;project_name&gt;-&lt;path_hash&gt;-&lt;name_or_python_version&gt;</code> \u3068\u3044\u3046\u540d\u524d\u304c\u4ed8\u3051\u3089\u308c\u307e\u3059\u3002 <code>pdm config venv.in_project false</code> \u3067\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u5185\u306e\u4eee\u60f3\u74b0\u5883\u306e\u4f5c\u6210\u3092\u7121\u52b9\u306b\u3067\u304d\u307e\u3059\u3002\u3059\u3079\u3066\u306e\u4eee\u60f3\u74b0\u5883\u306f <code>venv.location</code> \u306b\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"usage/venv/#_5","title":"\u4ed6\u306e\u5834\u6240\u3067\u4f5c\u6210\u3057\u305f\u4eee\u60f3\u74b0\u5883\u3092\u518d\u5229\u7528\u3059\u308b","text":"<p>\u524d\u306e\u624b\u9806\u3067\u4f5c\u6210\u3057\u305f\u4eee\u60f3\u74b0\u5883\u3092 PDM \u306b\u4f7f\u7528\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002<code>pdm use</code> \u3092\u4f7f\u7528\u3057\u307e\u3059:</p> <pre><code>pdm use -f /path/to/venv\n</code></pre>"},{"location":"usage/venv/#_6","title":"\u4eee\u60f3\u74b0\u5883\u306e\u81ea\u52d5\u691c\u51fa","text":"<p>\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u69cb\u6210\u306b\u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u30fc\u304c\u4fdd\u5b58\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u3001\u307e\u305f\u306f <code>PDM_IGNORE_SAVED_PYTHON</code> \u74b0\u5883\u5909\u6570\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001PDM \u306f\u4f7f\u7528\u53ef\u80fd\u306a\u4eee\u60f3\u74b0\u5883\u3092\u691c\u51fa\u3057\u3088\u3046\u3068\u3057\u307e\u3059:</p> <ul> <li>\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30eb\u30fc\u30c8\u306e <code>venv</code>\u3001<code>env</code>\u3001<code>.venv</code> \u30c7\u30a3\u30ec\u30af\u30c8\u30ea</li> <li>\u73fe\u5728\u30a2\u30af\u30c6\u30a3\u30d6\u306a\u4eee\u60f3\u74b0\u5883\uff08<code>PDM_IGNORE_ACTIVE_VENV</code> \u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\uff09</li> </ul>"},{"location":"usage/venv/#_7","title":"\u3053\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u4f5c\u6210\u3055\u308c\u305f\u3059\u3079\u3066\u306e\u4eee\u60f3\u74b0\u5883\u3092\u4e00\u89a7\u8868\u793a\u3059\u308b","text":"<pre><code>$ pdm venv list\n\u3053\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u4f5c\u6210\u3055\u308c\u305f\u4eee\u60f3\u74b0\u5883:\n\n-  3.8.6: C:\\Users\\Frost Ming\\AppData\\Local\\pdm\\pdm\\venvs\\test-project-8Sgn_62n-3.8.6\n-  for-test: C:\\Users\\Frost Ming\\AppData\\Local\\pdm\\pdm\\venvs\\test-project-8Sgn_62n-for-test\n-  3.9.1: C:\\Users\\Frost Ming\\AppData\\Local\\pdm\\pdm\\venvs\\test-project-8Sgn_62n-3.9.1\n</code></pre>"},{"location":"usage/venv/#python","title":"\u4eee\u60f3\u74b0\u5883\u306e\u30d1\u30b9\u307e\u305f\u306f Python \u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u30fc\u3092\u8868\u793a\u3059\u308b","text":"<pre><code>pdm venv --path for-test\npdm venv --python for-test\n</code></pre>"},{"location":"usage/venv/#_8","title":"\u4eee\u60f3\u74b0\u5883\u3092\u524a\u9664\u3059\u308b","text":"<pre><code>$ pdm venv remove for-test\n\u3053\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u4f5c\u6210\u3055\u308c\u305f\u4eee\u60f3\u74b0\u5883:\n\u524a\u9664\u3055\u308c\u307e\u3059: C:\\Users\\Frost Ming\\AppData\\Local\\pdm\\pdm\\venvs\\test-project-8Sgn_62n-for-test, \u7d9a\u884c\u3057\u307e\u3059\u304b\uff1f [y/N]:y\n\u524a\u9664\u3055\u308c\u307e\u3057\u305f C:\\Users\\Frost Ming\\AppData\\Local\\pdm\\pdm\\venvs\\test-project-8Sgn_62n-for-test\n</code></pre>"},{"location":"usage/venv/#_9","title":"\u4eee\u60f3\u74b0\u5883\u3092\u30a2\u30af\u30c6\u30a3\u30d6\u306b\u3059\u308b","text":"<p><code>pipenv</code> \u3084 <code>poetry</code> \u304c\u884c\u3046\u3088\u3046\u306b\u30b5\u30d6\u30b7\u30a7\u30eb\u3092\u751f\u6210\u3059\u308b\u4ee3\u308f\u308a\u306b\u3001<code>pdm venv</code> \u306f\u30b7\u30a7\u30eb\u3092\u4f5c\u6210\u305b\u305a\u3001\u30a2\u30af\u30c6\u30a3\u30d9\u30fc\u30c8\u30b3\u30de\u30f3\u30c9\u3092\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u8868\u793a\u3057\u307e\u3059\u3002\u3053\u306e\u65b9\u6cd5\u3067\u306f\u3001\u73fe\u5728\u306e\u30b7\u30a7\u30eb\u3092\u96e2\u308c\u308b\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u6b21\u306b\u3001\u51fa\u529b\u3092 <code>eval</code> \u306b\u6e21\u3057\u3066\u4eee\u60f3\u74b0\u5883\u3092\u30a2\u30af\u30c6\u30a3\u30d6\u306b\u3067\u304d\u307e\u3059:</p> bash/csh/zshFishPowershell <pre><code>$ eval $(pdm venv activate for-test)\n(test-project-for-test) $  # \u4eee\u60f3\u74b0\u5883\u306b\u5165\u308a\u307e\u3057\u305f\n</code></pre> <pre><code>$ eval (pdm venv activate for-test)\n</code></pre> <pre><code>PS1&gt; Invoke-Expression (pdm venv activate for-test)\n</code></pre> <p>\u3055\u3089\u306b\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u30fc\u304c venv Python \u3067\u3042\u308b\u5834\u5408\u3001\u30a2\u30af\u30c6\u30a3\u30d9\u30fc\u30c8\u306e\u5f8c\u306b\u540d\u524d\u5f15\u6570\u3092\u7701\u7565\u3067\u304d\u307e\u3059\u3002</p> <p>Note</p> <p><code>venv activate</code> \u306f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u4f7f\u7528\u3055\u308c\u308b Python \u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u30fc\u3092\u5207\u308a\u66ff\u3048 \u307e\u305b\u3093\u3002\u74b0\u5883\u5909\u6570\u306b\u4eee\u60f3\u74b0\u5883\u30d1\u30b9\u3092\u6ce8\u5165\u3059\u308b\u3053\u3068\u3067\u30b7\u30a7\u30eb\u3092\u5909\u66f4\u3059\u308b\u3060\u3051\u3067\u3059\u3002\u524d\u8ff0\u306e\u76ee\u7684\u306e\u305f\u3081\u306b\u306f\u3001<code>pdm use</code> \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>\u8a73\u7d30\u306a CLI \u306e\u4f7f\u7528\u65b9\u6cd5\u306b\u3064\u3044\u3066\u306f\u3001<code>pdm venv</code> \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p><code>pdm shell</code> \u3092\u63a2\u3057\u3066\u3044\u307e\u3059\u304b\uff1f</p> <p>PDM \u306f <code>shell</code> \u30b3\u30de\u30f3\u30c9\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u305b\u3093\u3002\u591a\u304f\u306e\u4fbf\u5229\u306a\u30b7\u30a7\u30eb\u6a5f\u80fd\u304c\u30b5\u30d6\u30b7\u30a7\u30eb\u3067\u5b8c\u5168\u306b\u6a5f\u80fd\u3057\u306a\u3044\u53ef\u80fd\u6027\u304c\u3042\u308a\u3001\u3059\u3079\u3066\u306e\u30b3\u30fc\u30ca\u30fc\u30b1\u30fc\u30b9\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u305f\u3081\u306e\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\u8ca0\u62c5\u304c\u751f\u3058\u308b\u305f\u3081\u3067\u3059\u3002\u305f\u3060\u3057\u3001\u6b21\u306e\u65b9\u6cd5\u3067\u3053\u306e\u6a5f\u80fd\u3092\u5229\u7528\u3067\u304d\u307e\u3059:</p> <ul> <li><code>pdm run $SHELL</code> \u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u74b0\u5883\u5909\u6570\u304c\u9069\u5207\u306b\u8a2d\u5b9a\u3055\u308c\u305f\u30b5\u30d6\u30b7\u30a7\u30eb\u304c\u751f\u6210\u3055\u308c\u307e\u3059\u3002\u30b5\u30d6\u30b7\u30a7\u30eb\u306f <code>exit</code> \u307e\u305f\u306f <code>Ctrl+D</code> \u3067\u7d42\u4e86\u3067\u304d\u307e\u3059\u3002</li> <li>\u4eee\u60f3\u74b0\u5883\u3092\u30a2\u30af\u30c6\u30a3\u30d6\u306b\u3059\u308b\u30b7\u30a7\u30eb\u95a2\u6570\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\u4ee5\u4e0b\u306f BASH \u95a2\u6570\u306e\u4f8b\u3067\u3001ZSH \u3067\u3082\u52d5\u4f5c\u3057\u307e\u3059:</li> </ul> <pre><code>pdm() {\n  local command=$1\n\n  if [[ \"$command\" == \"shell\" ]]; then\n      eval $(pdm venv activate)\n  else\n      command pdm $@\n  fi\n}\n</code></pre> <p>\u3053\u306e\u95a2\u6570\u3092 <code>~/.bashrc</code> \u30d5\u30a1\u30a4\u30eb\u306b\u30b3\u30d4\u30fc\u3057\u3066\u8cbc\u308a\u4ed8\u3051\u3001\u30b7\u30a7\u30eb\u3092\u518d\u8d77\u52d5\u3057\u307e\u3059\u3002</p> <p><code>fish</code> \u30b7\u30a7\u30eb\u306e\u5834\u5408\u3001\u6b21\u306e\u5185\u5bb9\u3092 <code>~/fish/config.fish</code> \u307e\u305f\u306f <code>~/.config/fish/config.fish</code> \u306b\u8ffd\u52a0\u3067\u304d\u307e\u3059:</p> <pre><code>  function pdm\n      set cmd $argv[1]\n\n      if test \"$cmd\" = \"shell\"\n          eval (pdm venv activate)\n      else\n          command pdm $argv\n      end\n  end\n</code></pre> <p>\u3053\u308c\u3067 <code>pdm shell</code> \u3092\u5b9f\u884c\u3057\u3066\u4eee\u60f3\u74b0\u5883\u3092\u30a2\u30af\u30c6\u30a3\u30d6\u306b\u3067\u304d\u307e\u3059\u3002   \u4eee\u60f3\u74b0\u5883\u306f\u901a\u5e38\u306e <code>deactivate</code> \u30b3\u30de\u30f3\u30c9\u3067\u975e\u30a2\u30af\u30c6\u30a3\u30d6\u5316\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"usage/venv/#_10","title":"\u30d7\u30ed\u30f3\u30d7\u30c8\u306e\u30ab\u30b9\u30bf\u30de\u30a4\u30ba","text":"<p>\u4eee\u60f3\u74b0\u5883\u3092\u30a2\u30af\u30c6\u30a3\u30d6\u306b\u3059\u308b\u3068\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u30d7\u30ed\u30f3\u30d7\u30c8\u306b <code>{project_name}-{python_version}</code> \u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002</p> <p>\u305f\u3068\u3048\u3070\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\u304c <code>test-project</code> \u306e\u5834\u5408:</p> <pre><code>$ eval $(pdm venv activate for-test)\n(test-project-3.10) $  # {project_name} == test-project \u304a\u3088\u3073 {python_version} == 3.10\n</code></pre> <p>\u4eee\u60f3\u74b0\u5883\u306e\u4f5c\u6210\u524d\u306b <code>venv.prompt</code> \u69cb\u6210\u307e\u305f\u306f <code>PDM_VENV_PROMPT</code> \u74b0\u5883\u5909\u6570\u3067\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3067\u304d\u307e\u3059\uff08<code>pdm init</code> \u307e\u305f\u306f <code>pdm venv create</code> \u306e\u524d\u306b\uff09\u3002 \u5229\u7528\u53ef\u80fd\u306a\u5909\u6570\u306f\u6b21\u306e\u3068\u304a\u308a\u3067\u3059:</p> <ul> <li><code>project_name</code>: \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u540d\u524d</li> <li><code>python_version</code>: Python \u306e\u30d0\u30fc\u30b8\u30e7\u30f3\uff08\u4eee\u60f3\u74b0\u5883\u3067\u4f7f\u7528\u3055\u308c\u308b\uff09</li> </ul> <pre><code>$ PDM_VENV_PROMPT='{project_name}-py{python_version}' pdm venv create --name test-prompt\n$ eval $(pdm venv activate test-prompt)\n(test-project-py3.10) $\n</code></pre>"},{"location":"usage/venv/#_11","title":"\u4eee\u60f3\u74b0\u5883\u3092\u30a2\u30af\u30c6\u30a3\u30d6\u306b\u305b\u305a\u306b\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b","text":"<pre><code># \u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3059\u308b\npdm run --venv test test\n# \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\npdm sync --venv test\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u4e00\u89a7\u8868\u793a\u3059\u308b\npdm list --venv test\n</code></pre> <p><code>--venv</code> \u30d5\u30e9\u30b0\u307e\u305f\u306f <code>PDM_IN_VENV</code> \u74b0\u5883\u5909\u6570\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u4ed6\u306e\u30b3\u30de\u30f3\u30c9\u3082\u3042\u308a\u307e\u3059\u3002\u8a73\u7d30\u306f CLI \u30ea\u30d5\u30a1\u30ec\u30f3\u30b9 \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3053\u306e\u6a5f\u80fd\u3092\u4f7f\u7528\u3059\u308b\u524d\u306b\u3001<code>pdm venv create --name &lt;name&gt;</code> \u3067\u4eee\u60f3\u74b0\u5883\u3092\u4f5c\u6210\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"usage/venv/#_12","title":"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u74b0\u5883\u3068\u3057\u3066\u4eee\u60f3\u74b0\u5883\u306b\u5207\u308a\u66ff\u3048\u308b","text":"<p>\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001<code>pdm use</code> \u3092\u4f7f\u7528\u3057\u3066\u975e venv Python \u3092\u9078\u629e\u3059\u308b\u3068\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306f PEP 582 \u30e2\u30fc\u30c9 \u306b\u5207\u308a\u66ff\u308f\u308a\u307e\u3059\u3002<code>--venv</code> \u30d5\u30e9\u30b0\u3092\u4f7f\u7528\u3057\u3066\u540d\u524d\u4ed8\u304d\u4eee\u60f3\u74b0\u5883\u306b\u5207\u308a\u66ff\u3048\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059:</p> <pre><code># test \u3068\u3044\u3046\u540d\u524d\u306e\u4eee\u60f3\u74b0\u5883\u306b\u5207\u308a\u66ff\u3048\u308b\n$ pdm use --venv test\n# $PROJECT_ROOT/.venv \u306b\u3042\u308b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u5185\u306e venv \u306b\u5207\u308a\u66ff\u3048\u308b\n$ pdm use --venv in-project\n</code></pre>"},{"location":"usage/venv/#_13","title":"\u4eee\u60f3\u74b0\u5883\u30e2\u30fc\u30c9\u3092\u7121\u52b9\u306b\u3059\u308b","text":"<p><code>pdm config python.use_venv false</code> \u3067\u4eee\u60f3\u74b0\u5883\u306e\u81ea\u52d5\u4f5c\u6210\u3068\u81ea\u52d5\u691c\u51fa\u3092\u7121\u52b9\u306b\u3067\u304d\u307e\u3059\u3002 venv \u304c\u7121\u52b9\u306b\u306a\u3063\u3066\u3044\u308b\u5834\u5408\u3001\u9078\u629e\u3055\u308c\u305f\u30a4\u30f3\u30bf\u30fc\u30d7\u30ea\u30bf\u30fc\u304c\u4eee\u60f3\u74b0\u5883\u304b\u3089\u306e\u3082\u306e\u3067\u3042\u3063\u3066\u3082\u3001PEP 582 \u30e2\u30fc\u30c9\u304c\u5e38\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"usage/venv/#pip","title":"\u4eee\u60f3\u74b0\u5883\u306b pip \u3092\u542b\u3081\u308b","text":"<p>\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001PDM \u306f\u4eee\u60f3\u74b0\u5883\u306b <code>pip</code> \u3092\u542b\u3081\u307e\u305b\u3093\u3002 \u3053\u308c\u306b\u3088\u308a\u3001\u4eee\u60f3\u74b0\u5883\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308b\u306e\u306f \u4f9d\u5b58\u95a2\u4fc2\u306e\u307f \u3067\u3042\u308b\u3053\u3068\u304c\u4fdd\u8a3c\u3055\u308c\u3001\u5206\u96e2\u304c\u5f37\u5316\u3055\u308c\u307e\u3059\u3002</p> <p>\u4e00\u5ea6\u3060\u3051 <code>pip</code> \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u306b\u306f\uff08\u305f\u3068\u3048\u3070\u3001CI \u3067\u4efb\u610f\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3044\u5834\u5408\uff09:</p> <pre><code># \u4eee\u60f3\u74b0\u5883\u306b pip \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\npdm run python -m ensurepip\n# \u4efb\u610f\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n# \u3053\u308c\u3089\u306e\u4f9d\u5b58\u95a2\u4fc2\u306f\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u306e\u4f9d\u5b58\u95a2\u4fc2\u3068\u7af6\u5408\u3057\u306a\u3044\u3053\u3068\u304c\u78ba\u8a8d\u3055\u308c\u3066\u3044\u307e\u305b\u3093\uff01\npdm run python -m pip install coverage\n</code></pre> <p>\u307e\u305f\u306f\u3001<code>--with-pip</code> \u3092\u4f7f\u7528\u3057\u3066\u4eee\u60f3\u74b0\u5883\u3092\u4f5c\u6210\u3057\u307e\u3059:</p> <pre><code>pdm venv create --with-pip 3.9\n</code></pre> <p>\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3001ensurepip \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>PDM \u3092\u4eee\u60f3\u74b0\u5883\u306b <code>pip</code> \u3092\u542b\u3081\u308b\u3088\u3046\u306b\u6c38\u7d9a\u7684\u306b\u69cb\u6210\u3059\u308b\u306b\u306f\u3001<code>venv.with_pip</code> \u69cb\u6210\u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002</p>"}]}